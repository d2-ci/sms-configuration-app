(this["webpackJsonp@dhis2/app-shell"]=this["webpackJsonp@dhis2/app-shell"]||[]).push([[132],{190:function(e,a,t){e.exports={container:"App_container__2zgzu",sidebar:"App_sidebar__10tAV",content:"App_content__3I8HS"}},191:function(e,a,t){e.exports={headline:"PageHeadline_headline__1llN5"}},192:function(e,a,t){e.exports={subHeadline:"PageSubHeadline_subHeadline__2c8Kn"}},193:function(e){e.exports=JSON.parse('{"Are you sure you want to cancel? Unsaved changes will be lost":"","Yes, cancel":"","No, stay on page":"","Dataset":"","Confirm deletion":"","Are you sure you want to delete the selected gateways?":"","Auth token":"","Name":"","Password":"","Url template":"","User name":"","Add key value pair":"","Save gateway":"","Add gateway":"","Cancel":"","Gateway setup":"","Key value pairs":"","Key value pairs can be included in the URL. This is some helper text which provides an intro to what the key value pairs actually do.":"","Key":"","Value":"","Send as header":"","Encode":"","Confidential":"","Remove key value pair":"","Type":"","Make default":"","Default gateway":"","Edit":"","BulkSMS":"","Clickatell":"","Generic":"","Program":"","Program stage":"","Are you sure you want to delete the selected commands?":"","Delete":"","Save command":"","Something went wrong whilst submitting the form":"","Something went wrong whilst loading the sms command":"","Something went wrong whilst loading the command\'s details":"","SMS short codes":"","Add special character":"","Required values notice":"","Completeness method":"","Confirm message":"","Reply message if no codes are sent (only the command)":"","More than one orgunit message":"","No user message":"","Parser":"","Field separator":"","Special character name":"","Special character value":"","Remove":"","Success message":"","Use current period for reporting":"","Wrong format message":"","default":"","Loading formula":"","Formula":"","Edit formula":"","Add formula":"","Formula for {{combo}}":"","Data element":"","formula operator":"","Something went wrong whilst saving":"","Save":"","Receive all data value":"","Receive at least one data value":"","Do not mark as complete":"","Key value parser":"","J2ME parser":"","Alert parser":"","Unregistered parser":"","Tracked entity registration parser":"","Program stage data entry parser":"","Event registration parser":"","Duplicate value!":"","Special characters":"","Usergroup":"","Something went wrong whilst loading gateways":"","Edit gateway":"","Something went wrong whilst saving gateways":"","Gateway not found":"","The requested gateway could not be loaded":"","Something went wrong whilst saving the gateway":"","Something went wrong whilst performing the requested operation":"","An SMS gateway lets a DHIS2 instance send and receive SMS messages. Different gateway types can be added and configured below. At least one gateway is needed to send and receive SMS messages. Load balancing will use all gateways if there are multiple available. Read about gateway configuration in the DHIS2 documentation.":"","Delete selected":"","No gateways found":"","It looks like there aren\'t any configured gateways, or they couldn\'t be loaded.":"","Filter by status":"","Filter by phone number":"","Filter":"","Show":"","per page":"","Viewing {{firstItem}}-{{lastItem}} of {{total}}":"","Previous":"","Page":"","of {{pageCount}}":"","Next":"","Something went wrong whilst loading received SMSes":"","Message":"","Phone number":"","Status":"","Sender":"","Date":"","No SMSes to display":"","Unknown":"","Received":"","All":"","Failed":"","Incoming":"","Processed":"","Processing":"","Sent":"","Unhandled":"","Something went wrong whilst loading sent SMSes":"","Recipients":"","Delivered":"","Error":"","Outbound":"","Pending":"","Scheduled":"","Something went wrong whilst loading commands":"","Edit command":"","Unrecognised parser type":"","Could not find the requested parser type":"","Add command":"","Commands":"","SMS commands process SMS messages received by a DHIS2 instance, taking certain actions depending on the command and message content. Multiple SMS commands can be set up to process and handle data in multiple ways. Add and configure SMS commands below. Read about SMS commands in the DHIS2 documentation.":"","Sms command":"","No commands to display":""}')},194:function(e,a,t){e.exports={button:"GatewayAddKeyValuePair_button__3hPEY"}},195:function(e,a,t){e.exports={formRow:"FormRow_formRow__3ALDU"}},196:function(e,a,t){e.exports={paragraph:"Paragraph_paragraph__3yubY"}},197:function(e,a,t){e.exports={container:"GatewayKeyValuePair_container__D-LyM",textInputs:"GatewayKeyValuePair_textInputs__dJAb3",keyInput:"GatewayKeyValuePair_keyInput__2WHV_",valueInput:"GatewayKeyValuePair_valueInput__1uRVv",checkboxGroup:"GatewayKeyValuePair_checkboxGroup__2k2Cu",checkbox:"GatewayKeyValuePair_checkbox__2hg0g"}},198:function(e,a,t){e.exports={container:"GatewayConfigFormEdit_container__1d38w"}},204:function(e,a,t){e.exports={rowActions:"GatewaysTable_rowActions__2fK3j",checkboxCell:"GatewaysTable_checkboxCell__3uvd3",typeCell:"GatewaysTable_typeCell__Qx_fl",editCell:"GatewaysTable_editCell__3mzrM",defaultCell:"GatewaysTable_defaultCell__1huny",makeDefaultButton:"GatewaysTable_makeDefaultButton__3gFiv",isDefaultText:"GatewaysTable_isDefaultText__15qyD"}},205:function(e,a,t){e.exports={container:"GatewayList_container__jCYee",processingMessage:"GatewayList_processingMessage__1RE2H",loadingContainer:"GatewayList_loadingContainer__7veW4"}},206:function(e,a,t){e.exports={container:"GatewayConfigFormNew_container__pJ1_K"}},207:function(e,a,t){e.exports={container:"ListActions_container__2mPW8"}},208:function(e,a,t){e.exports={container:"GatewayConfigList_container__3BZQo",actions:"GatewayConfigList_actions__yMRge"}},209:function(e,a,t){e.exports={container:"Filter_container__zWNRg",inputStrip:"Filter_inputStrip__28I4q"}},210:function(e,a,t){e.exports={container:"Pagination_container__1oOhc",verticalAlign:"Pagination_verticalAlign__2xbtG",select:"Pagination_select__39auA",buttonPrevious:"Pagination_buttonPrevious__SXF81",buttonNext:"Pagination_buttonNext__1HLDE",summary:"Pagination_summary__2dp6R"}},211:function(e,a,t){e.exports={noResults:"SmsTable_noResults__1t04p",originator:"SmsTable_originator__22EFE"}},212:function(e,a,t){e.exports={container:"ReceivedSmsList_container__vRAw_",topBar:"ReceivedSmsList_topBar__2qRs6"}},213:function(e,a,t){e.exports={container:"CommandFormActions_container__1p4Rc"}},214:function(e,a,t){e.exports={formulaInWords:"FieldDataElementWithCategoryOptionComboAddFormulaButton_formulaInWords__1t-9F",formulaInWordsLabel:"FieldDataElementWithCategoryOptionComboAddFormulaButton_formulaInWordsLabel__ZsD-J"}},215:function(e,a,t){e.exports={container:"FieldDataElementWithCategoryOptionCombo_container__2h1m8",field:"FieldDataElementWithCategoryOptionCombo_field__mnPuJ",codeField:"FieldDataElementWithCategoryOptionCombo_codeField__1wHw_"}},216:function(e,a,t){e.exports={formRow:"DataElementTimesCategoryOptionCombos_formRow__TGwSL"}},217:function(e,a,t){e.exports={container:"FieldCommandSpecialCharacter_container__2Vgvs",field:"FieldCommandSpecialCharacter_field__-1mZE",button:"FieldCommandSpecialCharacter_button__2XK2-"}},218:function(e,a,t){e.exports={container:"SmsCommandFormEdit_container__2r8xI"}},219:function(e,a,t){e.exports={container:"SmsCommandFormNew_container__34D_E"}},220:function(e,a,t){e.exports={container:"SmsCommandList_container__2tb7Z",editButtonCell:"SmsCommandList_editButtonCell__1OBCC",checkbox:"SmsCommandList_checkbox__1mJm5",noResults:"SmsCommandList_noResults__j0ImP"}},221:function(e,a,t){e.exports={recipient:"SmsTableItem_recipient__2d7vB"}},222:function(e,a,t){e.exports={container:"Pagination_container__2LAE2",left:"Pagination_left__1ff2z",right:"Pagination_right__2Py4F",amount:"Pagination_amount__19_-8",pageselection:"Pagination_pageselection__27-Pj"}},223:function(e,a,t){e.exports={noResults:"SmsTable_noResults__rTkg-"}},224:function(e,a,t){e.exports={container:"SentSmsList_container__2FUki",header:"SentSmsList_header__3biA5",headerRight:"SentSmsList_headerRight__XinlM"}},225:function(e,a,t){e.exports={item:"NavigationItem_item__3hR7s"}},229:function(e,a,t){"use strict";t.r(a);var n={};t.r(n),t.d(n,"ALL_DATAVALUE",(function(){return Ua})),t.d(n,"AT_LEAST_ONE_DATAVALUE",(function(){return Va})),t.d(n,"DO_NOT_MARK_COMPLETE",(function(){return Ba}));var l={};t.r(l),t.d(l,"KEY_VALUE_PARSER",(function(){return Jt})),t.d(l,"J2ME_PARSER",(function(){return Zt})),t.d(l,"ALERT_PARSER",(function(){return Xt})),t.d(l,"UNREGISTERED_PARSER",(function(){return Qt})),t.d(l,"TRACKED_ENTITY_REGISTRATION_PARSER",(function(){return $t})),t.d(l,"PROGRAM_STAGE_DATAENTRY_PARSER",(function(){return en})),t.d(l,"EVENT_REGISTRATION_PARSER",(function(){return an}));var r={};t.r(r),t.d(r,"CommandsAddSpecialCharacters",(function(){return qa})),t.d(r,"ALL_DATAVALUE",(function(){return Ua})),t.d(r,"AT_LEAST_ONE_DATAVALUE",(function(){return Va})),t.d(r,"DO_NOT_MARK_COMPLETE",(function(){return Ba})),t.d(r,"DataElementTimesCategoryOptionCombos",(function(){return jt})),t.d(r,"FieldCommandCompletenessMethod",(function(){return Gt})),t.d(r,"FieldCommandConfirmMessage",(function(){return qt})),t.d(r,"FieldCommandDefaultMessage",(function(){return Vt})),t.d(r,"FieldCommandMoreThanOneOrgUnitMessage",(function(){return zt})),t.d(r,"FieldCommandName",(function(){return Kt})),t.d(r,"FieldCommandNoUserMessage",(function(){return Yt})),t.d(r,"FieldCommandParser",(function(){return ln})),t.d(r,"FieldCommandSeparator",(function(){return sn})),t.d(r,"FieldCommandSmsCode",(function(){return dn})),t.d(r,"FieldCommandSpecialCharacter",(function(){return bn})),t.d(r,"FieldCommandSuccessMessage",(function(){return yn})),t.d(r,"FieldCommandUseCurrentPeriodForReporting",(function(){return vn})),t.d(r,"FieldCommandWrongFormatMessage",(function(){return wn})),t.d(r,"FieldDataElementWithCategoryOptionCombo",(function(){return Mt})),t.d(r,"FieldDataElementWithCategoryOptionComboFormula",(function(){return St})),t.d(r,"FIELD_COMMAND_COMPLETENESS_METHOD_NAME",(function(){return Ca})),t.d(r,"FIELD_COMMAND_DEFAULT_MESSAGE_NAME",(function(){return _a})),t.d(r,"FIELD_COMMAND_ID_NAME",(function(){return Aa})),t.d(r,"FIELD_COMMAND_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME",(function(){return Oa})),t.d(r,"FIELD_COMMAND_NAME_NAME",(function(){return Na})),t.d(r,"FIELD_COMMAND_NO_USER_MESSAGE_NAME",(function(){return Ta})),t.d(r,"FIELD_COMMAND_PARSER_NAME",(function(){return ka})),t.d(r,"FIELD_COMMAND_PROGAM_NAME",(function(){return Ma})),t.d(r,"FIELD_COMMAND_PROGAM_STAGE_NAME",(function(){return Ra})),t.d(r,"FIELD_COMMAND_SEPARATOR_NAME",(function(){return Da})),t.d(r,"FIELD_COMMAND_SMS_CODES_NAME",(function(){return Ia})),t.d(r,"FIELD_COMMAND_SPECIAL_CHARS_NAME",(function(){return Fa})),t.d(r,"FIELD_COMMAND_SUCCESS_MESSAGE_NAME",(function(){return ja})),t.d(r,"FIELD_COMMAND_USE_CURRENT_PERIOD_FOR_REPORTING_NAME",(function(){return xa})),t.d(r,"FIELD_COMMAND_WRONG_FORMAT_MESSAGE_NAME",(function(){return Pa})),t.d(r,"FIELD_COMMAND_CONFIRM_MESSAGE_NAME",(function(){return Ga})),t.d(r,"KEY_VALUE_PARSER",(function(){return Jt})),t.d(r,"J2ME_PARSER",(function(){return Zt})),t.d(r,"ALERT_PARSER",(function(){return Xt})),t.d(r,"UNREGISTERED_PARSER",(function(){return Qt})),t.d(r,"TRACKED_ENTITY_REGISTRATION_PARSER",(function(){return $t})),t.d(r,"PROGRAM_STAGE_DATAENTRY_PARSER",(function(){return en})),t.d(r,"EVENT_REGISTRATION_PARSER",(function(){return an})),t.d(r,"ProgramStageDataElements",(function(){return _n}));var s=t(175),o=t(174),c=t(173),m=t(1),i=t.n(m),d=t(190),u=t.n(d);const g=Object(m.createContext)({addAlert:()=>{throw new Error("AlertContext has not been initialized yet!")}}),E=(e,a="dhis2-smsconfiguration")=>"".concat(a,"-").concat(e),p=({children:e})=>{const[a,t]=Object(m.useState)([]);return i.a.createElement(g.Provider,{value:{addAlert:e=>t([...a,e])}},e,i.a.createElement(c.b,{dataTest:E("notifications-alerthandler")},a.map(({message:e,type:a})=>i.a.createElement(c.a,Object.assign({dataTest:E("notifications-alert"),key:e},{[a]:!0}),e))))};var b=t(191),f=t.n(b);const y=({children:e})=>i.a.createElement("h1",{className:f.a.headline,"data-test":E("headline-pageheadline")},e);var h=t(192),v=t.n(h);const S=({children:e})=>i.a.createElement("h2",{className:v.a.subHeadline,"data-test":E("headline-pagesubheadline")},e),w=()=>i.a.createElement("div",{"data-test":E("views-home")},i.a.createElement(y,null,"Home"),i.a.createElement("span",null,"Content?")),C=()=>i.a.createElement("div",{"data-test":E("views-nomatch")},i.a.createElement("h1",null,"404"));var _=t(7),A=t.n(_),O=t(193);A.a.addResources("en","default",O);var N=A.a;const T=({onCancelClick:e,onDeleteClick:a})=>i.a.createElement(c.o,{dataTest:E("gateways-deleteconfirmationdialog")},i.a.createElement(c.r,null,N.t("Confirm deletion")),i.a.createElement(c.q,null,N.t("Are you sure you want to delete the selected gateways?")),i.a.createElement(c.p,null,i.a.createElement(c.d,null,i.a.createElement(c.c,{secondary:!0,onClick:e,dataTest:E("gateways-deleteconfirmationdialog-cancel")},"Cancel"),i.a.createElement(c.c,{destructive:!0,onClick:a,dataTest:E("gateways-deleteconfirmationdialog-confirm")},"Delete")))),{Field:k}=c.t,M=()=>i.a.createElement(k,{required:!0,dataTest:E("gateways-fieldgatewayauthtoken"),name:"authtoken",label:N.t("Auth token"),component:c.l,validate:Object(c.H)(c.J,c.I)}),{Field:R}=c.t,D=()=>i.a.createElement(R,{required:!0,dataTest:E("gateways-fieldgatewayname"),name:"name",label:N.t("Name"),component:c.l,validate:Object(c.H)(c.J,c.I)}),{Field:I}=c.t,F=()=>i.a.createElement(I,{required:!0,dataTest:E("gateways-fieldgatewaypassword"),name:"password",label:N.t("Password"),component:c.l,validate:Object(c.H)(c.J,c.I)}),{Field:j}=c.t,x=()=>i.a.createElement(j,{required:!0,dataTest:E("gateways-fieldgatewayurltemplate"),name:"urlTemplate",label:N.t("Url template"),component:c.l,validate:Object(c.H)(c.K,c.I)}),{Field:P}=c.t,G=()=>i.a.createElement(P,{required:!0,dataTest:E("gateways-fieldgatewayusername"),name:"username",label:N.t("User name"),component:c.l,validate:Object(c.H)(c.J,c.I)});var L=t(194),q=t.n(L);const{useForm:U}=c.t,V=()=>{const{change:e,getState:a}=U();return i.a.createElement(c.c,{className:q.a.button,onClick:()=>{const{parameters:t}=a().values;e("parameters",[...t,{header:!1,encode:!1,key:"",value:"",confidential:!1}])},dataTest:E("gateways-gatewayaddkeyvaluepair")},N.t("Add key value pair"))};var B=t(6),z=t.n(B),H=t(195),K=t.n(H);const W=({children:e,className:a})=>i.a.createElement("div",{className:z()(K.a.formRow,a),"data-test":E("forms-formrow")},e),{Form:Y}=c.t,J=({onCancelClick:e,onSubmit:a,initialValues:t})=>{const n=t?N.t("Save gateway"):N.t("Add gateway");return i.a.createElement(Y,{keepDirtyOnReinitialize:!0,onSubmit:a,initialValues:t},({handleSubmit:a,submitting:t,pristine:l})=>i.a.createElement("form",{onSubmit:a,"data-test":E("gateways-gatewaybulksmsform")},i.a.createElement(W,null,i.a.createElement(D,null)),i.a.createElement(W,null,i.a.createElement(G,null)),i.a.createElement(W,null,i.a.createElement(F,null)),i.a.createElement(c.d,null,i.a.createElement(c.c,{onClick:()=>e(l)},N.t("Cancel")),i.a.createElement(c.c,{primary:!0,type:"submit",icon:t?i.a.createElement(c.h,{small:!0}):null,disabled:t,dataTest:E("forms-gatewaybulksmsform-submit")},n))))};J.defaultProps={initialValues:{}};const{Form:Z}=c.t,X=({onCancelClick:e,onSubmit:a,initialValues:t})=>{const n=t?N.t("Save gateway"):N.t("Add gateway");return i.a.createElement(Z,{keepDirtyOnReinitialize:!0,onSubmit:a,initialValues:t},({handleSubmit:a,submitting:t,pristine:l})=>i.a.createElement("form",{onSubmit:a,"data-test":E("gateways-gatewayclickatellform")},i.a.createElement(W,null,i.a.createElement(D,null)),i.a.createElement(W,null,i.a.createElement(G,null)),i.a.createElement(W,null,i.a.createElement(M,null)),i.a.createElement(W,null,i.a.createElement(x,null)),i.a.createElement(c.d,null,i.a.createElement(c.c,{onClick:()=>e(l)},N.t("Cancel")),i.a.createElement(c.c,{primary:!0,type:"submit",icon:t?i.a.createElement(c.h,{small:!0}):null,disabled:t,dataTest:E("forms-gatewayclickatellform-submit")},n))))};X.defaultProps={initialValues:{}};var Q=t(196),$=t.n(Q);const ee=({children:e})=>i.a.createElement("p",{className:$.a.paragraph,"data-test":E("text-paragraph")},e),{Form:ae}=c.t,te=({onCancelClick:e,onSubmit:a,initialValues:t})=>{const n=t?N.t("Save gateway"):N.t("Add gateway");return i.a.createElement(ae,{keepDirtyOnReinitialize:!0,onSubmit:a,initialValues:t},({handleSubmit:a,values:t,submitting:l,pristine:r})=>i.a.createElement("form",{onSubmit:a,"data-test":E("gateways-gatewaygenericform")},i.a.createElement(S,null,N.t("Gateway setup")),i.a.createElement(W,null,i.a.createElement(D,null)),i.a.createElement(W,null,i.a.createElement(x,null)),i.a.createElement(S,null,N.t("Key value pairs")),i.a.createElement(ee,null,N.t("Key value pairs can be included in the URL. This is some helper text which provides an intro to what the key value pairs actually do.")),t.parameters.map((e,a)=>i.a.createElement(ce,{index:a,key:a})),i.a.createElement(V,null),i.a.createElement(c.d,null,i.a.createElement(c.c,{primary:!0,type:"submit",dataTest:E("forms-gatewaygenericform-submit"),disabled:l,icon:l?i.a.createElement(c.h,{small:!0}):null},n),i.a.createElement(c.c,{onClick:()=>e(r)},N.t("Cancel")))))};te.defaultProps={initialValues:{parameters:[]}};var ne=t(197),le=t.n(ne);const{Field:re,useForm:se}=c.t,oe=Object(c.H)(c.J,c.I),ce=({index:e})=>{const{change:a,getState:t}=se();return i.a.createElement("div",{className:le.a.container,"data-test":E("gateways-gatewaykeyvaluepair")},i.a.createElement("div",{className:le.a.textInputs},i.a.createElement(re,{dataTest:E("gateways-gatewaykeyvaluepair-key"),className:le.a.keyInput,name:"parameters[".concat(e,"].key"),label:N.t("Key"),component:c.l,validate:oe}),i.a.createElement(re,{dataTest:E("gateways-gatewaykeyvaluepair-value"),className:le.a.valueInput,name:"parameters[".concat(e,"].value"),label:N.t("Value"),component:c.l,validate:oe})),i.a.createElement("div",{className:le.a.checkboxGroup},i.a.createElement(re,{dataTest:E("gateways-gatewaykeyvaluepair-isheader"),className:le.a.checkbox,type:"checkbox",name:"parameters[".concat(e,"].header"),label:N.t("Send as header"),component:c.g}),i.a.createElement(re,{dataTest:E("gateways-gatewaykeyvaluepair-isencoded"),className:le.a.checkbox,type:"checkbox",name:"parameters[".concat(e,"].encode"),label:N.t("Encode"),component:c.g}),i.a.createElement(re,{dataTest:E("gateways-gatewaykeyvaluepair-isconfidential"),className:le.a.checkbox,type:"checkbox",name:"parameters[".concat(e,"].confidential"),label:N.t("Confidential"),component:c.g})),i.a.createElement(c.c,{small:!0,dataTest:E("gateways-gatewaykeyvaluepair-remove"),onClick:()=>(e=>{const{parameters:n}=t().values;a("parameters",0===e?n.slice(1):[...n.slice(0,e),...n.slice(e+1)])})(e)},N.t("Remove key value pair")))};var me=t(11);const ie=({onConfirmCancel:e,onAbortCancel:a})=>i.a.createElement(c.o,null,i.a.createElement(c.r,null,N.t("Are you sure you want to cancel? Unsaved changes will be lost")),i.a.createElement(c.p,null,i.a.createElement(c.d,null,i.a.createElement(c.c,{primary:!0,onClick:e},N.t("Yes, cancel")),i.a.createElement(c.c,{onClick:a},N.t("No, stay on page")))));var de=t(198),ue=t.n(de);const ge="".concat("/sms-gateway/edit","/:id"),Ee=()=>{var e;const a=Object(o.f)(),{id:t}=Object(o.h)(),[n,l]=Object(m.useState)(!1),{loading:r,error:s,data:d}=Re(t),[u,{error:g}]=Ue(),[p,{error:b}]=Pe(),[f,{error:h}]=Le(),v=g||b||h;if(r)return i.a.createElement(i.a.Fragment,null,i.a.createElement(y,null,N.t("Edit")),i.a.createElement(c.e,null,i.a.createElement(c.h,null)));if(s){const e=N.t("Something went wrong whilst loading gateways");return i.a.createElement(i.a.Fragment,null,i.a.createElement(y,null,N.t("Edit")),i.a.createElement(c.s,{error:!0,title:e},s.message))}const S=d&&"string"===typeof d.gateway?{gateway:JSON.parse(d.gateway)}:d,w=null===S||void 0===S||null===(e=S.gateway)||void 0===e?void 0:e.type,C=null===S||void 0===S?void 0:S.gateway,_=(e=>{if(e===Se)return te;if(e===we)return J;if(e===Ce)return X;throw new Error('The gateway type does not exist, got "'.concat(e,'"'))})(w);return i.a.createElement("div",{"data-test":E("views-gatewayconfigformedit"),className:ue.a.container},i.a.createElement(y,null,N.t("Edit gateway")),C?i.a.createElement("div",{"data-test":E("views-gatewayconfigformedit-formcontainer"),"data-gateway-id":S.gateway.uid},v&&i.a.createElement(c.s,{error:!0,title:N.t("Something went wrong whilst saving gateways")},v.message),i.a.createElement(_,{initialValues:S.gateway,onSubmit:async e=>{const t=Object(me.a)(Object(me.a)({},e),{},{id:S.gateway.uid});try{t.type===Se&&await u(t),t.type===we&&await p(t),t.type===Ce&&await f(t),a.push(Ze)}catch(n){return Promise.reject(n)}},onCancelClick:e=>e?a.push(Ze):l(!0)})):i.a.createElement(c.s,{error:!0,title:N.t("Gateway not found")},N.t("The requested gateway could not be loaded")),n&&i.a.createElement(ie,{onConfirmCancel:()=>a.push(Ze),onAbortCancel:()=>l(!1)}))};var pe=t(204),be=t.n(pe);const fe=({allGatewaysChecked:e,checkedGateways:a,gateways:t,onGatewayToggle:n,onToggleAll:l,onMakeDefaultClick:r})=>{const s=Object(o.f)();return i.a.createElement(c.y,{dataTest:E("gateways-gatewaystable")},i.a.createElement(c.D,null,i.a.createElement(c.F,null,i.a.createElement(c.B,{dataTest:E("gateways-gatewaystable-checkall")},i.a.createElement(c.f,{onChange:l,checked:e})),i.a.createElement(c.B,null,N.t("Name")),i.a.createElement(c.B,null,N.t("Type")),i.a.createElement(c.B,null),i.a.createElement(c.B,null))),i.a.createElement(c.z,null,t.map(e=>{return i.a.createElement(c.E,{key:e.uid,dataTest:E("gateways-gatewaystable-row")},i.a.createElement(c.A,{className:be.a.checkboxCell,dataTest:E("gateways-gatewaystable-checkbox")},i.a.createElement(c.f,{value:e.uid,onChange:()=>n(e.uid),checked:a.includes(e.uid),dataTest:E("gateways-gatewaystable-id")})),i.a.createElement(c.A,{dataTest:E("gateways-gatewaystable-name")},e.name),i.a.createElement(c.A,{className:be.a.typeCell,dataTest:E("gateways-gatewaystable-type")},"bulksms"===(t=e.type)?N.t("BulkSMS"):"clickatell"===t?N.t("Clickatell"):"http"!==t&&t?t:N.t("Generic")),i.a.createElement(c.A,{className:be.a.defaultCell},e.isDefault?i.a.createElement("span",{className:be.a.isDefaultText},N.t("Default gateway")):i.a.createElement(c.c,{dataTest:E("gateways-gatewaystable-makedefault"),onClick:()=>r(e.uid),className:be.a.makeDefaultButton},N.t("Make default"))),i.a.createElement(c.A,{dataTest:E("gateways-gatewaystable-actions"),className:be.a.editCell},i.a.createElement(c.d,{className:be.a.rowActions},i.a.createElement(c.c,{dataTest:E("gateways-gatewaystable-edit"),onClick:()=>{s.push("".concat("/sms-gateway/edit","/").concat(e.uid))}},N.t("Edit")))));var t})))};var ye=t(205),he=t.n(ye);const ve=({checkedGateways:e,gateways:a,setCheckedGateways:t,onMakeDefaultClick:n,processing:l})=>{const r=e.length===a.length;return i.a.createElement("div",{className:he.a.container,"data-test":E("gateways-gatewaylist")},l&&i.a.createElement("div",{className:he.a.processingMessage},i.a.createElement("div",{className:he.a.loadingContainer},i.a.createElement(c.h,null))),i.a.createElement(fe,{allGatewaysChecked:r,gateways:a,checkedGateways:e,onGatewayToggle:a=>{if(e.includes(a)){const n=e.findIndex(e=>e===a),l=0===n?e.slice(1):[...e.slice(0,n),...e.slice(n+1)];t(l)}else t([...e,a])},onMakeDefaultClick:n,onToggleAll:()=>{if(r)t([]);else{const e=a.map(({uid:e})=>e);t(e)}}}))},Se="http",we="bulksms",Ce="clickatell";var _e=t(8);const Ae={resource:"gateways",type:"create",data:({name:e,username:a,password:t})=>({type:"bulksms",name:e,username:a,password:t})},Oe={resource:"gateways",type:"create",data:({name:e,username:a,authtoken:t,urlTemplate:n})=>({type:"clickatell",name:e,username:a,authtoken:t,urlTemplate:n})},Ne={resource:"gateways",type:"create",data:({name:e,urlTemplate:a,parameters:t})=>({type:"http",name:e,urlTemplate:a,parameters:t})},Te={resource:"gateways",type:"delete",id:({id:e})=>e},ke=()=>{const[e,a]=Object(m.useState)(!1),[t,n]=Object(m.useState)(null),l=(e=>a=>{const t={id:a};return e.mutate(Te,{variables:t})})(Object(_e.c)()),r=e=>(a(!1),e),s=e=>{n(e),a(!1)};return[({ids:e})=>(a(!0),Promise.all(e.map(l)).then(r).catch(s)),{loading:e,error:t}]},Me={gateway:{resource:"gateways",id:({id:e})=>e}},Re=e=>Object(_e.e)(Me,{variables:{id:e}});var De=t(185);const Ie={gateways:{resource:"gateways.json",params:({fields:e,filter:a})=>{const t={};return e&&(t.fields=e),a&&(t.filter=a),t}}},Fe={resource:"gateways/default",type:"replace",id:({id:e})=>e},je=e=>{const[a,t]=Object(m.useState)(!1),[n,l]=Object(m.useState)(null),r=Object(_e.c)();return[a=>{const n=Object(me.a)(Object(me.a)({},e),{},{id:a.id});return t(!0),l(null),r.mutate(n,{variables:a}).then(e=>(t(!1),e)).catch(e=>{throw t(!1),l(e),e})},{loading:a,error:n}]},xe={resource:"gateways",id:({id:e})=>e,type:"update",data:({name:e,username:a,password:t})=>({type:"bulksms",name:e,username:a,password:t})},Pe=()=>je(xe),Ge={resource:"gateways",id:({id:e})=>e,type:"update",data:({name:e,username:a,authtoken:t,urlTemplate:n})=>({type:"clickatell",name:e,username:a,authtoken:t,urlTemplate:n})},Le=()=>je(Ge),qe={resource:"gateways",id:({id:e})=>e,type:"replace",data:({name:e,urlTemplate:a,parameters:t})=>({type:"http",name:e,urlTemplate:a,parameters:t})},Ue=()=>je(qe);var Ve=t(206),Be=t.n(Ve);const ze=()=>{const e=Object(o.f)(),[a,t]=Object(m.useState)(Se),[n,{error:l}]=Object(_e.d)(Ne),[r,{error:s}]=Object(_e.d)(Ae),[d,{error:u}]=Object(_e.d)(Oe),g=l||s||u;if(g){const e=N.t("Something went wrong whilst saving the gateway");return i.a.createElement("div",{"data-test":E("views-gatewayconfigformnew")},i.a.createElement(y,null,N.t("Add gateway")),i.a.createElement(c.s,{error:!0,title:e},g.message))}const p=async t=>{try{a===Se&&await n(t),a===we&&await r(t),a===Ce&&await d(t),e.push(Ze)}catch(l){return Promise.reject(l)}};return i.a.createElement("div",{"data-test":E("views-gatewayconfigformnew"),className:Be.a.container},i.a.createElement(y,null,N.t("Add gateway")),i.a.createElement(W,null,i.a.createElement(c.v,{label:N.t("Type"),onChange:({selected:e})=>t(e),selected:a,dataTest:E("views-gatewayconfigformnew-gatewaytype")},i.a.createElement(c.x,{value:Se,label:N.t("Generic")}),i.a.createElement(c.x,{value:we,label:N.t("BulkSMS")}),i.a.createElement(c.x,{value:Ce,label:N.t("Clickatell")}))),i.a.createElement(W,null,a===Se&&i.a.createElement(te,{onSubmit:p}),a===we&&i.a.createElement(J,{onSubmit:p,passwordRequired:!0}),a===Ce&&i.a.createElement(X,{onSubmit:p,passwordRequired:!0})))};var He=t(207),Ke=t.n(He);const We=({addLabel:e,deleteLabel:a,dataTest:t,onAddClick:n,onDeleteClick:l,disableAdd:r,disableDelete:s})=>i.a.createElement("div",{className:Ke.a.container},i.a.createElement(c.d,{"data-test":E("".concat(t,"-actions"))},i.a.createElement(c.c,{primary:!0,onClick:n,disabled:r,dataTest:E("".concat(t,"-add"))},e),i.a.createElement(c.c,{destructive:!0,onClick:l,disabled:s,dataTest:E("".concat(t,"-delete"))},a)));var Ye=t(208),Je=t.n(Ye);const Ze="/sms-gateway",Xe=()=>{var e,a;const t=Object(o.f)(),[n,l]=Object(m.useState)([]),[r,s]=Object(m.useState)(!1),{loading:d,error:u,data:g,refetch:p}=(e=>{var a;"id:in:[".concat(null===e||void 0===e?void 0:e.join(","),"]");const t={},n=Object(_e.e)(Ie,{variables:t}),{data:l}=n,r=Object(De.a)(n,["data"]),s=l&&"string"===typeof l.gateways?{gateways:JSON.parse(l.gateways)}:l,o=e&&(null===s||void 0===s||null===(a=s.gateways)||void 0===a?void 0:a.gateways)?{gateways:{gateways:s.gateways.gateways.filter(({uid:a})=>e.includes(a))}}:s;return Object(me.a)({data:o},r)})(),[b,{loading:f,error:h}]=ke(),[v,{loading:S,error:w}]=Object(_e.d)(Fe),C=d||f||S;if(C)return i.a.createElement(i.a.Fragment,null,i.a.createElement(y,null,"Gateway configuration"),i.a.createElement(c.e,null,i.a.createElement(c.h,null)));const _=u||h||w;if(_){const e=N.t("Something went wrong whilst performing the requested operation");return i.a.createElement(i.a.Fragment,null,i.a.createElement(y,null,"Gateway configuration"),i.a.createElement(c.s,{error:!0,title:e},_.message))}const A=!!(null===g||void 0===g||null===(e=g.gateways)||void 0===e||null===(a=e.gateways)||void 0===a?void 0:a.length);return i.a.createElement("div",{className:Je.a.container,"data-test":E("views-gatewayconfiglist")},i.a.createElement(y,null,"Gateway configuration"),i.a.createElement(ee,null,N.t("An SMS gateway lets a DHIS2 instance send and receive SMS messages. Different gateway types can be added and configured below. At least one gateway is needed to send and receive SMS messages. Load balancing will use all gateways if there are multiple available. Read about gateway configuration in the DHIS2 documentation.")),i.a.createElement(We,{addLabel:N.t("Add gateway"),deleteLabel:N.t("Delete selected"),dataTest:"views-gatewayconfiglist",onAddClick:()=>t.push("/sms-gateway/new"),onDeleteClick:()=>s(!0),disableAdd:f,disableDelete:!n.length||f}),A?i.a.createElement(ve,{processing:C,checkedGateways:n,setCheckedGateways:l,gateways:g.gateways.gateways,onMakeDefaultClick:e=>{v({id:e}).then(p)}}):i.a.createElement(c.s,{info:!0,title:N.t("No gateways found")},N.t("It looks like there aren't any configured gateways, or they couldn't be loaded.")),r&&i.a.createElement(T,{onCancelClick:()=>s(!1),onDeleteClick:()=>{b({ids:n}).then(p),s(!1)}}))};var Qe=t(9);const $e=A.a.t("Received"),ea=[{value:"ALL",label:A.a.t("All")},{value:"FAILED",label:A.a.t("Failed")},{value:"INCOMING",label:A.a.t("Incoming")},{value:"PROCESSED",label:A.a.t("Processed")},{value:"PROCESSING",label:A.a.t("Processing")},{value:"SENT",label:A.a.t("Sent")},{value:"UNHANDLED",label:A.a.t("Unhandled")}],aa={resource:"sms/inbound",type:"delete",params:({ids:e})=>({ids:e})},ta=({selectedIds:e,onComplete:a})=>{const{addAlert:t}=Object(m.useContext)(g),[n]=Object(_e.d)(aa,{onComplete:a,onError:e=>{t({type:"critical",message:e.message})}});return i.a.createElement(c.c,{destructive:!0,onClick:()=>n({ids:e.join()}),disabled:0===e.length},A.a.t("Delete selected"))},na=()=>{const e=new URLSearchParams(Object(o.g)().search);return{status:e.get("status")||"ALL",phoneNumber:e.get("phoneNumber")||"",page:parseInt(e.get("page")||1),pageSize:parseInt(e.get("pageSize")||50)}},la=e=>{const a=Object.keys(e).reduce((a,t)=>{const n=e[t];return n&&!("status"===t&&"ALL"===n)&&a.push("".concat(t,"=").concat(n)),a},[]).join("&");return"?".concat(a)};var ra=t(209),sa=t.n(ra);const{Form:oa,Field:ca}=c.t,ma=({loading:e})=>{const{status:a,phoneNumber:t,pageSize:n}=na(),l={status:a,phoneNumber:t},r=Object(o.f)();return i.a.createElement("div",{"data-test":E("views-receivedsms-filter"),className:sa.a.container},i.a.createElement(oa,{onSubmit:({status:e,phoneNumber:a})=>{r.push({search:la({status:e,phoneNumber:a,pageSize:n,page:1})})},initialValues:l},({handleSubmit:a,pristine:t})=>i.a.createElement("form",{onSubmit:a,className:sa.a.inputStrip},i.a.createElement(ca,{name:"status",component:c.w,options:ea,label:A.a.t("Filter by status"),inputWidth:"200px"}),i.a.createElement(ca,{name:"phoneNumber",component:c.l,label:A.a.t("Filter by phone number"),className:sa.a.phoneNumberField,inputWidth:"300px"}),i.a.createElement(c.c,{large:!0,type:"submit",disabled:e||t},A.a.t("Filter")))))};var ia=t(15),da=t.n(ia),ua=t(210),ga=t.n(ua);const Ea=["1","2","10","20","30","40","50","100"],pa=({page:e,pageCount:a,pageSize:t,total:n})=>{const l=Math.min((e-1)*t+1,n),r=Math.min(l+t-1,n),s=Array.from({length:a},(e,a)=>(a+1).toString()),{status:m,phoneNumber:d}=na(),u=Object(o.f)(),g=e=>{u.push({search:la({status:m,phoneNumber:d,pageSize:t,page:e})})};return i.a.createElement("div",{className:ga.a.container},i.a.createElement("div",{className:ga.a.verticalAlign},A.a.t("Show"),i.a.createElement(c.u,{dense:!0,selected:t.toString(),onChange:({selected:e})=>{u.push({search:la({status:m,phoneNumber:d,pageSize:e,page:1})})},className:ga.a.select},Ea.map(e=>i.a.createElement(c.x,{key:e,value:e,label:e}))),A.a.t("per page")),i.a.createElement("div",{className:ga.a.verticalAlign},i.a.createElement("span",{className:ga.a.summary},A.a.t("Viewing {{firstItem}}-{{lastItem}} of {{total}}",{firstItem:l,lastItem:r,total:n})),i.a.createElement(c.c,{className:ga.a.buttonPrevious,small:!0,disabled:1===e,onClick:()=>g(e-1)},A.a.t("Previous")),i.a.createElement("span",null,A.a.t("Page")),i.a.createElement(c.u,{dense:!0,inputWidth:"600px",selected:e.toString(),onChange:({selected:e})=>g(e),className:ga.a.select},s.map(e=>i.a.createElement(c.x,{key:e,value:e,label:e}))),i.a.createElement("span",null,A.a.t("of {{pageCount}}",{pageCount:a})),i.a.createElement(c.c,{className:ga.a.buttonNext,small:!0,disabled:e===a,onClick:()=>g(e+1)},A.a.t("Next"))))};var ba=t(211),fa=t.n(ba);const ya=({messages:e,pager:a,selectedIds:t,setSelectedIds:n})=>{const l=new Set(t),r=e.length>0&&t.length===e.length,s=e=>{l.has(e)?l.delete(e):l.add(e),n(Array.from(l))};return i.a.createElement(c.y,null,i.a.createElement(c.D,null,i.a.createElement(c.F,null,i.a.createElement(c.B,null,i.a.createElement(c.f,{checked:r,onChange:()=>{n(r?[]:e.map(({id:e})=>e))}})),i.a.createElement(c.B,null,A.a.t("Message")),i.a.createElement(c.B,null,A.a.t("Phone number")),i.a.createElement(c.B,null,A.a.t("Status")),i.a.createElement(c.B,null,A.a.t("Sender")),i.a.createElement(c.B,null,A.a.t("Date")))),i.a.createElement(c.z,null,0===e.length?i.a.createElement(c.E,null,i.a.createElement(c.A,{colSpan:"7",className:fa.a.noResults},A.a.t("No SMSes to display"))):e.map(e=>i.a.createElement(c.E,{key:e.id},i.a.createElement(c.A,null,i.a.createElement(c.f,{checked:l.has(e.id),onChange:s.bind(null,e.id)})),i.a.createElement(c.A,null,e.text),i.a.createElement(c.A,null,i.a.createElement("span",{className:fa.a.originator},e.originator)),i.a.createElement(c.A,null,e.smsstatus),i.a.createElement(c.A,null,e.user?e.user.userCredentials.username:A.a.t("Unknown")),i.a.createElement(c.A,null,da()(e.receivedDate).format("MMMM Do YYYY, h:mm:ss a"))))),i.a.createElement(c.C,null,i.a.createElement(c.E,null,i.a.createElement(c.A,{colSpan:"7"},i.a.createElement(pa,a)))))};var ha=t(212),va=t.n(ha);const Sa={inboundSms:{resource:"sms/inbound",params:({page:e,pageSize:a,phoneNumber:t,status:n})=>({page:e,pageSize:a,phoneNumber:t,status:n,fields:["id","text","originator","smsstatus","user[userCredentials[username]]","receiveddate"]})}},wa=()=>{var e;const[a,t]=Object(m.useState)([]),{page:n,pageSize:l,phoneNumber:r,status:s}=na(),{called:o,loading:d,error:u,data:g,refetch:p}=Object(Qe.d)(Sa,{lazy:!0});if(Object(m.useEffect)(()=>{p({page:n,pageSize:l,phoneNumber:r,status:s})},[n,l,r,s]),d||!o)return i.a.createElement(i.a.Fragment,null,i.a.createElement(y,null,$e),i.a.createElement(c.e,null,i.a.createElement(c.h,null)));if(u){const e=N.t("Something went wrong whilst loading received SMSes");return i.a.createElement(i.a.Fragment,null,i.a.createElement(y,null,$e),i.a.createElement(c.s,{error:!0,title:e},u.message))}const b=(null===g||void 0===g||null===(e=g.inboundSms)||void 0===e?void 0:e.inboundsmss)||[];return i.a.createElement("div",{"data-test":E("views-receivedsmslist"),className:va.a.container},i.a.createElement(y,null,$e),i.a.createElement("div",{className:va.a.topBar},i.a.createElement(ma,{loading:d}),i.a.createElement(ta,{onComplete:()=>{p(),t([])},selectedIds:a})),i.a.createElement("div",null,i.a.createElement(ya,{messages:b,pager:g.inboundSms.pager,selectedIds:a,setSelectedIds:t})))},Ca="completenessMethod",_a="defaultMessage",Aa="id",Oa="moreThanOneOrgUnitMessage",Na="name",Ta="noUserMessage",ka="parserType",Ma="program",Ra="programStage",Da="separator",Ia="smsCodes",Fa="specialCharacters",ja="successMessage",xa="currentPeriodUsedForReporting",Pa="wrongFormatMessage",Ga="receivedMessage",{useForm:La}=c.t,qa=()=>{const{change:e,getState:a}=La();return i.a.createElement(W,null,i.a.createElement(c.c,{onClick:()=>{const t=[...a().values[Fa],{name:"",value:""}];e(Fa,t)},dataTest:E("forms-commandsaddspecialcharacters")},N.t("Add special character")))},Ua={value:"ALL_DATAVALUE",label:N.t("Receive all data value")},Va={value:"AT_LEAST_ONE_DATAVALUE",label:N.t("Receive at least one data value")},Ba={value:"DO_NOT_MARK_COMPLETE",label:N.t("Do not mark as complete")},{useFormState:za}=c.t,Ha={submitting:!0,pristine:!0},Ka=()=>{const{submitting:e,pristine:a}=za({subscription:Ha});return i.a.createElement(c.c,{primary:!0,type:"submit",disabled:a||e,icon:e?i.a.createElement(c.h,{small:!0}):null},N.t("Save command"))},{useFormState:Wa}=c.t,Ya={submitError:!0,hasSubmitErrors:!0},Ja=()=>{const{submitError:e,hasSubmitErrors:a}=Wa({subscription:Ya});return a?i.a.createElement(W,null,i.a.createElement(c.s,{error:!0,title:N.t("Something went wrong whilst submitting the form")},e)):null};var Za=t(213),Xa=t.n(Za);const Qa=({onCancel:e})=>i.a.createElement("div",{className:Xa.a.container},i.a.createElement(Ja,null),i.a.createElement(c.d,null,i.a.createElement(Ka,null),i.a.createElement(c.c,{onClick:e},N.t("Cancel")))),$a=({onCancelClick:e,onDeleteClick:a})=>i.a.createElement(c.o,{dataTest:E("commands-deleteconfirmationdialog")},i.a.createElement(c.r,null,N.t("Confirm deletion")),i.a.createElement(c.q,null,N.t("Are you sure you want to delete the selected commands?")),i.a.createElement(c.p,null,i.a.createElement(c.d,null,i.a.createElement(c.c,{secondary:!0,onClick:e,dataTest:E("commands-deleteconfirmationdialog-cancel")},N.t("Cancel")),i.a.createElement(c.c,{primary:!0,onClick:a,dataTest:E("commands-deleteconfirmationdialog-confirm")},N.t("Delete"))))),et=(e,a)=>e===a.value,at={resource:"smsCommands",type:"create",data:({parserType:e,name:a,dataset:t,userGroup:n,program:l,programStage:r})=>{if(e===Jt.value||e===Zt.value)return{parserType:e,name:a,dataset:t};if(e===Xt.value||e===Qt.value)return{parserType:e,name:a,userGroup:{id:n}};if(e===$t.value||e===an.value)return{parserType:e,name:a,program:l};if(e===en.value)return{parserType:e,name:a,program:l,programStage:r};throw new Error('You provided an unrecognized parserType "'.concat(e,'"'))}},tt={resource:"smsCommands",type:"delete",id:({id:e})=>e},nt=()=>{const[e,a]=Object(m.useState)(!1),[t,n]=Object(m.useState)(null),l=(e=>a=>{const t={id:a};return e.mutate(tt,{variables:t})})(Object(_e.c)()),r=e=>(a(!1),e),s=e=>{n(e),a(!1)};return[({ids:e})=>(a(!0),Promise.all(e.map(l)).then(r).catch(s)),{loading:e,error:t}]},lt={smsCommand:{resource:"smsCommands",id:({id:e})=>e,params:{fields:"parserType",paging:"false"}}},rt={smsCommands:{resource:"smsCommands",pager:!1,params:({ids:e}={})=>({paging:"false",fields:"*",filter:e?"ids:in:[".concat(e.join(","),"]"):void 0})}},{FORM_ERROR:st}=c.k,ot=e=>e,ct={resource:"smsCommands",type:"update",id:({commandId:e})=>e,data:e=>{let{commandId:a}=e;return Object(De.a)(e,["commandId"])}},mt=Object(me.a)(Object(me.a)({},ct),{},{partial:!0}),it=({onAfterChange:e,commandId:a,formatCommand:t=ot,replace:n=!1})=>{const{addAlert:l}=Object(m.useContext)(g),r=Object(_e.c)();return s=>{const o={variables:Object(me.a)(Object(me.a)({},t(s)),{},{commandId:a})},c=n?mt:ct;return r.mutate(c,o).then(e).catch(e=>{if("access"===e.type){const a="No error message was provided",t=e.message||N.t(a);return{[st]:t}}l({type:"critical",message:e.message})})}},{Field:dt}=c.t,ut=({dataSets:e,loading:a,required:t,disabled:n,errorText:l})=>i.a.createElement(dt,{disabled:n,error:!!l,validationText:l,required:t,loading:a,dataTest:E("forms-fielddataset"),name:"dataset",label:N.t("Dataset"),component:c.w,options:e,validate:c.I,format:e=>(null===e||void 0===e?void 0:e.id)||null,parse:e=>({id:e})});ut.defaultProps={disabled:!1,loading:!1,required:!1,errorText:""};const gt={dataSets:{resource:"dataSets",params:{fields:["id","displayName"],paging:"false"}}},Et=({required:e})=>{const{loading:a,error:t,data:n}=Object(_e.e)(gt);if(a)return i.a.createElement(ut,{loading:!0,showLoadingStatus:!0,required:e,dataSets:[]});if(t)return i.a.createElement(ut,{required:e,disabled:!0,programs:[],errorText:t.message});const{dataSets:l}=n.dataSets,r=l.map(({id:e,displayName:a})=>({label:a,value:e}));return i.a.createElement(ut,{required:e,dataSets:r})};Et.defaultProps={required:!1};const pt={dataSet:{resource:"dataSets",id:({id:e})=>e,params:({filter:e})=>({filter:e,fields:"dataSetElements[dataElement[id,code,displayName]]"})}},bt=(e,a)=>{const[t,n]=Object(m.useState)(!0),[l,r]=Object(m.useState)(null),[s,o]=Object(m.useState)(null),c=Object(_e.c)(),i=e=>(n(!0),r(null),((e,a)=>e.query(pt,{variables:a}).then(e=>{const{dataSet:a}=e,{dataSetElements:t}=a;return t.map(({dataElement:e})=>e)}))(c,e).then(o).catch(r).finally(()=>n(!1)));return Object(m.useEffect)(()=>{i({id:e,filter:a})},[]),{loading:t,error:l,data:s,refetch:i}},{Field:ft,Form:yt,useForm:ht,useField:vt}=c.t,St=({baseName:e,combo:a,targetFieldName:t,onClose:n})=>{const l=ht(),r=vt(e,{subscription:{value:!0}}).input.value,s=vt("dataset",{subscription:{value:!0}}).input.value.id,{loading:o,error:d,data:u}=bt(s),g=r.formula,E={operator:Object(m.useMemo)(()=>g?g[0]:"+",[]),dataElementCode:Object(m.useMemo)(()=>g?g.slice(1):"",[])};if(o)return i.a.createElement(c.o,null,i.a.createElement(c.h,null));const p=u.map(e=>{const{code:a,displayName:t}=e;return{value:a,label:t}}),b=()=>{l.change(t,null),n()};return i.a.createElement(yt,{onSubmit:e=>{const a="".concat(e.operator).concat(e.dataElementCode);l.change(t,a),n()},initialValues:E},({handleSubmit:e})=>i.a.createElement(c.o,null,i.a.createElement(c.r,null,N.t("Formula for {{combo}}",{combo:a})),i.a.createElement(c.q,null,i.a.createElement("form",{onSubmit:a=>{a.stopPropagation(),e(a)}},i.a.createElement(W,null,i.a.createElement(ft,{required:!0,name:"dataElementCode",label:N.t("Data element"),component:c.w,options:p,validate:c.I})),i.a.createElement(W,null,i.a.createElement(ft,{required:!0,name:"operator",label:N.t("formula operator"),component:c.w,initialValue:"+",options:[{value:"+",label:"+"},{value:"-",label:"-"}]})),d&&i.a.createElement(W,null,i.a.createElement(c.s,{error:!0,title:N.t("Something went wrong whilst saving")},d.message)),i.a.createElement(W,null,i.a.createElement(c.d,null,i.a.createElement(c.c,{type:"submit",primary:!0},N.t("Save")),i.a.createElement(c.c,{onClick:n},N.t("Cancel")),i.a.createElement(c.c,{onClick:b},N.t("Remove"))))))))};var wt=t(214),Ct=t.n(wt);const{useField:_t}=c.t,At={dataElement:{resource:"dataElements",params:({code:e})=>({filter:"code:eq:".concat(e),fields:"displayName",paging:"false"})}},Ot=({baseName:e,onClick:a,disabled:t})=>{const n=Object(_e.c)(),[l,r]=Object(m.useState)(!1),[s,o]=Object(m.useState)(!1),[d,u]=Object(m.useState)(""),g=_t(e,{subscription:{value:!0}}).input.value,{formula:E,code:p}=g,b=E&&E[0],f=E&&E.slice(1);return Object(m.useEffect)(()=>{!l&&f&&(o(!0),r(!0),n.query(At,{variables:{code:f}}).then(e=>{const[{displayName:a}]=e.dataElement.dataElements;u(a)}).finally(()=>o(!1)))},[f,l]),i.a.createElement(i.a.Fragment,null,s&&N.t("Loading formula"),p&&d&&i.a.createElement("span",{className:Ct.a.formulaInWords},i.a.createElement("span",{className:Ct.a.formulaInWordsLabel},N.t("Formula"),":"),p," ".concat(b," "),d),i.a.createElement(c.c,{small:!0,onClick:a,disabled:t},E?N.t("Edit formula"):N.t("Add formula")))};var Nt=t(215),Tt=t.n(Nt);const{Field:kt}=c.t,Mt=({dataElement:e,categoryOptionCombo:a})=>{const[t,n]=Object(m.useState)(!1),l=a?"".concat(e.displayName," ").concat(a.displayName):"".concat(e.displayName," ").concat(N.t("default")),r=((e,a)=>{const t=e.id,n=null===a||void 0===a?void 0:a.code;return!n||"default"===n?"".concat(Ia,".").concat(t):"".concat(Ia,".").concat(t,"-").concat(n)})(e,a),s="".concat(r,".code"),o="".concat(r,".formula");return i.a.createElement("div",{className:Tt.a.container},i.a.createElement(kt,{className:Tt.a.field,label:l,name:s,subscription:{value:!0,error:!0,invalid:!0,touched:!0}},e=>{let{input:a,meta:s}=e,m=Object(De.a)(e,["input","meta"]);const d=a.value;return i.a.createElement(i.a.Fragment,null,i.a.createElement(c.l,Object.assign({},m,{className:Tt.a.codeField,input:a,meta:s,error:!!s.error})),i.a.createElement(Ot,{disabled:!d,baseName:r,formulaFieldName:o,onClick:()=>n(!0)}),t&&i.a.createElement(St,{baseName:r,combo:l,targetFieldName:o,onClose:()=>n(!1)}))}))};Mt.defaultProps={categoryOptionCombo:null,formula:""};const{useField:Rt}=c.t,Dt=()=>{const{input:e}=Rt(Ca,{subscription:{value:!0}}),a=e.value,t=N.t("Required values notice");return a===Ua.value?i.a.createElement(W,null,i.a.createElement(c.s,{warning:!0,title:t},N.t('All SMS short codes have to be provided for this sms command to work correctly when you have the completeness method "'.concat(Ua.label,'" selected')))):a===Va.value?i.a.createElement(W,null,i.a.createElement(c.s,{warning:!0,title:t},N.t('At least one SMS short code has to be provided for this sms command to work correctly when you have the completeness method "'.concat(Va.label,'" selected')))):null};var It=t(216),Ft=t.n(It);const jt=({DE_COC_combinations:e})=>i.a.createElement("div",null,i.a.createElement(S,null,N.t("SMS short codes")),i.a.createElement(Dt,null),i.a.createElement("div",null,e.map(({dataElement:e,categoryOptionCombo:a})=>i.a.createElement(W,{className:Ft.a.formRow,key:e.id+(null===a||void 0===a?void 0:a.id)},i.a.createElement(Mt,{dataElement:e,categoryOptionCombo:a})))));jt.defaultProps={allRequired:!1};const{Field:xt}=c.t,Pt=Object.values(n),Gt=()=>i.a.createElement(xt,{dataTest:E("forms-fielddataset"),name:Ca,label:N.t("Completeness method"),component:c.w,options:Pt}),{Field:Lt}=c.t,qt=()=>i.a.createElement(Lt,{dataTest:E("commands-fieldcommandconfirmmessage"),name:Ga,label:N.t("Confirm message"),component:c.G}),{Field:Ut}=c.t,Vt=()=>i.a.createElement(Ut,{dataTest:E("forms-fieldcommanddefaultmessage"),name:_a,label:N.t("Reply message if no codes are sent (only the command)"),component:c.G}),{Field:Bt}=c.t,zt=()=>i.a.createElement(Bt,{dataTest:E("forms-fieldcommandmorethanoneorgunitmessage"),name:Oa,label:N.t("More than one orgunit message"),component:c.G}),{Field:Ht}=c.t,Kt=()=>i.a.createElement(Ht,{required:!0,dataTest:E("commands-fieldcommandname"),name:Na,label:N.t("Name"),component:c.l,validate:Object(c.H)(c.J,c.I)}),{Field:Wt}=c.t,Yt=()=>i.a.createElement(Wt,{dataTest:E("forms-fieldcommandnousermessage"),name:Ta,label:N.t("No user message"),component:c.G}),Jt={value:"KEY_VALUE_PARSER",label:N.t("Key value parser")},Zt={value:"J2ME_PARSER",label:N.t("J2ME parser")},Xt={value:"ALERT_PARSER",label:N.t("Alert parser")},Qt={value:"UNREGISTERED_PARSER",label:N.t("Unregistered parser")},$t={value:"TRACKED_ENTITY_REGISTRATION_PARSER",label:N.t("Tracked entity registration parser")},en={value:"PROGRAM_STAGE_DATAENTRY_PARSER",label:N.t("Program stage data entry parser")},an={value:"EVENT_REGISTRATION_PARSER",label:N.t("Event registration parser")},{Field:tn}=c.t,nn=Object.values(l).sort((e,a)=>e.label<a.label?-1:e.label>a.label?1:0),ln=({disabled:e})=>i.a.createElement(tn,{disabled:e,dataTest:E("forms-fieldcommandparser"),name:ka,label:N.t("Parser"),component:c.w,options:nn});ln.defaultProps={disabled:!1};const{Field:rn}=c.t,sn=()=>i.a.createElement(rn,{dataTest:E("forms-fieldcommandseparator"),name:Da,label:N.t("Field separator"),component:c.l}),{Field:on,useFormState:cn}=c.t,mn={values:!0},dn=({id:e,displayName:a,valueType:t})=>{const{values:n}=cn({subscription:mn}),l=n[Ia][e];return i.a.createElement(on,{required:!0,name:"".concat(Ia,".").concat(e),label:a,component:c.l,format:e=>(null===e||void 0===e?void 0:e.code)||"",parse:n=>l?Object(me.a)(Object(me.a)({},l),{},{code:n}):{code:n,trackedEntityAttribute:{id:e,displayName:a,valueType:t}}})};var un=t(217),gn=t.n(un);const{Field:En,useForm:pn}=c.t,bn=({index:e})=>{const{change:a,getState:t}=pn();return i.a.createElement("div",{key:e,className:gn.a.container},i.a.createElement(En,{required:!0,className:gn.a.field,dataTest:E("@TODO"),label:N.t("Special character name"),name:"".concat(Fa,"[").concat(e,"].name"),component:c.l,validate:c.I}),i.a.createElement(En,{required:!0,className:gn.a.field,dataTest:E("@TODO"),label:N.t("Special character value"),name:"".concat(Fa,"[").concat(e,"].value"),component:c.l,validate:c.I}),i.a.createElement(c.j,{label:"\xa0"},i.a.createElement(c.c,{className:gn.a.button,onClick:()=>{const n=t().values[Fa],l=[...n.slice(0,e),...n.slice(e+1)];a(Fa,l)}},N.t("Remove"))))},{Field:fn}=c.t,yn=()=>i.a.createElement(fn,{dataTest:E("forms-fieldcommandsuccessmessage"),name:ja,label:N.t("Success message"),component:c.G}),{Field:hn}=c.t,vn=()=>i.a.createElement(hn,{type:"checkbox",dataTest:E("forms-fieldusecurrentperiodforreporting"),name:xa,label:N.t("Use current period for reporting"),component:c.g}),{Field:Sn}=c.t,wn=()=>i.a.createElement(Sn,{dataTest:E("forms-fieldcommandwrongformatmessage"),name:Pa,label:N.t("Wrong format message"),component:c.G}),{Field:Cn}=c.t,_n=({programStageDataElements:e,smsCodes:a})=>i.a.createElement(i.a.Fragment,null,e.map(({dataElement:e})=>i.a.createElement(Cn,{key:e.id,name:"".concat(Ia,".").concat(e.id),label:e.displayName,component:c.l,format:e=>(null===e||void 0===e?void 0:e.code)||null,parse:t=>{const n=a[e.id];return Object(me.a)(Object(me.a)({},n),{},{code:t||"",dataElement:e})}}))),{Field:An}=c.t,On=({userGroups:e,loading:a,required:t,disabled:n,errorText:l})=>i.a.createElement(An,{disabled:n,error:!!l,validationText:l,required:t,loading:a,dataTest:E("forms-fielduserGroup"),name:"userGroup",label:N.t("Usergroup"),component:c.w,options:e,validate:t&&c.I});On.defaultProps={disabled:!1,loading:!1,required:!1,errorText:""};const Nn={userGroups:{resource:"userGroups",params:{paging:"false"}}},Tn=({required:e})=>{const{loading:a,error:t,data:n}=Object(_e.e)(Nn);if(a)return i.a.createElement(On,{required:e,loading:!0,showLoadingStatus:!0,userGroups:[]});if(t)return i.a.createElement(On,{required:e,disabled:!0,userGroups:[],errorText:t.message});const{userGroups:l}=n.userGroups,r=l.map(({id:e,displayName:a})=>({label:a,value:e}));return i.a.createElement(On,{required:e,userGroups:r})};Tn.defaultProps={required:!1};const{Form:kn}=c.t,Mn={smsCommand:{resource:"smsCommands",id:({commandId:e})=>e,params:{fields:["name","parserType","receivedMessage","userGroup[name,id]"]}}},Rn=({commandId:e,onAfterChange:a,onCancel:t})=>{const n=it({commandId:e,onAfterChange:a,replace:!0}),{loading:l,error:r,data:s}=Object(_e.e)(Mn,{variables:{commandId:e}});if(l)return i.a.createElement(c.e,null,i.a.createElement(c.h,null));if(r){const e=N.t("Something went wrong whilst loading the sms command");return i.a.createElement(c.s,{error:!0,title:e},r.message)}const{name:o,parserType:m,receivedMessage:d,userGroup:u}=s.smsCommand,g={name:o,parserType:m,receivedMessage:d,userGroup:u.id},p=[{value:u.id,label:u.name}];return i.a.createElement(kn,{keepDirtyOnReinitialize:!0,onSubmit:n,initialValues:g},({handleSubmit:e,pristine:a})=>i.a.createElement("form",{onSubmit:e,"data-test":E("commands-commandunregisteredparserform")},i.a.createElement(W,null,i.a.createElement(Kt,null)),i.a.createElement(W,null,i.a.createElement(ln,{disabled:!0})),i.a.createElement(W,null,i.a.createElement(On,{disabled:!0,userGroups:p})),i.a.createElement(W,null,i.a.createElement(qt,null)),i.a.createElement(Qa,{onCancel:()=>t(a)})))},{Field:Dn}=c.t,In=({programs:e,loading:a,required:t,disabled:n,errorText:l})=>i.a.createElement(Dn,{error:!!l,validationText:l,disabled:n,required:t,loading:a,dataTest:E("forms-fieldprogram"),name:"program",label:N.t("Program"),component:c.w,options:e,validate:t&&c.I,format:e=>(null===e||void 0===e?void 0:e.id)||null,parse:e=>({id:e})});In.defaultProps={disabled:!1,errorText:"",loading:!1,required:!1};const Fn={programs:{resource:"programs",params:({registration:e})=>{const a={paging:"false"};if("undefined"!==typeof e){const t=e?"programType:eq:WITH_REGISTRATION":"programType:eq:WITHOUT_REGISTRATION";a.filter=t}return a}}},jn=({required:e,registration:a})=>{const t={registration:a},{loading:n,error:l,data:r}=(e=>Object(_e.e)(Fn,{variables:{registration:e}}))({variables:t});if(n)return i.a.createElement(In,{required:e,loading:!0,showLoadingStatus:!0,programs:[]});if(l)return i.a.createElement(In,{required:e,disabled:!0,programs:[],errorText:l.message});const{programs:s}=r.programs,o=s.map(({id:e,displayName:a})=>({label:a,value:e}));return i.a.createElement(In,{required:e,programs:o})};jn.defaultProps={required:!1,registration:void 0};const{Form:xn}=c.t,Pn=e=>Object(me.a)(Object(me.a)({},e),{},{[Ia]:Object.values(e[Ia])}),Gn={smsCommand:{resource:"smsCommands",id:({commandId:e})=>e,params:{fields:["name","parserType","separator","defaultMessage","wrongFormatMessage","noUserMessage","moreThanOneOrgUnitMessage","successMessage","program[id,displayName,programTrackedEntityAttributes[trackedEntityAttribute[:all,id,displayName]]]","smsCodes[:all,trackedEntityAttribute[id,displayName,valueType]]"]}}},Ln=({commandId:e,onAfterChange:a,onCancel:t})=>{const n=it({commandId:e,onAfterChange:a,formatCommand:Pn}),{loading:l,error:r,data:s}=Object(_e.e)(Gn,{variables:{commandId:e}});if(l)return i.a.createElement(c.e,null,i.a.createElement(c.h,null));if(r){const e=N.t("Something went wrong whilst loading the sms command");return i.a.createElement(c.s,{error:!0,title:e},r.message)}const{name:o,parserType:m,program:d,separator:u,defaultMessage:g,wrongFormatMessage:E,noUserMessage:p,moreThanOneOrgUnitMessage:b,successMessage:f,smsCodes:y}=s.smsCommand,h=y.reduce((e,a)=>Object(me.a)(Object(me.a)({},e),{},{[a.trackedEntityAttribute.id]:a}),{}),v={name:o,parserType:m,program:d,separator:u,defaultMessage:g,wrongFormatMessage:E,noUserMessage:p,moreThanOneOrgUnitMessage:b,successMessage:f,smsCodes:h},w={value:d.id,label:d.displayName},C=d.programTrackedEntityAttributes.map(({trackedEntityAttribute:e})=>e).map(e=>{const{id:a,displayName:t,valueType:n}=e,l={id:a,displayName:t,valueType:n},r=h[a];return r&&(l.initialValue=r.code),l});return i.a.createElement(xn,{keepDirtyOnReinitialize:!0,onSubmit:n,initialValues:v},({handleSubmit:e,pristine:a})=>i.a.createElement("form",{onSubmit:e},i.a.createElement(W,null,i.a.createElement(Kt,null)),i.a.createElement(W,null,i.a.createElement(ln,{disabled:!0})),i.a.createElement(W,null,i.a.createElement(In,{disabled:!0,programs:[w]})),i.a.createElement(W,null,i.a.createElement(sn,null)),i.a.createElement(W,null,i.a.createElement(Vt,null)),i.a.createElement(W,null,i.a.createElement(wn,null)),i.a.createElement(W,null,i.a.createElement(Yt,null)),i.a.createElement(W,null,i.a.createElement(zt,null)),i.a.createElement(W,null,i.a.createElement(yn,null)),i.a.createElement(S,null,N.t("SMS short codes")),C.map(e=>i.a.createElement(W,{key:e.id},i.a.createElement(dn,{id:e.id,displayName:e.displayName,valueType:e.valueType}))),i.a.createElement(Qa,{onCancel:()=>t(a)})))},{Field:qn}=c.t,Un=({programStages:e,disabled:a,loading:t,required:n,errorText:l})=>i.a.createElement(qn,{disabled:a,error:!!l,validationText:l,required:n,loading:t,dataTest:E("forms-fieldprogramStage"),name:"programStage",label:N.t("Program stage"),component:c.w,options:e,validate:n&&c.I,format:e=>(null===e||void 0===e?void 0:e.id)||null,parse:e=>({id:e})});Un.defaultProps={disabled:!1,loading:!1,required:!1,errorText:""};const Vn={programStages:{resource:"programStages",params:({programId:e})=>({paging:"false",filter:e?"program.id:eq:".concat(e):void 0})}},Bn=({required:e,programId:a})=>{var t;const{loading:n,error:l,data:r,refetch:s}=(({programId:e,lazy:a})=>Object(_e.e)(Vn,{variables:{programId:e},lazy:a}))({lazy:!0});if(Object(m.useEffect)(()=>{a&&s({programId:a})},[a]),n)return i.a.createElement(Un,{loading:!0,required:e,programStages:[]});if(l)return i.a.createElement(Un,{disabled:!0,errorText:l.message,required:e,programStages:[]});if(!a||!r)return i.a.createElement(Un,{disabled:!0,required:e,programStages:[]});const o=((null===r||void 0===r||null===(t=r.programStages)||void 0===t?void 0:t.programStages)||[]).map(({id:e,displayName:a})=>({label:a,value:e}));return i.a.createElement(Un,{required:e,programStages:o})};Bn.defaultProps={required:!1};const zn={smsCommand:{resource:"smsCommands",id:({id:e})=>e,params:{fields:["*","program[id,displayName]","programStage[id,displayName,programStageDataElements[dataElement[id,displayName]]]"],paging:"false"}}},{Form:Hn}=c.t,Kn=e=>Object(me.a)(Object(me.a)({},e),{},{[Ia]:Object.values(e[Ia])}),Wn=({commandId:e,onAfterChange:a,onCancel:t})=>{const{error:n,data:l}=(r=e,Object(_e.e)(zn,{variables:{id:r}}));var r;const s=null===l||void 0===l?void 0:l.smsCommand,o=null===s||void 0===s?void 0:s.programStage.programStageDataElements,m=it({commandId:e,onAfterChange:a,formatCommand:Kn});if(n){const e=N.t("Something went wrong whilst loading the command's details");return i.a.createElement(c.s,{error:!0,title:e},n.message)}if(!s)return i.a.createElement(c.e,null,i.a.createElement(c.h,null));const d=(e=>{const a=e[Na],t=e[Ma],n=e[Ra],l=e[Da],r=e[_a],s=e[Pa],o=e[Ta],c=e[Oa],m=e[ja],i=e[Ia].reduce((e,a)=>Object(me.a)(Object(me.a)({},e),{},{[a.dataElement.id]:a}),{});return{[Na]:a,[ka]:en.value,[Ma]:t,[Ra]:n,[Da]:l,[_a]:r,[Pa]:s,[Ta]:o,[Oa]:c,[ja]:m,[Ia]:i}})(s),u={value:s.program.id,label:s.program.displayName},g={value:s.programStage.id,label:s.programStage.displayName};return i.a.createElement(Hn,{keepDirtyOnReinitialize:!0,onSubmit:m,initialValues:d},({handleSubmit:e,values:a,pristine:n})=>i.a.createElement("form",{onSubmit:e,"data-test":E("commands-commandeditprogramstagedataentryparserform")},i.a.createElement(W,null,i.a.createElement(Kt,null)),i.a.createElement(W,null,i.a.createElement(ln,{disabled:!0})),i.a.createElement(W,null,i.a.createElement(In,{disabled:!0,programs:[u]})),i.a.createElement(W,null,i.a.createElement(Un,{disabled:!0,programStages:[g]})),i.a.createElement(W,null,i.a.createElement(sn,null)),i.a.createElement(W,null,i.a.createElement(Vt,null)),i.a.createElement(W,null,i.a.createElement(wn,null)),i.a.createElement(W,null,i.a.createElement(Yt,null)),i.a.createElement(W,null,i.a.createElement(zt,null)),i.a.createElement(W,null,i.a.createElement(yn,null)),i.a.createElement(S,null,N.t("SMS short codes")),o&&i.a.createElement(W,null,i.a.createElement(_n,{programStageDataElements:o,smsCodes:a[Ia]})),i.a.createElement(Qa,{onCancel:()=>t(n)})))},Yn={smsCommand:{resource:"smsCommands",id:({id:e})=>e,params:{fields:["*","dataset[id,displayName,dataSetElements[dataElement[id,displayName,categoryCombo[categoryOptionCombos[id,displayName,code]]]]"],paging:"false"}}},{Form:Jn,FormSpy:Zn}=c.t,Xn=e=>{let a=!1;const t={},n=e[Ia],l=(n?Object.entries(n):[]).filter(([e,{code:a}])=>a);if(l.length){const e=(e=>e.reduce((a,t,n)=>{const[l,r]=t;if(a.includes(l))return a;const s=e.filter(([e,a],t)=>a.code===r.code&&t!==n);if(!s.length)return a;const o=s.reduce((e,[a])=>[...e,a],[l]);return[...a,...o]},[]))(l);if(e.length){a=!0;const n={};e.forEach(e=>{n[e]={code:N.t("Duplicate value!")}}),t[Ia]=t[Ia]||{},Object.assign(t[Ia],n)}}return a?t:void 0},Qn=e=>{const a=e[Ia],t=Object.entries(a).map(([e,{code:a,formula:t,compulsory:n,optionId:l}])=>{const[r]=e.split("-"),s={code:a,compulsory:n,dataElement:{id:r}};return t&&(s.formula=t),l&&(s.optionId=l),s});return Object(me.a)(Object(me.a)({},e),{},{[Ia]:t})},$n=({commandId:e,onAfterChange:a,dataTest:t,initialCompletenessMethod:n,onCancel:l})=>{const{error:r,data:s}=(o=e,Object(_e.e)(Yn,{variables:{id:o}}));var o;const m=null===s||void 0===s?void 0:s.smsCommand,d=it({commandId:e,onAfterChange:a,formatCommand:Qn});if(r){const e=N.t("Something went wrong whilst loading the command's details");return i.a.createElement(c.s,{error:!0,title:e},r.message)}if(!m)return i.a.createElement(c.e,null,i.a.createElement(c.h,null));const u={value:m.dataset.id,label:m.dataset.displayName},g=((e,a)=>{const t=e[Na],n=Jt.value,l={id:e.dataset.id},r=e[Da],s=a||e[Ca]||Ua.value,o=e[xa],c=e[_a],m=e[Pa],i=e[Ta],d=e[Oa],u=e[ja],g=e[Ia].reduce((e,{code:a,compulsory:t,formula:n,optionId:l,dataElement:r})=>{const s=l<10?r.id:"".concat(r.id,"-").concat(l),o={code:a,compulsory:t,optionId:l};return n&&(o.formula=n),Object(me.a)(Object(me.a)({},e),{},{[s]:o})},{}),E=e[Fa]||[];return{[Na]:t,[ka]:n,dataset:l,[Da]:r,[Ca]:s,[xa]:o,[_a]:c,[Pa]:m,[Ta]:i,[Oa]:d,[ja]:u,smsCodes:g,specialCharacters:E}})(m,n),E=m.dataset.dataSetElements.reduce((e,{dataElement:a})=>{var t;const n=null===(t=a.categoryCombo)||void 0===t?void 0:t.categoryOptionCombo;if(!n)return[...e,{dataElement:a}];const l=n.map(e=>({dataElement:a,categoryOptionCombo:e}));return[...e,...l]},[]);return i.a.createElement(Jn,{keepDirtyOnReinitialize:!0,onSubmit:d,initialValues:g,validate:Xn,subscription:{pristine:!0}},({handleSubmit:e,form:a,pristine:n})=>i.a.createElement("form",{onSubmit:e,"data-test":t},i.a.createElement(W,null,i.a.createElement(Kt,null)),i.a.createElement(W,null,i.a.createElement(ln,{disabled:!0})),i.a.createElement(W,null,i.a.createElement(ut,{disabled:!0,dataSets:[u]})),i.a.createElement(W,null,i.a.createElement(Gt,null)),i.a.createElement(W,null,i.a.createElement(vn,null)),i.a.createElement(W,null,i.a.createElement(sn,null)),i.a.createElement(W,null,i.a.createElement(Vt,null)),i.a.createElement(W,null,i.a.createElement(wn,null)),i.a.createElement(W,null,i.a.createElement(Yt,null)),i.a.createElement(W,null,i.a.createElement(zt,null)),i.a.createElement(W,null,i.a.createElement(yn,null)),E&&i.a.createElement(jt,{DE_COC_combinations:E}),i.a.createElement(S,null,N.t("Special characters")),i.a.createElement(Zn,{subscription:{values:!0}},({values:e})=>i.a.createElement(i.a.Fragment,null,e[Fa].map((e,a)=>i.a.createElement(W,{key:a},i.a.createElement(bn,{index:a}))))),i.a.createElement(qa,null),i.a.createElement(Qa,{onCancel:()=>l(n)})))},el=({commandId:e,onAfterChange:a,onCancel:t})=>i.a.createElement($n,{dataTest:E("smscommandkeyvalueparser-commandeditkeyvalueparserform"),commandId:e,onAfterChange:a,onCancel:t}),al=({commandId:e,onAfterChange:a,onCancel:t})=>i.a.createElement($n,{dataTest:E("smscommandkeyvalueparser-commandeditj2meparserform"),commandId:e,onAfterChange:a,onCancel:t,initialCompletenessMethod:Va.value}),tl={smsCommand:{resource:"smsCommands",id:({id:e})=>e,params:{fields:["*","program[id,displayName]","programStage[id,displayName,programStageDataElements[id,dataElement[id,displayName]]"],paging:"false"}}},{Form:nl}=c.t,ll=e=>Object(me.a)(Object(me.a)({},e),{},{[Ia]:Object.values(e[Ia])}),rl=({commandId:e,onAfterChange:a,onCancel:t})=>{const{error:n,data:{smsCommand:l}={}}=(r=e,Object(_e.e)(tl,{variables:{id:r}}));var r;const s=it({commandId:e,onAfterChange:a,formatCommand:ll});if(n){const e=N.t("Something went wrong whilst loading the command's details");return i.a.createElement(c.s,{error:!0,title:e},n.message)}if(!l)return i.a.createElement(c.e,null,i.a.createElement(c.h,null));const o={value:l.program.id,label:l.program.displayName},m={value:l.programStage.id,label:l.programStage.displayName},d=l.programStage.programStageDataElements,u=(e=>{const a=e[Na],t=e[Ma],n=e[Ra],l=e[Da],r=e[_a],s=e[Pa],o=e[Ta],c=e[Oa],m=e[ja],i=e[Ia].reduce((e,a)=>Object(me.a)(Object(me.a)({},e),{},{[a.dataElement.id]:a}),{});return{[Na]:a,[ka]:an.value,[Ma]:t,[Ra]:n,[Da]:l,[_a]:r,[Pa]:s,[Ta]:o,[Oa]:c,[ja]:m,[Ia]:i}})(l);return i.a.createElement(nl,{keepDirtyOnReinitialize:!0,initialValues:u,onSubmit:s},({handleSubmit:e,values:a,pristine:n})=>i.a.createElement("form",{onSubmit:e},i.a.createElement(W,null,i.a.createElement(Kt,null)),i.a.createElement(W,null,i.a.createElement(ln,{disabled:!0})),i.a.createElement(W,null,i.a.createElement(In,{disabled:!0,programs:[o]})),i.a.createElement(W,null,i.a.createElement(Un,{disabled:!0,programStages:[m]})),i.a.createElement(W,null,i.a.createElement(sn,null)),i.a.createElement(W,null,i.a.createElement(Vt,null)),i.a.createElement(W,null,i.a.createElement(wn,null)),i.a.createElement(W,null,i.a.createElement(Yt,null)),i.a.createElement(W,null,i.a.createElement(zt,null)),i.a.createElement(W,null,i.a.createElement(yn,null)),i.a.createElement(S,null,N.t("SMS short codes")),d&&i.a.createElement(W,null,i.a.createElement(_n,{programStageDataElements:d,smsCodes:a[Ia]})),i.a.createElement(Qa,{onCancel:()=>t(n)})))},{Form:sl}=c.t,ol={smsCommand:{resource:"smsCommands",id:({commandId:e})=>e,params:{fields:["name","parserType","receivedMessage","userGroup[name,id]"]}}},cl=({commandId:e,onAfterChange:a,onCancel:t})=>{const n=it({commandId:e,onAfterChange:a,replace:!0}),{loading:l,error:r,data:s}=Object(_e.e)(ol,{variables:{commandId:e}});if(l)return i.a.createElement(c.e,null,i.a.createElement(c.h,null));if(r){const e=N.t("Something went wrong whilst loading the sms command");return i.a.createElement(c.s,{error:!0,title:e},r.message)}const{name:o,parserType:m,receivedMessage:d,userGroup:u}=s.smsCommand,g={name:o,parserType:m,receivedMessage:d,userGroup:u.id},p=[{value:u.id,label:u.name}];return i.a.createElement(sl,{keepDirtyOnReinitialize:!0,onSubmit:n,initialValues:g},({handleSubmit:e,pristine:a})=>i.a.createElement("form",{onSubmit:e,"data-test":E("commands-commandeditalertparserform")},i.a.createElement(W,null,i.a.createElement(Kt,null)),i.a.createElement(W,null,i.a.createElement(ln,{disabled:!0})),i.a.createElement(W,null,i.a.createElement(On,{disabled:!0,userGroups:p})),i.a.createElement(W,null,i.a.createElement(qt,null)),i.a.createElement(Qa,{onCancel:()=>t(a)})))};var ml=t(218),il=t.n(ml);const dl="".concat("/sms-config/edit","/:id"),ul=()=>{const e=Object(o.f)(),{id:a}=Object(o.h)(),{loading:t,error:n,data:l}=(e=>Object(_e.e)(lt,{variables:{id:e}}))(a),[r,s]=Object(m.useState)(!1);if(t)return i.a.createElement(c.e,null,i.a.createElement(c.h,null));if(n){const e=N.t("Something went wrong whilst loading commands");return i.a.createElement(c.s,{error:!0,title:e},n.message)}const d=null===l||void 0===l?void 0:l.smsCommand[ka],u=(e=>{const a=et.bind(null,e);return e&&a(Jt)?el:e&&a(Zt)?al:e&&a(Xt)?cl:e&&a(en)?Wn:e&&a(Qt)?Rn:e&&a(an)?rl:e&&a($t)?Ln:null})(d);return i.a.createElement("div",{className:il.a.container},i.a.createElement(y,null,N.t("Edit command")),u&&i.a.createElement(u,{commandId:a,onCancel:a=>a?e.goBack():s(!0),onAfterChange:()=>e.push(wl)}),r&&i.a.createElement(ie,{onConfirmCancel:()=>e.push(wl),onAbortCancel:()=>s(!1)}),!d&&i.a.createElement(c.s,{error:!0,title:N.t("Unrecognised parser type")},N.t("Could not find the requested parser type")))};var gl=t(219),El=t.n(gl);const{Form:pl,useForm:bl}=c.t,fl=({handleSubmit:e,submitting:a})=>{(()=>{const e=bl(),[a,t]=Object(m.useState)(e.getState().values);Object(m.useEffect)(()=>e.subscribe(({values:n})=>{e.batch(()=>{const t=n[ka],l=n.program,r=n.programStage,s=a.program,o=a[ka];r&&(s&&l!==s||o&&t!==o)&&e.change("programStage",null)}),t(n)},{values:!0}),[a])})();const t=Object(o.f)(),n=bl(),{values:l}=n.getState(),r=l[ka],s=l.program,d=r===Jt.value||r===Zt.value,u=r===Xt.value||r===Qt.value,g=r===$t.value||r===en.value||r===an.value,E=r===en.value,p=r!==an.value&&void 0;return i.a.createElement("div",{className:El.a.container},i.a.createElement(y,null,N.t("Add command")),i.a.createElement("form",{onSubmit:e},i.a.createElement(W,null,i.a.createElement(Kt,null)),i.a.createElement(W,null,i.a.createElement(ln,null)),d&&i.a.createElement(W,null,i.a.createElement(Et,null)),u&&i.a.createElement(W,null,i.a.createElement(Tn,null)),g&&i.a.createElement(W,null,i.a.createElement(jn,{registration:p})),E&&i.a.createElement(W,null,i.a.createElement(Bn,{programId:s||""})),i.a.createElement(c.d,null,i.a.createElement(c.c,{onClick:()=>t.goBack()},N.t("Cancel")),i.a.createElement(c.c,{primary:!0,type:"submit",icon:a?i.a.createElement(c.h,{small:!0}):null,disabled:a},N.t("Add command")))))},yl=()=>{const e=Object(o.f)(),[a]=(({onComplete:e,onError:a})=>Object(_e.d)(at,{onComplete:e,onError:a}))({onComplete:()=>e.push(wl)});return i.a.createElement(pl,{onSubmit:e=>a(e)},({handleSubmit:e,submitting:a})=>i.a.createElement(fl,{handleSubmit:e,submitting:a}))};var hl=t(220),vl=t.n(hl);const Sl=N.t("Commands"),wl="/sms-config",Cl=()=>{var e,a,t,n,l,s;const d=Object(o.f)(),[u,g]=Object(m.useState)([]),[p,b]=Object(m.useState)(!1),{loading:f,error:h,data:v,refetch:S}=Object(_e.e)(rt),[w,{loading:C,error:_}]=nt();if(f)return i.a.createElement("div",{"data-test":E("views-smscommandlist")},i.a.createElement(y,null,Sl),i.a.createElement(c.e,null,i.a.createElement(c.h,null)));const A=h||_;if(A){const e=N.t("Something went wrong whilst performing the requested operation");return i.a.createElement("div",{"data-test":E("views-smscommandlist")},i.a.createElement(y,null,Sl),i.a.createElement(c.s,{error:!0,title:e},A.message))}const O=u.length===(null===v||void 0===v||null===(e=v.smsCommands)||void 0===e||null===(a=e.smsCommands)||void 0===a?void 0:a.length),T=(null===v||void 0===v||null===(t=v.smsCommands)||void 0===t||null===(n=t.smsCommands)||void 0===n?void 0:n.length)>0;return i.a.createElement("div",{"data-test":E("views-smscommandlist"),className:vl.a.container},i.a.createElement(y,null,Sl),i.a.createElement(ee,null,N.t("SMS commands process SMS messages received by a DHIS2 instance, taking certain actions depending on the command and message content. Multiple SMS commands can be set up to process and handle data in multiple ways. Add and configure SMS commands below. Read about SMS commands in the DHIS2 documentation.")),i.a.createElement(We,{addLabel:N.t("Add command"),deleteLabel:N.t("Delete selected"),dataTest:"views-smscommandlist",onAddClick:()=>d.push("/sms-config/new"),onDeleteClick:()=>b(!0),disableAdd:C,disableDelete:!u.length||C}),p&&i.a.createElement($a,{onCancelClick:()=>b(!1),onDeleteClick:async()=>{const e=u.map(({id:e})=>e);await w({ids:e}),g([]),b(!1),S()}}),i.a.createElement(c.y,null,i.a.createElement(c.D,null,i.a.createElement(c.F,null,i.a.createElement(c.B,null,i.a.createElement(c.f,{checked:O,onChange:()=>{var e;const a=null===v||void 0===v||null===(e=v.smsCommands)||void 0===e?void 0:e.smsCommands;a&&(u.length===a.length?g([]):g(a.map(({id:e,displayName:a})=>({id:e,displayName:a}))))}})),i.a.createElement(c.B,null,N.t("Sms command")),i.a.createElement(c.B,null,N.t("Parser")),i.a.createElement(c.B,null))),i.a.createElement(c.z,null,T?null===v||void 0===v||null===(l=v.smsCommands)||void 0===l||null===(s=l.smsCommands)||void 0===s?void 0:s.map(({id:e,displayName:a,parserType:t})=>i.a.createElement(c.E,{key:e},i.a.createElement(c.A,{className:vl.a.checkbox},i.a.createElement(c.f,{checked:!!u.find(({id:a})=>e===a),onChange:()=>(e=>{const{id:a}=e;if(u.find(({id:e})=>a===e)){const e=u.findIndex(({id:e})=>a===e);return g([...u.slice(0,e),...u.slice(e+1)])}return g([...u,e])})({id:e,displayName:a})})),i.a.createElement(c.A,null,a),i.a.createElement(c.A,null,(e=>{const a=Object.values(r).find(({value:a})=>a===e);return(null===a||void 0===a?void 0:a.label)||e})(t)),i.a.createElement(c.A,{className:vl.a.editButtonCell},i.a.createElement(c.c,{onClick:()=>d.push("".concat("/sms-config/edit","/").concat(e))},N.t("Edit"))))):i.a.createElement(c.E,null,i.a.createElement(c.A,{colSpan:"4",className:vl.a.noResults},N.t("No commands to display"))))))},_l={DELIVERED:A.a.t("Delivered"),ERROR:A.a.t("Error"),FAILED:A.a.t("Failed"),OUTBOUND:A.a.t("Outbound"),PENDING:A.a.t("Pending"),SCHEDULED:A.a.t("Scheduled"),SENT:A.a.t("Sent")};var Al=t(221),Ol=t.n(Al);var Nl=({sms:e,toggleSelected:a,isSelected:t})=>{const{message:n,status:l,date:r,id:s}=e,o=null===e.recipients?[]:e.recipients;return i.a.createElement(c.E,null,i.a.createElement(c.A,null,i.a.createElement(c.f,{onChange:()=>a(s),checked:t})),i.a.createElement(c.A,null,n),i.a.createElement(c.A,null,o.map((e,a,t)=>i.a.createElement("span",{key:e+a,className:Ol.a.recipient},e,a!==t.length-1&&", "))),i.a.createElement(c.A,null,_l[l]),i.a.createElement(c.A,null,da()(r).format("MMMM Do YYYY, h:mm:ss a")))};const Tl=()=>{throw new Error("RefetchSms consumer needs to have a valid Provider as parent")};var kl=Object(m.createContext)({refetch:Tl,refetchAndClear:Tl}),Ml=t(222),Rl=t.n(Ml);const Dl=["10","20","30","40","50","100"];var Il=({pager:e})=>{const{refetchAndClear:a}=Object(m.useContext)(kl),t=e=>{a({page:e})},{page:n,pageCount:l,pageSize:r,total:s}=e,o=Math.min((n-1)*r+1,s),d=Math.min(o+r-1,s),u=Array.from({length:l},(e,a)=>(a+1).toString());return i.a.createElement("div",{className:Rl.a.container},i.a.createElement("div",{className:Rl.a.left},i.a.createElement("span",null,N.t("Show")),i.a.createElement(c.u,{dense:!0,selected:r.toString(),onChange:({selected:e})=>{a({pageSize:e,page:1})}},Dl.map(e=>i.a.createElement(c.x,{key:e,value:e,label:e}))),i.a.createElement("span",null,N.t("per page"))),i.a.createElement("div",{className:Rl.a.right},i.a.createElement("div",{className:Rl.a.amount},N.t("Viewing {{firstItem}}-{{lastItem}} of {{total}}",{firstItem:o,lastItem:d,total:s})),i.a.createElement(c.c,{small:!0,disabled:1===n,onClick:()=>t(n-1)},N.t("Previous")),i.a.createElement("div",{className:Rl.a.pageselection},i.a.createElement("div",null,N.t("Page")),i.a.createElement(c.u,{dense:!0,selected:n.toString(),onChange:({selected:e})=>{t(e)}},u.map(e=>i.a.createElement(c.x,{key:e,value:e,label:e}))),i.a.createElement("div",null,N.t("of {{pageCount}}",{pageCount:l}))),i.a.createElement(c.c,{small:!0,disabled:n===l,onClick:()=>t(n+1)},N.t("Next"))))},Fl=t(223),jl=t.n(Fl);var xl=({smses:e,toggleSelected:a,toggleAll:t,allSelected:n,selected:l,pager:r})=>i.a.createElement(c.y,null,i.a.createElement(c.D,null,i.a.createElement(c.F,null,i.a.createElement(c.B,null,i.a.createElement(c.f,{disabled:0===e.length,onChange:t,checked:n})),i.a.createElement(c.B,null,N.t("Message")),i.a.createElement(c.B,null,N.t("Recipients")),i.a.createElement(c.B,null,N.t("Status")),i.a.createElement(c.B,null,N.t("Date")))),i.a.createElement(c.z,null,0===e.length?i.a.createElement(c.E,null,i.a.createElement(c.A,{colSpan:"7",className:jl.a.noResults},N.t("No SMSes to display"))):e.map(e=>i.a.createElement(Nl,{key:e.id,sms:e,isSelected:l.includes(e.id),toggleSelected:a}))),i.a.createElement(c.C,null,i.a.createElement(c.E,null,i.a.createElement(c.A,{colSpan:"7"},i.a.createElement(Il,{pager:r})))));const Pl=e=>"ALL"===e?"":e,Gl=[{label:N.t("All"),value:"ALL"},...["DELIVERED","ERROR","FAILED","OUTBOUND","PENDING","SCHEDULED","SENT"].map(e=>({label:_l[e],value:e}))];var Ll=({status:e,setStatus:a})=>{const{refetchAndClear:t}=Object(m.useContext)(kl);return i.a.createElement(c.v,{label:N.t("Filter by status"),inputWidth:"200px",onChange:({selected:e})=>{a(e),t({status:Pl(e),page:1})},selected:e},Gl.map(({label:e,value:a})=>i.a.createElement(c.x,{key:e,label:e,value:a})))};const ql={resource:"sms/outbound",params:({ids:e})=>({ids:e}),type:"delete"};var Ul=({selected:e})=>{const a=0===e.length,t=e.join(","),{addAlert:n}=Object(m.useContext)(g),{refetchAndClear:l}=Object(m.useContext)(kl),[r,{loading:s}]=Object(_e.d)(ql,{onComplete:()=>{l()},onError:e=>{n({type:"critical",message:e.message})}});return i.a.createElement(c.c,{destructive:!0,disabled:a||s,onClick:()=>r({ids:t})},N.t("Delete selected"))},Vl=t(224),Bl=t.n(Vl);const zl=N.t("Sent"),Hl={sms:{resource:"sms/outbound",params:({status:e,page:a,pageSize:t})=>{const n={pageSize:t,page:a,fields:["id","message","status","date","recipients"]};return e?Object(me.a)(Object(me.a)({},n),{},{filter:"status:eq:".concat(e)}):n}}},Kl=()=>{var e;const[a,t]=Object(m.useState)([]),[n,l]=Object(m.useState)("ALL"),{loading:r,error:s,data:o,refetch:d}=Object(_e.e)(Hl,{variables:{status:Pl(n),pageSize:10,page:1}});if(r)return i.a.createElement(i.a.Fragment,null,i.a.createElement(y,null,zl),i.a.createElement(c.e,null,i.a.createElement(c.h,null)));if(s){const e=N.t("Something went wrong whilst loading sent SMSes");return i.a.createElement(i.a.Fragment,null,i.a.createElement(y,null,zl),i.a.createElement(c.s,{error:!0,title:e},s.message))}const u=(e=>e.map(e=>e.id))(o.sms.outboundsmss),g=((e,a)=>{const t=0===e.length,n=e.length!==a.length;return!t&&!n&&e.every(e=>a.includes(e))})(u,a),E=(({selected:e,setSelected:a})=>t=>{if(e.includes(t)){const n=e.filter(e=>e!=t);a(n)}})({selected:a,setSelected:t}),p=(({allSelected:e,setSelected:a,allIds:t})=>()=>a(e?[]:t))({allSelected:g,setSelected:t,allIds:u}),b=(({selected:e,setSelected:a})=>t=>{if(e.includes(t)){const n=e.filter(e=>e!==t);return a(n)}return a([...e,t])})({selected:a,setSelected:t}),f={refetch:d,refetchAndClear:e=>{t([]),d(e)}},h=(null===o||void 0===o||null===(e=o.sms)||void 0===e?void 0:e.outboundsmss)||[];return i.a.createElement("div",{className:Bl.a.container},i.a.createElement(kl.Provider,{value:f},i.a.createElement(y,null,zl),i.a.createElement("div",{className:Bl.a.header},i.a.createElement(Ll,{status:n,setStatus:l}),i.a.createElement("div",{className:Bl.a.headerRight},i.a.createElement(Ul,{selected:a}))),i.a.createElement(xl,{smses:h,cleanSelected:E,allSelected:g,selected:a,toggleSelected:b,toggleAll:p,pager:o.sms.pager})))};var Wl=t(225),Yl=t.n(Wl);const Jl=({label:e,path:a,exactMatch:t})=>{const n=Object(o.f)(),l=((e,a)=>{const t=Object(o.i)(e);return!!t&&(!a||t.isExact)})(a,t);return i.a.createElement(c.n,{className:Yl.a.item,onClick:()=>n.push(a),active:l,label:e,dataTest:E("navigation-navigationitem")})};Jl.defualtProps={exactMatch:!1};const Zl=()=>i.a.createElement(c.m,{dataTest:E("navigation-navigation")},i.a.createElement(Jl,{path:"/",label:"Home",exactMatch:!0}),i.a.createElement(Jl,{path:Ze,label:"Gateway configuration"}),i.a.createElement(Jl,{path:wl,label:Sl}),i.a.createElement(Jl,{path:"/sent",label:zl}),i.a.createElement(Jl,{path:"/received",label:$e}));a.default=()=>i.a.createElement(p,null,i.a.createElement(c.i,{spacers:!0,colors:!0}),i.a.createElement(s.a,null,i.a.createElement(c.i,{colors:!0}),i.a.createElement("div",{className:u.a.container,"data-test":E("app")},i.a.createElement("div",{className:u.a.sidebar},i.a.createElement(Zl,null)),i.a.createElement("main",{className:u.a.content},i.a.createElement(o.c,null,i.a.createElement(o.a,{exact:!0,path:"/",component:w}),"",i.a.createElement(o.a,{exact:!0,path:Ze,component:Xe}),i.a.createElement(o.a,{exact:!0,path:ge,component:Ee}),i.a.createElement(o.a,{exact:!0,path:"/sms-gateway/new",component:ze}),"",i.a.createElement(o.a,{exact:!0,path:wl,component:Cl}),i.a.createElement(o.a,{exact:!0,path:dl,component:ul}),i.a.createElement(o.a,{exact:!0,path:"/sms-config/new",component:yl}),"",i.a.createElement(o.a,{exact:!0,path:"/sent",component:Kl}),"",i.a.createElement(o.a,{exact:!0,path:"/received",component:wa}),i.a.createElement(o.a,{component:C}))))))}}]);
//# sourceMappingURL=app.882ddf2d.chunk.js.map