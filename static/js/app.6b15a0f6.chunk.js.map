{"version":3,"sources":["D2App/shared/components/Date/Date.module.css","D2App/shared/components/FormRow/FormRow.module.css","D2App/shared/components/ListActions/ListActions.module.css","D2App/shared/components/Navigation/NavigationItem.module.css","D2App/shared/components/PageHeadline/PageHeadline.module.css","D2App/shared/components/PageSubHeadline/PageSubHeadline.module.css","D2App/shared/components/Paragraph/Paragraph.module.css","D2App/shared/components/pagination/Pagination.module.css","D2App/shared/components/SmsTable/SmsTable.module.css","D2App/shared/components/Template/LayoutContainer.module.css","D2App/shared/components/Template/LayoutContent.module.css","D2App/shared/components/Template/LayoutSidebar.module.css","D2App/shared/components/Time/Time.module.css","D2App/sms-command/ViewSmsCommandAdd/ViewSmsCommandAdd.module.css","D2App/sms-command/FieldSpecialCharacter/FieldSpecialCharacter.module.css","D2App/sms-command/FieldDataElementWithCategoryOptionCombo/CurrentFormula.module.css","D2App/sms-command/FieldDataElementWithCategoryOptionCombo/FieldDataElementWithCategoryOptionCombo.module.css","D2App/sms-command/DataElementTimesCategoryOptionCombos/DataElementTimesCategoryOptionCombos.module.css","D2App/sms-command/ViewSmsCommandEdit/ViewSmsCommandEdit.module.css","D2App/sms-command/ViewSmsCommandList/ViewSmsCommandList.module.css","D2App/sms-gateway/ActionAddKeyValuePair/ActionAddKeyValuePair.module.css","D2App/sms-gateway/FieldKeyValuePair/FieldKeyValuePair.module.css","D2App/sms-gateway/ViewSmsGatewayAdd/ViewSmsGatewayAdd.module.css","D2App/sms-gateway/ViewSmsGatewayEdit/ViewSmsGatewayEdit.module.css","D2App/sms-gateway/ViewSmsGatewayList/GatewaysTable.module.css","D2App/sms-gateway/ViewSmsGatewayList/List.module.css","D2App/sms-gateway/ViewSmsGatewayList/ViewSmsGatewayList.module.css","D2App/sms-inbound/Filter/Filter.module.css","D2App/sms-inbound/ReceivedSmsTable/ReceivedSmsTable.module.css","D2App/sms-inbound/ViewReceivedSmsList/ViewReceivedSmsList.module.css","D2App/sms-outbound/SentSmsTable/SentSmsTable.module.css","D2App/sms-outbound/StatusFilter/StatusFilter.module.css","D2App/sms-outbound/ViewSentSmsList/ViewSentSmsList.module.css","D2App/sms-overview/HomeCard/HomeCard.module.css","D2App/sms-overview/ViewOverview/ViewOverview.module.css","D2App/locales/index.js","D2App/shared/components/AlertHandler/AlertContext.js","D2App/shared/utils/dataTest/dataTest.js","D2App/shared/components/AlertHandler/AlertHandler.js","D2App/shared/components/CancelDialog/CancelDialog.js","D2App/shared/components/ContentLoading/ContentLoading.js","D2App/shared/components/ContentLoadingError/ContentLoadingError.js","D2App/shared/components/Date/Date.js","D2App/shared/components/DeleteConfirmationDialog/DeleteConfirmationDialog.js","D2App/shared/components/FieldUserGroup/FieldUserGroup.js","D2App/shared/components/FieldUserGroup/useReadUserGroupsQuery.js","D2App/shared/components/FieldUserGroup/FieldUserGroupWithAutoLoad.js","D2App/shared/components/FormRow/FormRow.js","D2App/shared/components/ListActions/ListActions.js","D2App/shared/components/Navigation/NavigationItem.js","D2App/shared/components/Navigation/Navigation.js","D2App/shared/components/PageHeadline/PageHeadline.js","D2App/shared/components/PageSubHeadline/PageSubHeadline.js","D2App/shared/components/Paragraph/Paragraph.js","D2App/shared/hooks/useQueryParam/useQueryParams.js","D2App/shared/hooks/useSubmit/useSubmit.js","D2App/shared/components/pagination/Pagination.js","D2App/shared/components/SmsTable/SmsTable.js","D2App/shared/components/Template/LayoutContainer.js","D2App/shared/components/Template/LayoutContent.js","D2App/shared/components/Template/LayoutSidebar.js","D2App/shared/components/Template/TemplateSidebarNavContent.js","D2App/shared/components/Time/Time.js","D2App/shared/providers/feature-toggle-context.js","D2App/shared/providers/use-feature-toggle.js","D2App/shared/providers/feature-toggle-provider.js","D2App/AppWrapper.js","D2App/sms-command/FieldCommandName/FieldCommandName.js","D2App/sms-command/FieldDataSet/FieldDataSet.js","D2App/sms-command/FieldDataSet/useReadDataSetsQuery.js","D2App/sms-command/FieldDataSet/FieldDataSetWithAutoLoad.js","D2App/sms-command/FieldParser/parserTypes.js","D2App/sms-command/FieldParser/FieldParser.js","D2App/sms-command/FieldProgram/FieldProgram.js","D2App/sms-command/FieldProgram/programTypes.js","D2App/sms-command/FieldProgram/useReadProgramsQuery.js","D2App/sms-command/FieldProgram/FieldProgramWithAutoLoad.js","D2App/sms-command/FieldProgramStage/FieldProgramStage.js","D2App/sms-command/FieldProgramStage/useReadProgramStagesQuery.js","D2App/sms-command/FieldProgramStage/FieldProgramStageWithLoadingStates.js","D2App/sms-command/ViewSmsCommandAdd/useCreateSmsCommandMutation.js","D2App/sms-command/ViewSmsCommandAdd/ViewSmsCommandAdd.js","D2App/sms-command/FieldConfirmMessage/FieldConfirmMessage.js","D2App/sms-command/FormActions/SaveCommandButton.js","D2App/sms-command/FormActions/FormActions.js","D2App/sms-command/SubmitErrors/SubmitErrors.js","D2App/sms-command/FormAlertParser/Form.js","D2App/sms-command/FormAlertParser/useAlertDataQuery.js","D2App/sms-command/FormAlertParser/useUpdateCommandMutation.js","D2App/sms-command/FormAlertParser/FormAlertParser.js","D2App/sms-command/FormAlertParser/createInitialValues.js","D2App/sms-command/FormAlertParser/createUserGroupOptions.js","D2App/sms-command/FieldDefaultMessage/FieldDefaultMessage.js","D2App/sms-command/FieldMoreThanOneOrgUnitMessage/FieldMoreThanOneOrgUnitMessage.js","D2App/sms-command/FieldNoUserMessage/FieldNoUserMessage.js","D2App/sms-command/FieldSeparator/FieldSeparator.js","D2App/sms-command/FieldSmsCode/FieldSmsCode.js","D2App/sms-command/FieldSmsCodeDataElement/FieldSmsCodeDataElement.js","D2App/sms-command/FieldSuccessMessage/FieldSuccessMessage.js","D2App/sms-command/FieldWrongFormatMessage/FieldWrongFormatMessage.js","D2App/sms-command/FormEventRegistrationParser/Form.js","D2App/sms-command/FormEventRegistrationParser/getInitialFormState.js","D2App/sms-command/FormEventRegistrationParser/useCommandQuery.js","D2App/sms-command/FormEventRegistrationParser/useUpdateCommandMutation.js","D2App/sms-command/FormEventRegistrationParser/FormEventRegistrationParser.js","D2App/sms-command/FieldSpecialCharacter/FieldSpecialCharacter.js","D2App/sms-command/AddSpecialCharacters/AddSpecialCharacters.js","D2App/sms-command/FieldDataElementWithCategoryOptionCombo/CurrentFormula.js","D2App/sms-command/FieldDataElementWithCategoryOptionCombo/AddFormulaButton.js","D2App/sms-command/FieldDataElementWithCategoryOptionCombo/useReadDataElementsOfDataSetQuery.js","D2App/sms-command/FieldDataElementWithCategoryOptionCombo/FormulaModalForm.js","D2App/sms-command/FieldDataElementWithCategoryOptionCombo/FieldDataElementWithCategoryOptionCombo.js","D2App/sms-command/FieldCompletenessMethod/completenessMethods.js","D2App/sms-command/FieldCompletenessMethod/FieldCompletenessMethod.js","D2App/sms-command/DataElementTimesCategoryOptionCombos/CompletenessMessage.js","D2App/sms-command/DataElementTimesCategoryOptionCombos/DataElementTimesCategoryOptionCombos.js","D2App/sms-command/FieldUseCurrentPeriodForReporting/FieldUseCurrentPeriodForReporting.js","D2App/sms-command/FormJ2meParser/Form.js","D2App/sms-command/FormJ2meParser/getInitialFormState.js","D2App/sms-command/getSmsCodeDuplicates/getSmsCodeDuplicates.js","D2App/sms-command/FormJ2meParser/globalValidate.js","D2App/sms-command/FormJ2meParser/useCommandData.js","D2App/sms-command/FormJ2meParser/useUpdateCommandMutation.js","D2App/sms-command/FormJ2meParser/FormJ2meParser.js","D2App/sms-command/FormKeyValueParser/Form.js","D2App/sms-command/FormKeyValueParser/getInitialFormState.js","D2App/sms-command/FormKeyValueParser/globalValidate.js","D2App/sms-command/FormKeyValueParser/useCommandData.js","D2App/sms-command/FormKeyValueParser/useUpdateCommandMutation.js","D2App/sms-command/FormKeyValueParser/FormKeyValueParser.js","D2App/sms-command/FormProgramStageDataEntryParser/FormComponent.js","D2App/sms-command/FormProgramStageDataEntryParser/getInitialFormState.js","D2App/sms-command/FormProgramStageDataEntryParser/useCommandData.js","D2App/sms-command/FormProgramStageDataEntryParser/useUpdateCommandMutation.js","D2App/sms-command/FormProgramStageDataEntryParser/FormProgramStageDataEntryParser.js","D2App/sms-command/FormTrackedEntityRegistrationParser/Form.js","D2App/sms-command/FormTrackedEntityRegistrationParser/useCommandData.js","D2App/sms-command/FormTrackedEntityRegistrationParser/useUpdateCommandMutation.js","D2App/sms-command/FormTrackedEntityRegistrationParser/FormTrackedEntityRegistrationParser.js","D2App/sms-command/FormUnregisteredParser/Form.js","D2App/sms-command/FormUnregisteredParser/useCommandData.js","D2App/sms-command/FormUnregisteredParser/useUpdateCommandMutation.js","D2App/sms-command/FormUnregisteredParser/FormUnregisteredParser.js","D2App/sms-command/ViewSmsCommandEdit/useReadSmsCommandParserTypeQuery.js","D2App/sms-command/ViewSmsCommandEdit/ViewSmsCommandEdit.js","D2App/sms-command/ViewSmsCommandList/useDeleteSmsCommandMutation.js","D2App/sms-command/ViewSmsCommandList/useReadSmsCommandsQuery.js","D2App/sms-command/ViewSmsCommandList/ViewSmsCommandList.js","D2App/sms-gateway/FieldEditConfidential/FieldEditConfidential.js","D2App/sms-gateway/FieldGatewayName/FieldGatewayName.js","D2App/sms-gateway/FieldPassword/FieldPassword.js","D2App/sms-gateway/FieldPasswordConfirmation/FieldPasswordConfirmation.js","D2App/sms-gateway/FieldUsername/FieldUsername.js","D2App/sms-gateway/FormBulkSMS/FormBulkSMS.js","D2App/sms-gateway/FieldAuthToken/FieldAuthToken.js","D2App/sms-gateway/FieldUrlTemplate/FieldUrlTemplate.js","D2App/sms-gateway/FormClickatell/FormClickatell.js","D2App/sms-gateway/ActionAddKeyValuePair/ActionAddKeyValuePair.js","D2App/sms-gateway/FieldConfigurationTemplate/FieldConfigurationTemplate.js","D2App/sms-gateway/FieldContentType/FieldContentType.js","D2App/sms-gateway/FieldKeyValuePair/ValueField.js","D2App/sms-gateway/FieldKeyValuePair/FieldKeyValuePair.js","D2App/sms-gateway/FieldSendUrlParameters/FieldSendUrlParameters.js","D2App/sms-gateway/FieldUseGet/FieldUseGet.js","D2App/sms-gateway/FormGeneric/FormGeneric.js","D2App/sms-gateway/FieldBindType/FieldBindType.js","D2App/sms-gateway/FieldCompressed/FieldCompressed.js","D2App/sms-gateway/FieldHost/FieldHost.js","D2App/sms-gateway/FieldNumberPlanIndicator/FieldNumberPlanIndicator.js","D2App/sms-gateway/FieldPort/FieldPort.js","D2App/sms-gateway/FieldSystemId/FieldSystemId.js","D2App/sms-gateway/FieldSystemType/FieldSystemType.js","D2App/sms-gateway/FieldTypeOfNumber/FieldTypeOfNumber.js","D2App/sms-gateway/FormSMPP/FromSMPP.js","D2App/sms-gateway/InputSingleSelectGatewayType/gatewayTypes.js","D2App/sms-gateway/InputSingleSelectGatewayType/InputSingleSelectGatewayType.js","D2App/sms-gateway/ViewSmsGatewayAdd/useCreateBulkSMSGatewayMutation.js","D2App/sms-gateway/ViewSmsGatewayAdd/useCreateClickatellGatewayMutation.js","D2App/sms-gateway/createGenericGateWayDataFromVariables/createGenericGateWayDataFromVariables.js","D2App/sms-gateway/ViewSmsGatewayAdd/useCreateGenericGatewayMutation.js","D2App/sms-gateway/ViewSmsGatewayAdd/useCreateSMPPGatewayMutation.js","D2App/sms-gateway/ViewSmsGatewayAdd/ViewSmsGatewayAdd.js","D2App/sms-gateway/ViewSmsGatewayEdit/useReadGatewayQuery.js","D2App/sms-gateway/ViewSmsGatewayEdit/useUpdateGatewayMutation.js","D2App/sms-gateway/ViewSmsGatewayEdit/useUpdateBulkSMSGatewayMutation.js","D2App/sms-gateway/ViewSmsGatewayEdit/useUpdateClickatellGatewayMutation.js","D2App/sms-gateway/ViewSmsGatewayEdit/useUpdateGenericGatewayMutation.js","D2App/sms-gateway/ViewSmsGatewayEdit/useUpdateSMPPGatewayMutation.js","D2App/sms-gateway/ViewSmsGatewayEdit/ViewSmsGatewayEdit.js","D2App/sms-gateway/ViewSmsGatewayList/getTypeLabelByType.js","D2App/sms-gateway/ViewSmsGatewayList/GatewaysTable.js","D2App/sms-gateway/ViewSmsGatewayList/List.js","D2App/sms-gateway/ViewSmsGatewayList/useDeleteGatewaysMutation.js","D2App/sms-gateway/ViewSmsGatewayList/useReadGatewaysQuery.js","D2App/sms-gateway/ViewSmsGatewayList/useSetDefaultGatewayMutation.js","D2App/sms-gateway/ViewSmsGatewayList/ViewSmsGatewayList.js","D2App/sms-inbound/translations/translations.js","D2App/sms-inbound/Filter/Filter.js","D2App/sms-inbound/ReceivedSmsTable/ReceivedSmsTable.js","D2App/sms-inbound/ViewReceivedSmsList/useDeleteMutation.js","D2App/sms-inbound/ViewReceivedSmsList/ViewReceivedSmsList.js","D2App/sms-outbound/translations/translations.js","D2App/sms-outbound/SentSmsTable/SentSmsTable.js","D2App/sms-outbound/StatusFilter/StatusFilter.js","D2App/sms-outbound/ViewSentSmsList/useDeleteMutation.js","D2App/sms-outbound/ViewSentSmsList/ViewSentSmsList.js","D2App/sms-overview/HomeCard/HomeCard.js","D2App/sms-overview/ViewOverview/ViewOverview.js","D2App/index.js","D2App/App.js"],"names":["module","exports","namespace","i18n","addResources","arTranslations","ar_IQTranslations","bnTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","es_419Translations","frTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","nlTranslations","orTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","roTranslations","ruTranslations","siTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uz_CyrlTranslations","uz_LatnTranslations","uz_UZ_CyrlTranslations","uz_UZ_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","AlertContext","createContext","addAlert","Error","dataTest","name","prefix","AlertHandler","children","alerts","setAlerts","useState","React","createElement","Provider","value","message","type","alert","timestamp","Date","now","AlertStack","map","AlertBar","key","CancelDialog","onConfirmCancel","onAbortCancel","Modal","ModalTitle","t","ModalActions","ButtonStrip","Button","onClick","primary","ContentLoading","CenteredContent","CircularLoader","ContentLoadingError","title","errorMessage","NoticeBox","error","date","formatted","moment","format","className","styles","DeleteConfirmationDialog","onCancelClick","onDeleteClick","ModalContent","secondary","Field","ReactFinalForm","FieldUserGroup","userGroups","loading","required","disabled","errorText","validationText","label","component","SingleSelectFieldFF","options","validate","hasValue","defaultProps","USER_GROUPS_QUERY","resource","params","paging","FieldUserGroupWithAutoLoad","data","useDataQuery","undefined","showLoadingStatus","id","displayName","FormRow","cx","formRow","ListActions","addLabel","deleteLabel","onAddClick","disableAdd","disableDelete","container","destructive","NavigationItem","path","exactMatch","history","useHistory","active","routeMatch","useRouteMatch","isExact","useIsItemActive","MenuItem","item","push","defualtProps","Navigation","Menu","PageHeadline","headline","PageSubHeadline","subHeadline","Paragraph","paragraph","useQueryParams","_useQueryParams","status","withDefault","StringParam","phoneNumber","page","NumberParam","pageSize","FORM_ERROR","FinalForm","useSubmit","onSubmit","useContext","args","catch","e","PAGE_LENGTHS","Pagination","pageCount","total","firstItem","Math","min","lastItem","availablePages","Array","from","length","_x","i","toString","setQueryParams","setPage","verticalAlign","SingleSelect","dense","selected","onChange","setPageSize","select","SingleSelectOption","summary","buttonPrevious","small","inputWidth","availablePage","buttonNext","SmsTable","messages","pager","selectedIds","setSelectedIds","columns","rowRenderFn","selectedIdSet","Set","allSelected","Table","TableHead","TableRowHead","TableCellHead","Checkbox","checked","column","TableBody","TableRow","TableCell","colSpan","String","noResults","has","toggle","delete","add","TableFoot","LayoutContainer","LayoutContent","content","LayoutSidebar","sidebar","TemplateSidebarNavContent","Time","time","FeatureToggleContext","disableConfidentialEdit","useFeatureToggle","FeatureToggleProvider","serverVersion","useConfig","providerValue","minor","AppWrapper","CssVariables","spacers","colors","HashRouter","QueryParamProvider","ReactRouterRoute","Route","FIELD_COMMAND_NAME","FieldCommandName","InputFieldFF","composeValidators","string","FIELD_DATA_SET_NAME","FieldDataSet","dataSets","parse","DATA_SETS_QUERY","fields","FieldDataSetWithAutoLoad","programs","parserTypes","KEY_VALUE_PARSER","J2ME_PARSER","ALERT_PARSER","UNREGISTERED_PARSER","TRACKED_ENTITY_REGISTRATION_PARSER","PROGRAM_STAGE_DATAENTRY_PARSER","EVENT_REGISTRATION_PARSER","Object","values","sort","a","b","FIELD_PARSER_NAME","FieldParser","FIELD_PROGRAM_NAME","FieldProgram","programTypes","PROGRAMS_WITH_REGISTRATION","PROGRAMS_WITHOUT_REGISTRATION","ALL_PROGRAMS","PROGRAMS_QUERY","registration","filter","useForm","FieldProgramWithAutoLoad","form","refetch","variables","useReadProgramsQuery","lazy","useEffect","change","FIELD_PROGRAM_STAGE_NAME","FieldProgramStage","programStages","initialValue","iinitialValue","PROGRAM_STAGES_QUERY","programId","FieldProgramStageWithLoadingStates","parserType","_data$programStages2","_data$programStages3","useReadProgramStagesQuery","_data$programStages","_data$programStages$p","isEventRegistrationParser","programStageValueForEventRegistration","CREATE_SMS_COMMAND_MUTATION","dataset","userGroup","program","programStage","Form","ActualForm","handleSubmit","submitting","prevValues","setPrevValues","getState","subscribe","batch","prevProgram","prevParserType","useResetFormFields","showDataSetField","showUserGroupField","showProgramField","showProgramStageField","shouldProgramsBeWithRegistration","disableProgramStage","helpText","icon","goBack","ViewSmsCommandAdd","createSmsCommand","onComplete","onError","useDataMutation","useCreateSmsCommandMutation","destroyOnUnregister","FieldConfirmMessage","TextAreaFieldFF","useFormState","subscription","pristine","SaveCommandButton","enabled","FormActions","enableSubmit","onCancel","submitError","hasSubmitErrors","SubmitErrors","ALERT_DATA_QUERY","smsCommand","commandId","updateAlertParserMutation","partial","receivedMessage","FormAlertParser","onAfterChange","useAlertDataQuery","updateCommand","engine","useDataEngine","mutate","then","useUpdateCommandMutation","initialValues","createInitialValues","keepDirtyOnReinitialize","FormComponent","FIELD_DEFAULT_MESSAGE_NAME","FieldDefaultMessage","FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME","FieldMoreThanOneOrgUnitMessage","FIELD_NO_USER_MESSAGE_NAME","FieldNoUserMessage","FIELD_SEPARATOR_NAME","FieldSeparator","FIELD_SMS_CODES_NAME","FieldSmsCode","valueType","smsCode","code","nextCode","trackedEntityAttribute","FieldSmsCodeDataElement","dataElement","smsCodes","FIELD_SUCCESS_MESSAGE_NAME","FieldSuccessMessage","FIELD_WRONG_FORMAT_MESSAGE_NAME","FieldWrongFormatMessage","programStageDataElements","selectedProgramOption","selectedProgramStageOption","READ_SMS_COMMAND_EVENT_REGISTRATION_PARSER_QUERY","updateEventRegistrationParserMutation","command","separator","defaultMessage","wrongFormatMessage","noUserMessage","moreThanOneOrgUnitMessage","successMessage","FormEventRegistrationParser","msg","reduce","curSmsCodes","getInitialFormState","FIELD_SPECIAL_CHARS_NAME","FieldSpecialCharacter","index","onSpecialKeyRemoved","field","UiField","button","specialChars","newSpecialChars","slice","AddSpecialCharacters","CurrentFormula","formula","formulaDataElementName","operator","formulaInWords","formulaInWordsLabel","useField","DATA_ELEMENTS_QUERY","AddFormulaButton","baseName","setLoading","setFormulaDataElementName","input","dataElementId","query","response","finally","Fragment","dataSet","useReadDataElementsOfDataSetQuery","dataSetId","setError","setData","dataSetElements","left","right","leftDisplayName","rightDisplayName","queryDataElementsOfDataSet","FormulaModalForm","combo","targetFieldName","onClose","initialFormula","useMemo","dataElementCode","modalDataTest","onRemove","newFormula","event","stopPropagation","_extends","assign","target","arguments","source","prototype","hasOwnProperty","call","apply","this","FieldDataElementWithCategoryOptionCombo","categoryOptionCombo","showFormula","setShowFormula","cocCode","DE_COC_toFormName","formulaName","invalid","touched","meta","rest","codeField","formulaFieldName","completenessMethods","ALL_DATAVALUE","AT_LEAST_ONE_DATAVALUE","DO_NOT_MARK_COMPLETE","FIELD_COMPLETENESS_METHOD_NAME","FieldCompletenessMethod","CompletenessMessage","completenessMethod","warning","atLeastOneDataValueLabel","DataElementTimesCategoryOptionCombos","DE_COC_combinations","allRequired","FIELD_USE_CURRENT_PERIOD_FOR_REPORTING_NAME","FieldUseCurrentPeriodForReporting","CheckboxFieldFF","FormSpy","DE_COC_combination_data","hasSpecialChars","selectedDataSetOption","specialKeyRemoved","setSpecialKeyRemoved","_","getSmsCodeDuplicates","curDuplicates","includes","potentialDuplicates","curCode","curIndex","newlyFoundDuplicates","curWithCodeDuplicates","curName","globalValidate","hasErrors","errors","smsCodesFormState","smsCodesWithValue","entries","duplicates","duplicateErrors","forEach","duplicate","READ_SMS_COMMAND_KEY_VALUE_PARSER_QUERY","updateJ2meParserMutation","useCurrentPeriodForReporting","specialCharacters","codeWrapper","compulsory","optionId","formattedSmsCode","FormJ2meParser","loadingCommandError","commandData","useCommandData","categoryOptionComboId","split","acc","payload","optionIdWrapper","curCombinations","_dataElement$category","categoryCombo","categoryOptionCombos","combos","COC","dirty","updateKeyValueParserMutation","FormKeyValueParser","createDataTestValue","READ_SMS_COMMAND_PROGRAM_STAGE_DATA_ENTRY_PARSER_QUERY","REPLACE_SMS_COMMAND_MUTATION","FormProgramStageDataEntryParser","programStageId","dynamicFields","dynamicField","replace","FormTrackedEntityRegistrationParser","smsCodesOriginal","programTrackedEntityAttributes","merged","UPDATE_COMMAND_MUTATION","FormUnregisteredParser","READ_SMS_COMMAND_PARSER_TYPE_QUERY","isParserType","parser","ViewSmsCommandEdit","useParams","useReadSmsCommandParserTypeQuery","showCancelDialog","setShowCancelDialog","isParser","bind","getSmsCommandEditFormComponent","DELETE_SMS_COMMAND_MUTATION","useDeleteSmsCommandMutation","idToMutationRequest","idToMutationRequestFactory","onDone","ids","Promise","all","SMS_COMMANDS_QUERY","smsCommands","join","SMS_COMMAND_LIST_LABEL","ViewSmsCommandList","_data$smsCommands2","_data$smsCommands2$sm","_data$smsCommands3","_data$smsCommands3$sm","_data$smsCommands4","_data$smsCommands4$sm","checkedSmsCommands","setCheckedSmsCommands","showDeleteConfirmationDialog","setShowDeleteConfirmationDialog","loadingReadSmsCommands","errorReadSmsCommands","deleteSmsCommands","loadingDelete","errorDelete","allChecked","hasCommands","async","_data$smsCommands","checkbox","find","checkedId","findIndex","toggleSmsCommand","getLabelByParserTypes","editButtonCell","FieldEditConfidential","editMode","allowConfidentialFieldEdit","setAllowConfidentialFieldEdit","fieldType","prev","FieldGatewayName","FIELD_PASSWORD_NAME","FIELD_PASSWORD_LABEL","FieldPassword","placeholder","equalToPassword","createEqualTo","FIELD_PASSWORD_CONFIRMATION_NAME","FieldPasswordConfirmation","FieldUsername","FormBulkSMS","submitText","FieldAuthToken","FieldUrlTemplate","url","FormClickatell","ActionAddKeyValuePair","parameters","header","encode","confidential","unsaved","FieldConfigurationTemplate","optionApplicationJson","optionApplicationXml","optionFormUrlEncoded","optionTextPlain","FieldContentType","isStringWithLengthAtLeastOne","createFieldGatewayKeyValuePairValueName","ValueField","FieldKeyValuePair","_getState$values","_getState$values$para","currentParameter","isConfidential","isUnsaved","isDisabled","textInputs","keyInput","valueInput","checkboxGroup","removeKeyValueFromFormState","FieldSendUrlParameters","FieldUseGet","FormGeneric","FieldBindType","defaultValue","FieldCompressed","FieldHost","FieldNumberPlanIndicator","FieldPort","integer","FieldSystemId","FieldSystemType","FieldTypeOfNumber","FormSMPP","gatewayTypes","GENERIC_FORM","BULK_SMS_FORM","CLICKATELL_FORM","SMPP_FORM","CREATE_BULK_SMS_GATEWAY_MUTATION","username","password","CREATE_CLICKATELL_GATEWAY_MUTATION","authToken","urlTemplate","createGenericGateWayDataFromVariables","configurationTemplate","contentType","sendUrlParameters","useGet","p","_p$value","CREATE_GENERIC_GATEWAY_MUTATION","CREATE_SMPP_GATEWAY_MUTATION","systemId","host","systemType","numberPlanIndicator","typeOfNumber","bindType","port","compressed","ViewSmsGatewayAdd","visibleForm","setVisibleForm","saveGenericGateway","saveGenericGatewayError","saveBulkSMSGateway","saveBulkSMSGatewayError","saveClickatellGateway","saveClickatellGatewayError","saveSMPPGateway","saveSMPPGatewayError","reject","SingleSelectField","passwordRequired","GATEWAY_QUERY","gateway","useUpdateGatewayMutation","updatedQuery","UPDATE_BULK_SMS_GATEWAY_MUTATION","UPDATE_CLICKATELL_GATEWAY_MUTATION","UPDATE_GENERIC_GATEWAY_MUTATION","UPDATE_SMPP_GATEWAY_MUTATION","ViewSmsGatewayEdit","_data$gateway","loadError","jsonData","useReadGatewayQuery","saveError","JSON","gatewayType","getFormComponent","filteredParameters","param","getInitialValues","uid","formValues","GatewaysTable","allGatewaysChecked","checkedGateways","gateways","onGatewayToggle","onToggleAll","onMakeDefaultClick","checkboxCell","typeCell","defaultCell","isDefault","isDefaultText","makeDefaultButton","editCell","rowActions","List","setCheckedGateways","processing","processingMessage","loadingContainer","curId","newCheckedGateways","allGatewayIds","DELETE_GATEWAY_MUTATION","useDeleteGatewaysMutation","GATEWAYS_QUERY","SET_DEFAULT_GATEWAY_MUTATION","GATEWAY_CONFIG_LIST_LABEL","ViewSmsGatewayList","_data$gateways","_data$gateways$gatewa","showDeleteDialog","setShowDeleteDialog","loadingReadGateways","errorReadGateways","refetchReadGateways","_parsedData$gateways","parsedData","useReadGatewaysQuery","deleteCheckedGateways","makeGatewayDefault","loadingSetDefault","errorSetDefault","hasGateways","info","translations","ALL","FAILED","INCOMING","PROCESSED","PROCESSING","SENT","UNHANDLED","STATUS_FILTER_OPTIONS","Filter","setStatus","setPhoneNumber","onReset","inputStrip","InputField","large","ReceivedSmsTable","_message$user","_message$user$userCre","text","originator","smsstatus","user","userCredentials","receiveddate","DELETE_INBOUND_SMS_MUTATION","RECEIVED_SMS_LIST_LABEL","inboundSms","order","filters","ViewReceivedSmsList","_data$inboundSms","queryParams","called","callback","debouncedRefetch","useDebouncedCallback","leading","deleteSms","useDeleteMutation","inboundsmss","DELIVERED","ERROR","OUTBOUND","PENDING","SCHEDULED","SentSmsTable","recipients","recipient","StatusFilter","DELETE_OUTBOUND_SMS_MUTATION","SENT_SMS_LIST_LABEL","sms","ViewSentSmsList","_data$sms","outboundsmss","HomeCard","titleText","bodyText","linkText","to","Card","s","body","linkContainer","Link","link","ViewOverview","nsSeparator","explanation","grid","gridItem","App","Switch","exact","Redirect"],"mappings":"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","file":"static/js/app.6b15a0f6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"date\":\"Date_date__32PVN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formRow\":\"FormRow_formRow__1cNWl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ListActions_container__19UqQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"NavigationItem_item__1JJRt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headline\":\"PageHeadline_headline__2WNWN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"subHeadline\":\"PageSubHeadline_subHeadline__A0PKf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paragraph\":\"Paragraph_paragraph__G0OSg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Pagination_container__fuBgU\",\"verticalAlign\":\"Pagination_verticalAlign__20Arz\",\"select\":\"Pagination_select__15i-1\",\"buttonPrevious\":\"Pagination_buttonPrevious__20viW\",\"buttonNext\":\"Pagination_buttonNext__1gggb\",\"summary\":\"Pagination_summary__1jaey\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"noResults\":\"SmsTable_noResults__148QG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LayoutContainer_container__1Ix-e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"LayoutContent_content__1c2dI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"LayoutSidebar_sidebar__1wPe0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"time\":\"Time_time__3_6vE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ViewSmsCommandAdd_container__25VwY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FieldSpecialCharacter_container__3m7Vh\",\"field\":\"FieldSpecialCharacter_field__20YF7\",\"button\":\"FieldSpecialCharacter_button__1QDDi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formulaInWords\":\"CurrentFormula_formulaInWords__1FGIC\",\"formulaInWordsLabel\":\"CurrentFormula_formulaInWordsLabel__3UhrM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FieldDataElementWithCategoryOptionCombo_container__VbaUQ\",\"field\":\"FieldDataElementWithCategoryOptionCombo_field__3_Ux1\",\"codeField\":\"FieldDataElementWithCategoryOptionCombo_codeField__Uwq1r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formRow\":\"DataElementTimesCategoryOptionCombos_formRow__1ROJj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ViewSmsCommandEdit_container__3bTPs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ViewSmsCommandList_container__1rq9R\",\"editButtonCell\":\"ViewSmsCommandList_editButtonCell__3yHe0\",\"checkbox\":\"ViewSmsCommandList_checkbox__3dZPS\",\"noResults\":\"ViewSmsCommandList_noResults__1JuAK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ActionAddKeyValuePair_button__2VAQZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FieldKeyValuePair_container__2NkGf\",\"textInputs\":\"FieldKeyValuePair_textInputs__38rHh\",\"keyInput\":\"FieldKeyValuePair_keyInput__115P4\",\"valueInput\":\"FieldKeyValuePair_valueInput__fUk_z\",\"checkboxGroup\":\"FieldKeyValuePair_checkboxGroup__2CBb0\",\"checkbox\":\"FieldKeyValuePair_checkbox__2kgWE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ViewSmsGatewayAdd_container__1oKaO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ViewSmsGatewayEdit_container__2xMMX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rowActions\":\"GatewaysTable_rowActions__3BC1f\",\"checkboxCell\":\"GatewaysTable_checkboxCell__SI_z0\",\"typeCell\":\"GatewaysTable_typeCell__2WBpF\",\"editCell\":\"GatewaysTable_editCell__2Bufa\",\"defaultCell\":\"GatewaysTable_defaultCell__3m7ng\",\"makeDefaultButton\":\"GatewaysTable_makeDefaultButton__2YJXZ\",\"isDefaultText\":\"GatewaysTable_isDefaultText__1YJ_o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"List_container__19UcB\",\"processingMessage\":\"List_processingMessage__36no2\",\"loadingContainer\":\"List_loadingContainer__3182Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ViewSmsGatewayList_container__M3vdP\",\"actions\":\"ViewSmsGatewayList_actions__1lfCj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Filter_container__F0zPH\",\"inputStrip\":\"Filter_inputStrip__2V-ff\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"originator\":\"ReceivedSmsTable_originator__2_Of0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ViewReceivedSmsList_container__31901\",\"header\":\"ViewReceivedSmsList_header__217oO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"recipient\":\"SentSmsTable_recipient__3N_Bb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"StatusFilter_container__2u2cP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ViewSentSmsList_container__2Vg_h\",\"header\":\"ViewSentSmsList_header__2d9xU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"HomeCard_container__1sTOF\",\"title\":\"HomeCard_title__4MzMw\",\"body\":\"HomeCard_body__2SG9l\",\"linkContainer\":\"HomeCard_linkContainer__3dX6c\",\"link\":\"HomeCard_link__wnKkR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ViewOverview_container__2EGnb\",\"explanation\":\"ViewOverview_explanation__2H7QS\",\"grid\":\"ViewOverview_grid__ns7f_\",\"gridItem\":\"ViewOverview_gridItem__36C2M\"};","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport bnTranslations from './bn/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport orTranslations from './or/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport siTranslations from './si/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_CyrlTranslations from './uz_Cyrl/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('bn', namespace, bnTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('or', namespace, orTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('si', namespace, siTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Cyrl', namespace, uz_CyrlTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import { createContext } from 'react';\nexport const AlertContext = /*#__PURE__*/createContext({\n  addAlert: () => {\n    throw new Error('AlertContext has not been initialized yet!');\n  }\n});","const defaultPrefix = 'dhis2-smsconfiguration';\nexport const dataTest = (name, prefix = defaultPrefix) => `${prefix}-${name}`;","import { PropTypes } from '@dhis2/prop-types';\nimport { AlertBar, AlertStack } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport { dataTest } from '../../utils/index.js';\nimport { AlertContext } from './AlertContext.js';\nexport const AlertHandler = ({\n  children\n}) => {\n  const [alerts, setAlerts] = useState([]);\n\n  const addAlert = ({\n    message,\n    type\n  }) => {\n    const alert = {\n      message,\n      type,\n      // Ensure that identical messages can be distinguished\n      timestamp: Date.now()\n    };\n    setAlerts([...alerts, alert]);\n  };\n\n  return /*#__PURE__*/React.createElement(AlertContext.Provider, {\n    value: {\n      addAlert\n    }\n  }, children, /*#__PURE__*/React.createElement(AlertStack, {\n    dataTest: dataTest('shared-alerthandler-alertstack')\n  }, alerts.map(({\n    message,\n    type,\n    timestamp\n  }) => /*#__PURE__*/React.createElement(AlertBar, {\n    dataTest: dataTest('shared-alerthandler-alertbar'),\n    key: `${message}${timestamp}`,\n    [type]: true\n  }, message))));\n};\nAlertHandler.propTypes = {\n  children: PropTypes.any\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { Button, ButtonStrip, Modal, ModalTitle, ModalActions } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../../locales/index.js';\nexport const CancelDialog = ({\n  onConfirmCancel,\n  onAbortCancel\n}) => /*#__PURE__*/React.createElement(Modal, null, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Are you sure you want to cancel? Unsaved changes will be lost')), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n  onClick: onAbortCancel\n}, i18n.t('No, stay on page')), /*#__PURE__*/React.createElement(Button, {\n  primary: true,\n  onClick: onConfirmCancel\n}, i18n.t('Yes, cancel')))));\nCancelDialog.propTypes = {\n  onAbortCancel: PropTypes.func.isRequired,\n  onConfirmCancel: PropTypes.func.isRequired\n};","import { CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React from 'react';\nexport const ContentLoading = () => /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));","import { PropTypes } from '@dhis2/prop-types';\nimport { NoticeBox } from '@dhis2/ui';\nimport React from 'react';\nexport const ContentLoadingError = ({\n  title,\n  errorMessage\n}) => /*#__PURE__*/React.createElement(NoticeBox, {\n  error: true,\n  title: title\n}, errorMessage);\nContentLoadingError.propTypes = {\n  errorMessage: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired\n};","import { PropTypes } from '@dhis2/prop-types';\nimport moment from 'moment';\nimport React from 'react';\nimport styles from './Date.module.css';\nexport const Date = ({\n  date\n}) => {\n  const momentDate = moment(date);\n  const formatted = momentDate.format('DD MMM YYYY');\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.date\n  }, formatted);\n};\nDate.propTypes = {\n  date: PropTypes.string.isRequired\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { Button, ButtonStrip, Modal, ModalActions, ModalContent, ModalTitle } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../../locales/index.js';\nimport { dataTest } from '../../utils/index.js';\nexport const DeleteConfirmationDialog = ({\n  children,\n  onCancelClick,\n  onDeleteClick\n}) => {\n  return /*#__PURE__*/React.createElement(Modal, {\n    dataTest: dataTest('shared-deleteconfirmationdialog')\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Confirm deletion')), /*#__PURE__*/React.createElement(ModalContent, null, children), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    secondary: true,\n    onClick: onCancelClick,\n    dataTest: dataTest('shared-deleteconfirmationdialog-cancel')\n  }, i18n.t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: onDeleteClick,\n    dataTest: dataTest('shared-deleteconfirmationdialog-confirm')\n  }, i18n.t('Delete')))));\n};\nDeleteConfirmationDialog.propTypes = {\n  children: PropTypes.any.isRequired,\n  onCancelClick: PropTypes.func.isRequired,\n  onDeleteClick: PropTypes.func.isRequired\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { SingleSelectFieldFF, ReactFinalForm, hasValue } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../../locales/index.js';\nimport { dataTest } from '../../../shared/utils/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FIELD_USER_GROUP_NAME = 'userGroup';\nexport const FieldUserGroup = ({\n  userGroups,\n  loading,\n  required,\n  disabled,\n  errorText\n}) => /*#__PURE__*/React.createElement(Field, {\n  disabled: disabled,\n  error: !!errorText,\n  validationText: errorText,\n  required: required,\n  loading: loading,\n  dataTest: dataTest('shared-fieldusergroup'),\n  name: FIELD_USER_GROUP_NAME,\n  label: i18n.t('User group'),\n  component: SingleSelectFieldFF,\n  options: userGroups,\n  validate: required && hasValue\n});\nFieldUserGroup.defaultProps = {\n  disabled: false,\n  loading: false,\n  required: false,\n  errorText: ''\n};\nFieldUserGroup.propTypes = {\n  userGroups: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired\n  })).isRequired,\n  disabled: PropTypes.bool,\n  errorText: PropTypes.string,\n  loading: PropTypes.bool,\n  required: PropTypes.bool\n};","import { useDataQuery } from '@dhis2/app-runtime';\nexport const USER_GROUPS_QUERY = {\n  userGroups: {\n    resource: 'userGroups',\n    params: {\n      paging: 'false'\n    }\n  }\n};\nexport const useReadUserGroupsQuery = () => useDataQuery(USER_GROUPS_QUERY);","import { PropTypes } from '@dhis2/prop-types';\nimport { hasValue } from '@dhis2/ui';\nimport React from 'react';\nimport { FieldUserGroup } from './FieldUserGroup.js';\nimport { useReadUserGroupsQuery } from './useReadUserGroupsQuery.js';\nexport const FieldUserGroupWithAutoLoad = ({\n  required\n}) => {\n  const {\n    loading,\n    error,\n    data\n  } = useReadUserGroupsQuery();\n  const validate = required ? hasValue : undefined;\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(FieldUserGroup, {\n      required: required,\n      loading: true,\n      showLoadingStatus: true,\n      userGroups: [],\n      validate: validate\n    });\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(FieldUserGroup, {\n      required: required,\n      disabled: true,\n      userGroups: [],\n      errorText: error.message,\n      validate: validate\n    });\n  }\n\n  const {\n    userGroups\n  } = data.userGroups;\n  const options = userGroups.map(({\n    id,\n    displayName\n  }) => ({\n    label: displayName,\n    value: id\n  }));\n  return /*#__PURE__*/React.createElement(FieldUserGroup, {\n    required: required,\n    userGroups: options,\n    validate: validate\n  });\n};\nFieldUserGroupWithAutoLoad.defaultProps = {\n  required: false\n};\nFieldUserGroupWithAutoLoad.propTypes = {\n  required: PropTypes.bool\n};","import { PropTypes } from '@dhis2/prop-types';\nimport cx from 'classnames';\nimport React from 'react';\nimport { dataTest } from '../../utils/index.js';\nimport styles from './FormRow.module.css';\nexport const FormRow = ({\n  children,\n  className\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: cx(styles.formRow, className),\n  \"data-test\": dataTest('shared-formrow')\n}, children);\nFormRow.propTypes = {\n  children: PropTypes.any.isRequired,\n  className: PropTypes.string\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { ButtonStrip, Button } from '@dhis2/ui';\nimport React from 'react';\nimport { dataTest } from '../../utils/index.js';\nimport styles from './ListActions.module.css';\nexport const ListActions = ({\n  addLabel,\n  deleteLabel,\n  onAddClick,\n  onDeleteClick,\n  disableAdd,\n  disableDelete\n}) => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    \"data-test\": dataTest('shared-listactions')\n  }, /*#__PURE__*/React.createElement(ButtonStrip, {\n    \"data-test\": dataTest('shared-listactions-actions')\n  }, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    onClick: onAddClick,\n    disabled: disableAdd,\n    dataTest: dataTest(`shared-listactions-add`)\n  }, addLabel), /*#__PURE__*/React.createElement(Button, {\n    destructive: true,\n    onClick: onDeleteClick,\n    disabled: disableDelete,\n    dataTest: dataTest(`shared-listactions-delete`)\n  }, deleteLabel)));\n};\nListActions.propTypes = {\n  addLabel: PropTypes.string.isRequired,\n  deleteLabel: PropTypes.string.isRequired,\n  onAddClick: PropTypes.func.isRequired,\n  onDeleteClick: PropTypes.func.isRequired,\n  disableAdd: PropTypes.bool,\n  disableDelete: PropTypes.bool\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { MenuItem } from '@dhis2/ui';\nimport React from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { dataTest } from '../../utils/index.js';\nimport styles from './NavigationItem.module.css';\n\nconst useIsItemActive = (path, exactMatch) => {\n  const routeMatch = useRouteMatch(path);\n\n  if (!routeMatch) {\n    return false;\n  }\n\n  if (exactMatch) {\n    return routeMatch.isExact;\n  }\n\n  return true;\n};\n\nexport const NavigationItem = ({\n  label,\n  path,\n  exactMatch\n}) => {\n  const history = useHistory();\n  const active = useIsItemActive(path, exactMatch);\n\n  const navigateToPath = () => history.push(path);\n\n  return /*#__PURE__*/React.createElement(MenuItem, {\n    className: styles.item,\n    onClick: navigateToPath,\n    active: active,\n    label: label,\n    dataTest: dataTest('shared-navigationitem')\n  });\n};\nNavigationItem.defualtProps = {\n  exactMatch: false\n};\nNavigationItem.propTypes = {\n  label: PropTypes.string.isRequired,\n  path: PropTypes.string.isRequired,\n  exactMatch: PropTypes.bool\n};","import { Menu } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../../locales/index.js';\nimport { dataTest } from '../../utils/index.js';\nimport { NavigationItem } from './NavigationItem.js';\nexport const Navigation = () => /*#__PURE__*/React.createElement(Menu, {\n  dataTest: dataTest('shared-navigation')\n}, /*#__PURE__*/React.createElement(NavigationItem, {\n  path: \"/home\",\n  label: i18n.t('Home'),\n  exactMatch: true\n}), /*#__PURE__*/React.createElement(NavigationItem, {\n  path: \"/sms-gateway\",\n  label: i18n.t('Gateway configuration')\n}), /*#__PURE__*/React.createElement(NavigationItem, {\n  path: \"/sms-command\",\n  label: i18n.t('Commands')\n}), /*#__PURE__*/React.createElement(NavigationItem, {\n  path: \"/sent\",\n  label: i18n.t('Sent')\n}), /*#__PURE__*/React.createElement(NavigationItem, {\n  path: \"/received\",\n  label: i18n.t('Received')\n}));","import { PropTypes } from '@dhis2/prop-types';\nimport React from 'react';\nimport { dataTest } from '../../utils/index.js';\nimport styles from './PageHeadline.module.css';\nexport const PageHeadline = ({\n  children\n}) => /*#__PURE__*/React.createElement(\"h1\", {\n  className: styles.headline,\n  \"data-test\": dataTest('shared-pageheadline')\n}, children);\nPageHeadline.propTypes = {\n  children: PropTypes.string.isRequired\n};","import { PropTypes } from '@dhis2/prop-types';\nimport React from 'react';\nimport { dataTest } from '../../utils/index.js';\nimport styles from './PageSubHeadline.module.css';\nexport const PageSubHeadline = ({\n  children\n}) => /*#__PURE__*/React.createElement(\"h2\", {\n  className: styles.subHeadline,\n  \"data-test\": dataTest('shared-pagesubheadline')\n}, children);\nPageSubHeadline.propTypes = {\n  children: PropTypes.string.isRequired\n};","import { PropTypes } from '@dhis2/prop-types';\nimport React from 'react';\nimport { dataTest } from '../../utils/index.js';\nimport styles from './Paragraph.module.css';\nexport const Paragraph = ({\n  children\n}) => /*#__PURE__*/React.createElement(\"p\", {\n  className: styles.paragraph,\n  \"data-test\": dataTest('shared-paragraph')\n}, children);\nParagraph.propTypes = {\n  children: PropTypes.string.isRequired\n};","import { useQueryParams as _useQueryParams, StringParam, NumberParam, withDefault } from 'use-query-params';\nexport const useQueryParams = () => _useQueryParams({\n  status: withDefault(StringParam, 'ALL'),\n  phoneNumber: withDefault(StringParam, ''),\n  page: withDefault(NumberParam, 1),\n  pageSize: withDefault(NumberParam, 50)\n});","import { FinalForm } from '@dhis2/ui';\nimport { useContext } from 'react';\nimport i18n from '../../../locales/index.js';\nimport { AlertContext } from '../../components/index.js';\nconst {\n  FORM_ERROR\n} = FinalForm;\nexport const useSubmit = onSubmit => {\n  const {\n    addAlert\n  } = useContext(AlertContext);\n  return (...args) => onSubmit(...args).catch(e => {\n    const message = e.message || i18n.t('No error message was provided'); // Notify on unexpected errors\n\n    addAlert({\n      type: 'critical',\n      message: e.message\n    });\n    return {\n      [FORM_ERROR]: message\n    };\n  });\n};","import i18n from '@dhis2/d2-i18n';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Button, SingleSelect, SingleSelectOption } from '@dhis2/ui';\nimport React from 'react';\nimport { useQueryParams } from '../../hooks/index.js';\nimport styles from './Pagination.module.css';\nconst PAGE_LENGTHS = ['1', '2', '10', '20', '30', '40', '50', '100'];\nexport const Pagination = ({\n  page,\n  pageCount,\n  pageSize,\n  total\n}) => {\n  const firstItem = Math.min((page - 1) * pageSize + 1, total);\n  const lastItem = Math.min(firstItem + pageSize - 1, total);\n  const availablePages = Array.from({\n    length: pageCount\n  }, (_x, i) => (i + 1).toString());\n  const [, setQueryParams] = useQueryParams();\n\n  const setPage = page => {\n    setQueryParams({\n      page\n    });\n  };\n\n  const setPageSize = pageSize => {\n    setQueryParams({\n      pageSize,\n      page: 1\n    });\n  };\n\n  if (pageCount === 0) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.verticalAlign\n  }, i18n.t('Show'), /*#__PURE__*/React.createElement(SingleSelect, {\n    dense: true,\n    selected: pageSize.toString(),\n    onChange: ({\n      selected\n    }) => setPageSize(selected),\n    className: styles.select\n  }, PAGE_LENGTHS.map(length => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    key: length,\n    value: length,\n    label: length\n  }))), i18n.t('per page')), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.verticalAlign\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.summary\n  }, i18n.t('Viewing {{firstItem}}-{{lastItem}} of {{total}}', {\n    firstItem,\n    lastItem,\n    total\n  })), /*#__PURE__*/React.createElement(Button, {\n    className: styles.buttonPrevious,\n    small: true,\n    disabled: page === 1,\n    onClick: () => setPage(page - 1)\n  }, i18n.t('Previous')), /*#__PURE__*/React.createElement(\"span\", null, i18n.t('Page')), /*#__PURE__*/React.createElement(SingleSelect, {\n    dense: true,\n    inputWidth: \"600px\",\n    selected: page.toString(),\n    onChange: ({\n      selected\n    }) => setPage(selected),\n    className: styles.select\n  }, availablePages.map(availablePage => /*#__PURE__*/React.createElement(SingleSelectOption, {\n    key: availablePage,\n    value: availablePage,\n    label: availablePage\n  }))), /*#__PURE__*/React.createElement(\"span\", null, i18n.t('of {{pageCount}}', {\n    pageCount\n  })), /*#__PURE__*/React.createElement(Button, {\n    className: styles.buttonNext,\n    small: true,\n    disabled: page === pageCount,\n    onClick: () => setPage(page + 1)\n  }, i18n.t('Next'))));\n};\nPagination.propTypes = {\n  page: PropTypes.number.isRequired,\n  pageCount: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n  total: PropTypes.number.isRequired\n};","import i18n from '@dhis2/d2-i18n';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Checkbox, Table, TableBody, TableCell, TableCellHead, TableFoot, TableHead, TableRow, TableRowHead } from '@dhis2/ui';\nimport React from 'react';\nimport { Pagination } from '../pagination/Pagination.js';\nimport styles from './SmsTable.module.css';\nexport const SmsTable = ({\n  messages,\n  pager,\n  selectedIds,\n  setSelectedIds,\n  columns,\n  rowRenderFn\n}) => {\n  const selectedIdSet = new Set(selectedIds);\n  const allSelected = messages.length > 0 && selectedIds.length === messages.length;\n\n  const toggle = id => {\n    if (selectedIdSet.has(id)) {\n      selectedIdSet.delete(id);\n    } else {\n      selectedIdSet.add(id);\n    }\n\n    setSelectedIds(Array.from(selectedIdSet));\n  };\n\n  const toggleAll = () => {\n    if (allSelected) {\n      setSelectedIds([]);\n    } else {\n      setSelectedIds(messages.map(({\n        id\n      }) => id));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Table, null, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, /*#__PURE__*/React.createElement(Checkbox, {\n    disabled: messages.length === 0,\n    onChange: toggleAll,\n    checked: allSelected\n  })), columns.map(column => /*#__PURE__*/React.createElement(TableCellHead, {\n    key: column\n  }, column)))), /*#__PURE__*/React.createElement(TableBody, null, messages.length === 0 ? /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableCell, {\n    colSpan: String(columns.length),\n    className: styles.noResults\n  }, i18n.t('No SMSes to display'))) : messages.map(message => /*#__PURE__*/React.createElement(TableRow, {\n    key: message.id\n  }, /*#__PURE__*/React.createElement(TableCell, null, /*#__PURE__*/React.createElement(Checkbox, {\n    checked: selectedIdSet.has(message.id),\n    onChange: () => toggle(message.id)\n  })), rowRenderFn(message)))), /*#__PURE__*/React.createElement(TableFoot, null, /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableCell, {\n    colSpan: String(columns.length)\n  }, /*#__PURE__*/React.createElement(Pagination, pager)))));\n};\nSmsTable.propTypes = {\n  columns: PropTypes.arrayOf(PropTypes.string).isRequired,\n  messages: PropTypes.arrayOf(PropTypes.object).isRequired,\n  pager: PropTypes.PropTypes.object.isRequired,\n  rowRenderFn: PropTypes.func.isRequired,\n  selectedIds: PropTypes.arrayOf(PropTypes.string).isRequired,\n  setSelectedIds: PropTypes.func.isRequired\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { dataTest } from '../../utils/index.js';\nimport styles from './LayoutContainer.module.css';\nexport const LayoutContainer = ({\n  children\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.container,\n  \"data-test\": dataTest('shared-layoutcontainer')\n}, children);\nLayoutContainer.propTypes = {\n  children: PropTypes.any.isRequired\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './LayoutContent.module.css';\nexport const LayoutContent = ({\n  children\n}) => /*#__PURE__*/React.createElement(\"main\", {\n  className: styles.content\n}, children);\nLayoutContent.propTypes = {\n  children: PropTypes.any.isRequired\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from './LayoutSidebar.module.css';\nexport const LayoutSidebar = ({\n  children\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.sidebar\n}, children);\nLayoutSidebar.propTypes = {\n  children: PropTypes.any.isRequired\n};","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Navigation } from '../Navigation/index.js';\nimport { LayoutContainer } from './LayoutContainer.js';\nimport { LayoutContent } from './LayoutContent.js';\nimport { LayoutSidebar } from './LayoutSidebar.js';\nexport const TemplateSidebarNavContent = ({\n  children\n}) => /*#__PURE__*/React.createElement(LayoutContainer, null, /*#__PURE__*/React.createElement(LayoutSidebar, null, /*#__PURE__*/React.createElement(Navigation, null)), /*#__PURE__*/React.createElement(LayoutContent, null, children));\nTemplateSidebarNavContent.propTypes = {\n  children: PropTypes.any.isRequired\n};","import { PropTypes } from '@dhis2/prop-types';\nimport moment from 'moment';\nimport React from 'react';\nimport styles from './Time.module.css';\nexport const Time = ({\n  time\n}) => {\n  const momentDate = moment(time);\n  const formatted = momentDate.format('HH:mm:ss');\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.time\n  }, formatted);\n};\nTime.propTypes = {\n  time: PropTypes.string.isRequired\n};","import { createContext } from 'react';\nconst FeatureToggleContext = /*#__PURE__*/createContext({\n  disableConfidentialEdit: false\n});\nexport { FeatureToggleContext };","import { useContext } from 'react';\nimport { FeatureToggleContext } from './feature-toggle-context.js';\nexport const useFeatureToggle = () => useContext(FeatureToggleContext);","import { useConfig } from '@dhis2/app-runtime';\nimport { PropTypes } from '@dhis2/prop-types';\nimport React from 'react';\nimport { FeatureToggleContext } from './feature-toggle-context.js';\n\nconst FeatureToggleProvider = ({\n  children\n}) => {\n  const {\n    serverVersion\n  } = useConfig();\n  const providerValue = {\n    disableConfidentialEdit: (serverVersion === null || serverVersion === void 0 ? void 0 : serverVersion.minor) >= 39\n  };\n  return /*#__PURE__*/React.createElement(FeatureToggleContext.Provider, {\n    value: providerValue\n  }, children);\n};\n\nFeatureToggleProvider.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport { FeatureToggleProvider };","import './locales/index.js';\nimport { CssVariables } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport { QueryParamProvider } from 'use-query-params';\nimport { AlertHandler, FeatureToggleProvider } from './shared/index.js';\nexport const AppWrapper = ({\n  children\n}) => /*#__PURE__*/React.createElement(AlertHandler, null, /*#__PURE__*/React.createElement(CssVariables, {\n  spacers: true,\n  colors: true\n}), /*#__PURE__*/React.createElement(HashRouter, null, /*#__PURE__*/React.createElement(FeatureToggleProvider, null, /*#__PURE__*/React.createElement(QueryParamProvider, {\n  ReactRouterRoute: Route\n}, children))));\nAppWrapper.propTypes = {\n  children: PropTypes.any.isRequired\n};","import { InputFieldFF, ReactFinalForm, composeValidators, hasValue, string } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FIELD_COMMAND_NAME = 'name';\nexport const FieldCommandName = () => /*#__PURE__*/React.createElement(Field, {\n  required: true,\n  dataTest: dataTest('smscommand-fieldcommandname'),\n  name: FIELD_COMMAND_NAME,\n  label: i18n.t('Name'),\n  component: InputFieldFF,\n  validate: composeValidators(string, hasValue)\n});","import { PropTypes } from '@dhis2/prop-types';\nimport { SingleSelectFieldFF, ReactFinalForm, hasValue } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm; // The \"s\" from \"set\" is not capitalized\n// as the property on the java-model\n// does not have a capitalized \"s\" either\n//\n// @TODO: Create issue to make it consistent\n\nexport const FIELD_DATA_SET_NAME = 'dataset';\nexport const FieldDataSet = ({\n  dataSets,\n  loading,\n  required,\n  disabled,\n  errorText\n}) => /*#__PURE__*/React.createElement(Field, {\n  disabled: disabled,\n  error: !!errorText,\n  validationText: errorText,\n  required: required,\n  loading: loading,\n  dataTest: dataTest('smscommand-fielddataset'),\n  name: FIELD_DATA_SET_NAME,\n  label: i18n.t('Data set'),\n  component: SingleSelectFieldFF,\n  options: dataSets,\n  validate: hasValue,\n  format: value => (value === null || value === void 0 ? void 0 : value.id) || null,\n  parse: id => ({\n    id\n  })\n});\nFieldDataSet.defaultProps = {\n  disabled: false,\n  loading: false,\n  required: false,\n  errorText: ''\n};\nFieldDataSet.propTypes = {\n  dataSets: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired\n  })).isRequired,\n  disabled: PropTypes.bool,\n  errorText: PropTypes.string,\n  loading: PropTypes.bool,\n  required: PropTypes.bool\n};","import { useDataQuery } from '@dhis2/app-runtime';\nexport const DATA_SETS_QUERY = {\n  dataSets: {\n    resource: 'dataSets',\n    params: {\n      fields: ['id', 'displayName'],\n      paging: 'false'\n    }\n  }\n};\nexport const useReadDataSetsQuery = () => useDataQuery(DATA_SETS_QUERY);","import { PropTypes } from '@dhis2/prop-types';\nimport { hasValue } from '@dhis2/ui';\nimport React from 'react';\nimport { FieldDataSet } from './FieldDataSet.js';\nimport { useReadDataSetsQuery } from './useReadDataSetsQuery.js';\nexport const FieldDataSetWithAutoLoad = ({\n  required\n}) => {\n  const {\n    loading,\n    error,\n    data\n  } = useReadDataSetsQuery();\n  const validate = required ? hasValue : undefined;\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(FieldDataSet, {\n      loading: true,\n      showLoadingStatus: true,\n      required: required,\n      dataSets: [],\n      validate: validate\n    });\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(FieldDataSet, {\n      required: required,\n      disabled: true,\n      programs: [],\n      errorText: error.message,\n      validate: validate\n    });\n  }\n\n  const {\n    dataSets\n  } = data.dataSets;\n  const options = dataSets.map(({\n    id,\n    displayName\n  }) => ({\n    label: displayName,\n    value: id\n  }));\n  return /*#__PURE__*/React.createElement(FieldDataSet, {\n    required: required,\n    dataSets: options,\n    validate: validate\n  });\n};\nFieldDataSetWithAutoLoad.defaultProps = {\n  required: false\n};\nFieldDataSetWithAutoLoad.propTypes = {\n  required: PropTypes.bool\n};","import i18n from '../../locales/index.js';\nconst KEY_VALUE_PARSER = {\n  value: 'KEY_VALUE_PARSER',\n  label: i18n.t('Key value parser')\n}; // @TODO: This parser is not listed in the docs,\n//        but it's listed in the original source code\n//   -> docs: https://docs.dhis2.org/master/en/dhis2_developer_manual/web-api.html#sms-command-values\n//   -> code: https://github.com/dhis2/dhis2-core/blob/79bd77ecf52051b00e3ba96eb1aca4d0a6063ed1/dhis-2/dhis-web/dhis-web-maintenance/dhis-web-maintenance-mobile/src/main/webapp/dhis-web-maintenance-mobile/smscommand/edit-sms-command.vm#L188\n\nconst J2ME_PARSER = {\n  value: 'J2ME_PARSER',\n  label: i18n.t('J2ME parser')\n};\nconst ALERT_PARSER = {\n  value: 'ALERT_PARSER',\n  label: i18n.t('Alert parser')\n};\nconst UNREGISTERED_PARSER = {\n  value: 'UNREGISTERED_PARSER',\n  label: i18n.t('Unregistered parser')\n};\nconst TRACKED_ENTITY_REGISTRATION_PARSER = {\n  value: 'TRACKED_ENTITY_REGISTRATION_PARSER',\n  label: i18n.t('Tracked entity registration parser')\n};\nconst PROGRAM_STAGE_DATAENTRY_PARSER = {\n  value: 'PROGRAM_STAGE_DATAENTRY_PARSER',\n  label: i18n.t('Program stage data entry parser')\n};\nconst EVENT_REGISTRATION_PARSER = {\n  value: 'EVENT_REGISTRATION_PARSER',\n  label: i18n.t('Event registration parser')\n};\nexport const parserTypes = {\n  KEY_VALUE_PARSER,\n  J2ME_PARSER,\n  ALERT_PARSER,\n  UNREGISTERED_PARSER,\n  TRACKED_ENTITY_REGISTRATION_PARSER,\n  PROGRAM_STAGE_DATAENTRY_PARSER,\n  EVENT_REGISTRATION_PARSER\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { SingleSelectFieldFF, ReactFinalForm, hasValue } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nimport { parserTypes } from './parserTypes.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst options = Object.values(parserTypes).sort((a, b) => {\n  if (a.label < b.label) {\n    return -1;\n  }\n\n  if (a.label > b.label) {\n    return 1;\n  }\n\n  return 0;\n});\nexport const FIELD_PARSER_NAME = 'parserType';\nexport const FieldParser = ({\n  disabled\n}) => /*#__PURE__*/React.createElement(Field, {\n  required: true,\n  disabled: disabled,\n  dataTest: dataTest('smscommand-fieldparser'),\n  name: FIELD_PARSER_NAME,\n  label: i18n.t('Parser'),\n  component: SingleSelectFieldFF,\n  options: options,\n  validate: hasValue\n});\nFieldParser.defaultProps = {\n  disabled: false\n};\nFieldParser.propTypes = {\n  disabled: PropTypes.bool\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { SingleSelectFieldFF, ReactFinalForm, hasValue } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FIELD_PROGRAM_NAME = 'program';\nexport const FieldProgram = ({\n  programs,\n  loading,\n  required,\n  disabled,\n  errorText\n}) => /*#__PURE__*/React.createElement(Field, {\n  error: !!errorText,\n  validationText: errorText,\n  disabled: disabled,\n  required: required,\n  loading: loading,\n  dataTest: dataTest('smscommand-fieldprogram'),\n  name: FIELD_PROGRAM_NAME,\n  label: i18n.t('Program'),\n  component: SingleSelectFieldFF,\n  options: programs,\n  validate: required && hasValue,\n  format: value => (value === null || value === void 0 ? void 0 : value.id) || null,\n  parse: id => ({\n    id\n  })\n});\nFieldProgram.defaultProps = {\n  disabled: false,\n  errorText: '',\n  loading: false,\n  required: false\n};\nFieldProgram.propTypes = {\n  programs: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired\n  })).isRequired,\n  disabled: PropTypes.bool,\n  errorText: PropTypes.string,\n  loading: PropTypes.bool,\n  required: PropTypes.bool\n};","const PROGRAMS_WITH_REGISTRATION = 'PROGRAMS_WITH_REGISTRATION';\nconst PROGRAMS_WITHOUT_REGISTRATION = 'PROGRAMS_WITHOUT_REGISTRATION';\nconst ALL_PROGRAMS = 'ALL_PROGRAMS';\nexport const programTypes = {\n  PROGRAMS_WITH_REGISTRATION,\n  PROGRAMS_WITHOUT_REGISTRATION,\n  ALL_PROGRAMS\n};","import { useDataQuery } from '@dhis2/app-runtime';\nimport { programTypes } from './programTypes.js';\nconst PROGRAMS_QUERY = {\n  programs: {\n    resource: 'programs',\n    params: ({\n      registration\n    }) => {\n      const params = {\n        paging: 'false'\n      };\n\n      if (registration === programTypes.PROGRAMS_WITH_REGISTRATION) {\n        params.filter = 'programType:eq:WITH_REGISTRATION';\n      } else if (registration === programTypes.PROGRAMS_WITHOUT_REGISTRATION) {\n        params.filter = 'programType:eq:WITHOUT_REGISTRATION';\n      }\n\n      return params;\n    }\n  }\n};\nexport const useReadProgramsQuery = registration => useDataQuery(PROGRAMS_QUERY, {\n  variables: {\n    registration\n  }\n});","import { PropTypes } from '@dhis2/prop-types';\nimport { hasValue, ReactFinalForm } from '@dhis2/ui';\nimport React, { useEffect } from 'react';\nimport { FIELD_PROGRAM_NAME, FieldProgram } from './FieldProgram.js';\nimport { programTypes } from './programTypes.js';\nimport { useReadProgramsQuery } from './useReadProgramsQuery.js';\nconst {\n  ALL_PROGRAMS\n} = programTypes;\nconst {\n  useForm\n} = ReactFinalForm;\nexport const FieldProgramWithAutoLoad = ({\n  required,\n  registration\n}) => {\n  const form = useForm();\n  const validate = required ? hasValue : undefined;\n  const {\n    loading,\n    error,\n    data,\n    refetch\n  } = useReadProgramsQuery({\n    lazy: true\n  });\n  useEffect(() => {\n    const variables = {\n      registration\n    };\n    form.change(FIELD_PROGRAM_NAME, null);\n    refetch(variables);\n  }, [registration]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(FieldProgram, {\n      required: required,\n      loading: true,\n      showLoadingStatus: true,\n      programs: [],\n      validate: validate\n    });\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(FieldProgram, {\n      required: required,\n      disabled: true,\n      programs: [],\n      errorText: error.message,\n      validate: validate\n    });\n  }\n\n  const {\n    programs\n  } = data.programs;\n  const options = programs.map(({\n    id,\n    displayName\n  }) => ({\n    label: displayName,\n    value: id\n  }));\n  return /*#__PURE__*/React.createElement(FieldProgram, {\n    required: required,\n    programs: options,\n    validate: validate\n  });\n};\nFieldProgramWithAutoLoad.defaultProps = {\n  required: false,\n  registration: ALL_PROGRAMS\n};\nFieldProgramWithAutoLoad.propTypes = {\n  registration: PropTypes.string,\n  required: PropTypes.bool\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { SingleSelectFieldFF, ReactFinalForm, hasValue } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FIELD_PROGRAM_STAGE_NAME = 'programStage';\nexport const FieldProgramStage = ({\n  programStages,\n  disabled,\n  loading,\n  initialValue,\n  required,\n  errorText\n}) => /*#__PURE__*/React.createElement(Field, {\n  component: SingleSelectFieldFF,\n  dataTest: dataTest('smscommand-fieldprogramstage'),\n  disabled: disabled,\n  error: !!errorText,\n  format: value => (value === null || value === void 0 ? void 0 : value.id) || null,\n  iinitialValue: initialValue,\n  label: i18n.t('Program stage'),\n  loading: loading,\n  name: FIELD_PROGRAM_STAGE_NAME,\n  options: programStages,\n  parse: id => ({\n    id\n  }),\n  required: required,\n  validate: required && hasValue,\n  validationText: errorText\n});\nFieldProgramStage.defaultProps = {\n  disabled: false,\n  loading: false,\n  required: false,\n  errorText: ''\n};\nFieldProgramStage.propTypes = {\n  programStages: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired\n  })).isRequired,\n  disabled: PropTypes.bool,\n  errorText: PropTypes.string,\n  initialValue: PropTypes.string,\n  loading: PropTypes.bool,\n  required: PropTypes.bool\n};","import { useDataQuery } from '@dhis2/app-runtime';\nexport const PROGRAM_STAGES_QUERY = {\n  programStages: {\n    resource: 'programStages',\n    params: ({\n      programId\n    }) => ({\n      paging: 'false',\n      filter: programId ? `program.id:eq:${programId}` : undefined\n    })\n  }\n};\nexport const useReadProgramStagesQuery = ({\n  programId,\n  lazy\n}) => useDataQuery(PROGRAM_STAGES_QUERY, {\n  variables: {\n    programId\n  },\n  lazy\n});","import { PropTypes } from '@dhis2/prop-types';\nimport { hasValue, ReactFinalForm } from '@dhis2/ui';\nimport React, { useEffect } from 'react';\nimport { parserTypes } from '../FieldParser/index.js';\nimport { FIELD_PROGRAM_STAGE_NAME, FieldProgramStage } from './FieldProgramStage.js';\nimport { useReadProgramStagesQuery } from './useReadProgramStagesQuery.js';\nconst {\n  useForm\n} = ReactFinalForm;\nconst {\n  EVENT_REGISTRATION_PARSER\n} = parserTypes;\nexport const FieldProgramStageWithLoadingStates = ({\n  parserType,\n  programId,\n  disabled,\n  required\n}) => {\n  var _data$programStages2, _data$programStages3;\n\n  const form = useForm();\n  const {\n    loading,\n    error,\n    data,\n    refetch\n  } = useReadProgramStagesQuery({\n    lazy: true\n  });\n  const validate = required ? hasValue : undefined;\n  useEffect(() => {\n    if (programId) {\n      refetch({\n        programId\n      });\n    }\n  }, [programId]);\n  useEffect(() => {\n    var _data$programStages, _data$programStages$p;\n\n    const isEventRegistrationParser = parserType === EVENT_REGISTRATION_PARSER.value;\n    const programStageValueForEventRegistration = {\n      id: data === null || data === void 0 ? void 0 : (_data$programStages = data.programStages) === null || _data$programStages === void 0 ? void 0 : (_data$programStages$p = _data$programStages.programStages[0]) === null || _data$programStages$p === void 0 ? void 0 : _data$programStages$p.id\n    };\n    const initialValue = isEventRegistrationParser ? programStageValueForEventRegistration : undefined;\n    form.change(FIELD_PROGRAM_STAGE_NAME, initialValue);\n  }, [parserType, data === null || data === void 0 ? void 0 : (_data$programStages2 = data.programStages) === null || _data$programStages2 === void 0 ? void 0 : _data$programStages2.programStages]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(FieldProgramStage, {\n      loading: true,\n      disabled: disabled,\n      required: required,\n      programStages: [],\n      validate: validate\n    });\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(FieldProgramStage, {\n      disabled: true,\n      errorText: error.message,\n      required: required,\n      programStages: [],\n      validate: validate\n    });\n  }\n\n  if (!programId || !data) {\n    return /*#__PURE__*/React.createElement(FieldProgramStage, {\n      disabled: true,\n      required: required,\n      programStages: [],\n      validate: validate\n    });\n  }\n\n  const programStages = (data === null || data === void 0 ? void 0 : (_data$programStages3 = data.programStages) === null || _data$programStages3 === void 0 ? void 0 : _data$programStages3.programStages) || [];\n  const options = programStages.map(({\n    id,\n    displayName\n  }) => ({\n    label: displayName,\n    value: id\n  }));\n  return /*#__PURE__*/React.createElement(FieldProgramStage, {\n    disabled: disabled,\n    required: required,\n    programStages: options\n  });\n};\nFieldProgramStageWithLoadingStates.defaultProps = {\n  disabled: false,\n  required: false\n};\nFieldProgramStageWithLoadingStates.propTypes = {\n  parserType: PropTypes.string.isRequired,\n  programId: PropTypes.string.isRequired,\n  disabled: PropTypes.bool,\n  required: PropTypes.bool\n};","import { useDataMutation } from '@dhis2/app-runtime';\nimport { parserTypes } from '../FieldParser/index.js';\nconst {\n  ALERT_PARSER,\n  EVENT_REGISTRATION_PARSER,\n  J2ME_PARSER,\n  KEY_VALUE_PARSER,\n  PROGRAM_STAGE_DATAENTRY_PARSER,\n  TRACKED_ENTITY_REGISTRATION_PARSER,\n  UNREGISTERED_PARSER\n} = parserTypes;\nexport const CREATE_SMS_COMMAND_MUTATION = {\n  resource: 'smsCommands',\n  type: 'create',\n\n  /*\n   * @param {Object} args\n   * @param {string} args.parserType\n   * @param {string} args.name\n   * @param {string} args.dataset (id)\n   * @param {string} args.userGroup (id)\n   * @param {string} args.program (id)\n   * @param {string} args.programStage (id)\n   * @returns {Object}\n   */\n  data: ({\n    parserType,\n    name,\n    dataset,\n    userGroup,\n    program,\n    programStage\n  }) => {\n    if (parserType === KEY_VALUE_PARSER.value || parserType === J2ME_PARSER.value) {\n      return {\n        parserType,\n        name,\n        dataset\n      };\n    }\n\n    if (parserType === ALERT_PARSER.value || parserType === UNREGISTERED_PARSER.value) {\n      return {\n        parserType,\n        name,\n        userGroup: {\n          id: userGroup\n        }\n      };\n    }\n\n    if (parserType === TRACKED_ENTITY_REGISTRATION_PARSER.value) {\n      return {\n        parserType,\n        name,\n        program\n      };\n    }\n\n    if (parserType === PROGRAM_STAGE_DATAENTRY_PARSER.value || parserType === EVENT_REGISTRATION_PARSER.value) {\n      return {\n        parserType,\n        name,\n        program,\n        programStage\n      };\n    }\n\n    throw new Error(`You provided an unrecognized parserType \"${parserType}\"`);\n  }\n};\nexport const useCreateSmsCommandMutation = ({\n  onComplete,\n  onError\n}) => useDataMutation(CREATE_SMS_COMMAND_MUTATION, {\n  onComplete,\n  onError\n});","import { PropTypes } from '@dhis2/prop-types';\nimport { Button, ButtonStrip, ReactFinalForm, CircularLoader } from '@dhis2/ui';\nimport React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport i18n from '../../locales/index.js';\nimport { FormRow, PageHeadline, FieldUserGroupWithAutoLoad, TemplateSidebarNavContent, dataTest } from '../../shared/index.js';\nimport { FieldCommandName } from '../FieldCommandName/index.js';\nimport { FieldDataSetWithAutoLoad } from '../FieldDataSet/index.js';\nimport { FIELD_PARSER_NAME, FieldParser, parserTypes } from '../FieldParser/index.js';\nimport { FIELD_PROGRAM_NAME, FieldProgramWithAutoLoad, programTypes } from '../FieldProgram/index.js';\nimport { FIELD_PROGRAM_STAGE_NAME, FieldProgramStageWithLoadingStates } from '../FieldProgramStage/index.js';\nimport { useCreateSmsCommandMutation } from './useCreateSmsCommandMutation.js';\nimport styles from './ViewSmsCommandAdd.module.css';\nconst {\n  ALL_PROGRAMS,\n  PROGRAMS_WITH_REGISTRATION,\n  PROGRAMS_WITHOUT_REGISTRATION\n} = programTypes;\nconst {\n  Form,\n  useForm\n} = ReactFinalForm;\nconst {\n  ALERT_PARSER,\n  EVENT_REGISTRATION_PARSER,\n  J2ME_PARSER,\n  KEY_VALUE_PARSER,\n  PROGRAM_STAGE_DATAENTRY_PARSER,\n  TRACKED_ENTITY_REGISTRATION_PARSER,\n  UNREGISTERED_PARSER\n} = parserTypes;\nexport const SMS_COMMAND_FORM_NEW_PATH = '/sms-config/new';\n\nconst useResetFormFields = () => {\n  const form = useForm();\n  const [prevValues, setPrevValues] = useState(form.getState().values);\n  useEffect(() => form.subscribe(({\n    values\n  }) => {\n    form.batch(() => {\n      const parserType = values[FIELD_PARSER_NAME];\n      const program = values[FIELD_PROGRAM_NAME];\n      const programStage = values[FIELD_PROGRAM_STAGE_NAME];\n      const prevProgram = prevValues[FIELD_PROGRAM_NAME];\n      const prevParserType = prevValues[FIELD_PARSER_NAME];\n      const programChanged = prevProgram && program !== prevProgram;\n      const parserTypeChanged = prevParserType && parserType !== prevParserType;\n\n      if ( // only unset program stage if one exists already\n      programStage && (programChanged || parserTypeChanged)) {\n        form.change(FIELD_PROGRAM_STAGE_NAME, null);\n      }\n    });\n    setPrevValues(values);\n  }, {\n    values: true\n  }), [prevValues]);\n}; // undefined = all, false = program.programType --> WITHOUT_REGISTRATION\n\n\nconst shouldProgramsBeWithRegistration = parserType => {\n  // EVENT_REGISTRATION uses event programs\n  if (parserType === EVENT_REGISTRATION_PARSER.value) {\n    return PROGRAMS_WITHOUT_REGISTRATION;\n  } // This is for programs of type tracker,\n  // which can have multiple program stages\n\n\n  if (parserType === PROGRAM_STAGE_DATAENTRY_PARSER.value) {\n    return PROGRAMS_WITH_REGISTRATION;\n  } // Unrelated yet, but in case all program stages are need in the future\n\n\n  return ALL_PROGRAMS;\n};\n\nconst ActualForm = ({\n  handleSubmit,\n  submitting\n}) => {\n  // This is required to unset form fields that depend\n  // on the selected value of a previous field\n  useResetFormFields();\n  const history = useHistory();\n  const form = useForm();\n  const {\n    values\n  } = form.getState();\n  const parserType = values[FIELD_PARSER_NAME];\n  const program = values[FIELD_PROGRAM_NAME];\n  const showDataSetField = parserType === KEY_VALUE_PARSER.value || parserType === J2ME_PARSER.value;\n  const showUserGroupField = parserType === ALERT_PARSER.value || parserType === UNREGISTERED_PARSER.value;\n  const showProgramField = parserType === TRACKED_ENTITY_REGISTRATION_PARSER.value || parserType === PROGRAM_STAGE_DATAENTRY_PARSER.value || parserType === EVENT_REGISTRATION_PARSER.value;\n  const showProgramStageField = parserType === EVENT_REGISTRATION_PARSER.value || parserType === PROGRAM_STAGE_DATAENTRY_PARSER.value;\n  const registration = shouldProgramsBeWithRegistration(parserType);\n  const disableProgramStage = parserType === EVENT_REGISTRATION_PARSER.value;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(PageHeadline, null, i18n.t('Add command')), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit\n  }, /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldCommandName, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldParser, null)), showDataSetField && /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldDataSetWithAutoLoad, {\n    required: true\n  })), showUserGroupField && /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldUserGroupWithAutoLoad, {\n    required: true\n  })), showProgramField && /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldProgramWithAutoLoad, {\n    required: true,\n    registration: registration\n  })), showProgramStageField && /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldProgramStageWithLoadingStates, {\n    disabled: disableProgramStage,\n    required: true,\n    programId: (program === null || program === void 0 ? void 0 : program.id) || '',\n    parserType: parserType,\n    helpText: disableProgramStage ? i18n.t('Automatically selected by selecting a program') : undefined\n  })), /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    type: \"submit\",\n    icon: submitting ? /*#__PURE__*/React.createElement(CircularLoader, {\n      small: true\n    }) : null,\n    disabled: submitting\n  }, i18n.t('Add command')), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => history.goBack()\n  }, i18n.t('Cancel')))));\n};\n\nActualForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  submitting: PropTypes.bool.isRequired\n};\nexport const ViewSmsCommandAdd = () => {\n  const history = useHistory();\n  const [createSmsCommand] = useCreateSmsCommandMutation({\n    onComplete: () => history.push('/sms-command')\n  });\n\n  const onSubmit = values => createSmsCommand(values);\n\n  return /*#__PURE__*/React.createElement(TemplateSidebarNavContent, null, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest('smscommand-viewsmscommandadd')\n  }, /*#__PURE__*/React.createElement(Form, {\n    destroyOnUnregister: true,\n    onSubmit: onSubmit\n  }, ({\n    handleSubmit,\n    submitting\n  }) => /*#__PURE__*/React.createElement(ActualForm, {\n    handleSubmit: handleSubmit,\n    submitting: submitting\n  }))));\n};","import { TextAreaFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FIELD_CONFIRM_MESSAGE_NAME = 'receivedMessage';\nexport const FieldConfirmMessage = () => /*#__PURE__*/React.createElement(Field, {\n  dataTest: dataTest('smscommand-fieldconfirmmessage'),\n  name: FIELD_CONFIRM_MESSAGE_NAME,\n  label: i18n.t('Confirm message'),\n  component: TextAreaFieldFF\n});","import { PropTypes } from '@dhis2/prop-types';\nimport { Button, CircularLoader, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nconst {\n  useFormState\n} = ReactFinalForm;\nconst subscription = {\n  submitting: true,\n  pristine: true\n};\nexport const SaveCommandButton = ({\n  enabled\n}) => {\n  const {\n    submitting,\n    pristine\n  } = useFormState({\n    subscription\n  });\n  const disabled = pristine || submitting;\n  return /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    type: \"submit\",\n    disabled: !enabled && disabled,\n    icon: submitting ? /*#__PURE__*/React.createElement(CircularLoader, {\n      small: true\n    }) : null\n  }, i18n.t('Save command'));\n};\nSaveCommandButton.defaultProps = {\n  enabled: false\n};\nSaveCommandButton.propTypes = {\n  /*\n   * This prop is used when fields, stored as array entries\n   * in the form state, are being removed while the form\n   * is still pristine.\n   *\n   * Form some reasons, RFF doesn't recognize this as a change\n   * and keeps the form state's pristine value `true`\n   */\n  enabled: PropTypes.bool\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { Button, ButtonStrip } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { FormRow } from '../../shared/index.js';\nimport { SaveCommandButton } from './SaveCommandButton.js';\nexport const FormActions = ({\n  enableSubmit,\n  onCancel\n}) => /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(SaveCommandButton, {\n  enabled: enableSubmit\n}), /*#__PURE__*/React.createElement(Button, {\n  onClick: onCancel\n}, i18n.t('Cancel'))));\nFormActions.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  enableSubmit: PropTypes.bool\n};","import { NoticeBox, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { FormRow } from '../../shared/index.js';\nconst {\n  useFormState\n} = ReactFinalForm;\nconst subscription = {\n  submitError: true,\n  hasSubmitErrors: true\n};\nexport const SubmitErrors = () => {\n  const {\n    submitError,\n    hasSubmitErrors\n  } = useFormState({\n    subscription\n  });\n\n  if (!hasSubmitErrors) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(NoticeBox, {\n    error: true,\n    title: i18n.t('Something went wrong whilst submitting the form')\n  }, submitError));\n};","import { PropTypes } from '@dhis2/prop-types';\nimport React from 'react';\nimport { FormRow, FieldUserGroup, dataTest } from '../../shared/index.js';\nimport { FieldCommandName } from '../FieldCommandName/index.js';\nimport { FieldConfirmMessage } from '../FieldConfirmMessage/index.js';\nimport { FieldParser } from '../FieldParser/index.js';\nimport { FormActions } from '../FormActions/index.js';\nimport { SubmitErrors } from '../SubmitErrors/index.js';\nexport const Form = ({\n  userGroups,\n  handleSubmit,\n  pristine,\n  onCancel\n}) => /*#__PURE__*/React.createElement(\"form\", {\n  onSubmit: handleSubmit,\n  \"data-test\": dataTest('smscommand-formalertparser-form')\n}, /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldCommandName, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldParser, {\n  disabled: true\n})), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldUserGroup, {\n  disabled: true,\n  userGroups: userGroups\n})), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldConfirmMessage, null)), /*#__PURE__*/React.createElement(SubmitErrors, null), /*#__PURE__*/React.createElement(FormActions, {\n  onCancel: () => onCancel(pristine)\n}));\nForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  pristine: PropTypes.bool.isRequired,\n  userGroups: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired\n  })).isRequired,\n  onCancel: PropTypes.func.isRequired\n};","import { useDataQuery } from '@dhis2/app-runtime';\nconst ALERT_DATA_QUERY = {\n  smsCommand: {\n    resource: 'smsCommands',\n    type: 'update',\n    id: ({\n      commandId\n    }) => commandId,\n    params: {\n      fields: ['name', 'parserType', 'receivedMessage', 'userGroup[name,id]']\n    }\n  }\n};\nexport const useAlertDataQuery = commandId => {\n  const variables = {\n    commandId\n  };\n  return useDataQuery(ALERT_DATA_QUERY, {\n    variables\n  });\n};","import { useDataEngine } from '@dhis2/app-runtime';\nimport { useSubmit } from '../../shared/index.js';\nconst updateAlertParserMutation = {\n  resource: 'smsCommands',\n  type: 'update',\n  id: ({\n    id\n  }) => id,\n  partial: true,\n  data: ({\n    name,\n    parserType,\n    receivedMessage,\n    userGroup\n  }) => ({\n    name,\n    parserType,\n    receivedMessage,\n    userGroup\n  })\n};\nexport const useUpdateCommandMutation = ({\n  id,\n  onAfterChange\n}) => {\n  const engine = useDataEngine();\n\n  const onSubmit = values => {\n    const variables = { ...values,\n      id\n    };\n    return engine.mutate(updateAlertParserMutation, {\n      variables\n    }).then(onAfterChange);\n  };\n\n  return useSubmit(onSubmit);\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { ContentLoading, ContentLoadingError } from '../../shared/index.js';\nimport { createInitialValues } from './createInitialValues.js';\nimport { createUserGroupOptions } from './createUserGroupOptions.js';\nimport { Form as FormComponent } from './Form.js';\nimport { useAlertDataQuery } from './useAlertDataQuery.js';\nimport { useUpdateCommandMutation } from './useUpdateCommandMutation.js';\nconst {\n  Form\n} = ReactFinalForm;\nexport const FormAlertParser = ({\n  commandId,\n  onAfterChange,\n  onCancel\n}) => {\n  const {\n    loading,\n    error,\n    data\n  } = useAlertDataQuery(commandId);\n  const updateCommand = useUpdateCommandMutation({\n    id: commandId,\n    onAfterChange\n  });\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(ContentLoading, null);\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(ContentLoadingError, {\n      errorMessage: error.message,\n      title: i18n.t('Something went wrong whilst loading the sms command')\n    });\n  }\n\n  const initialValues = createInitialValues(data.smsCommand);\n  const userGroups = createUserGroupOptions(data.smsCommand.userGroup);\n  return /*#__PURE__*/React.createElement(Form, {\n    keepDirtyOnReinitialize: true,\n    onSubmit: updateCommand,\n    initialValues: initialValues\n  }, ({\n    handleSubmit,\n    pristine\n  }) => /*#__PURE__*/React.createElement(FormComponent, {\n    userGroups: userGroups,\n    handleSubmit: handleSubmit,\n    pristine: pristine,\n    onCancel: onCancel\n  }));\n};\nFormAlertParser.propTypes = {\n  commandId: PropTypes.string.isRequired,\n  onAfterChange: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired\n};","export const createInitialValues = ({\n  name,\n  parserType,\n  receivedMessage,\n  userGroup\n}) => ({\n  name,\n  parserType,\n  receivedMessage,\n  userGroup: userGroup.id\n});","export const createUserGroupOptions = userGroup => [{\n  value: userGroup.id,\n  label: userGroup.name\n}];","import { TextAreaFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FIELD_DEFAULT_MESSAGE_NAME = 'defaultMessage';\nexport const FieldDefaultMessage = () => /*#__PURE__*/React.createElement(Field, {\n  dataTest: dataTest('smscommand-fielddefaultmessage'),\n  name: FIELD_DEFAULT_MESSAGE_NAME,\n  label: i18n.t('Reply message if no codes are sent (only the command)'),\n  component: TextAreaFieldFF\n});","import { TextAreaFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME = 'moreThanOneOrgUnitMessage';\nexport const FieldMoreThanOneOrgUnitMessage = () => /*#__PURE__*/React.createElement(Field, {\n  dataTest: dataTest('smscommand-fieldmorethanoneorgunitmessage'),\n  name: FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME,\n  label: i18n.t('More than one orgunit message'),\n  component: TextAreaFieldFF\n});","import { TextAreaFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FIELD_NO_USER_MESSAGE_NAME = 'noUserMessage';\nexport const FieldNoUserMessage = () => /*#__PURE__*/React.createElement(Field, {\n  dataTest: dataTest('smscommand-fieldnousermessage'),\n  name: FIELD_NO_USER_MESSAGE_NAME,\n  label: i18n.t('No user message'),\n  component: TextAreaFieldFF\n});","import { InputFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FIELD_SEPARATOR_NAME = 'separator';\nexport const FieldSeparator = () => /*#__PURE__*/React.createElement(Field, {\n  dataTest: dataTest('smscommand-fieldseparator'),\n  name: FIELD_SEPARATOR_NAME,\n  label: i18n.t('Field separator'),\n  component: InputFieldFF\n});","import { PropTypes } from '@dhis2/prop-types';\nimport { InputFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field,\n  useFormState\n} = ReactFinalForm;\nconst subscription = {\n  values: true\n};\nexport const FIELD_SMS_CODES_NAME = 'smsCodes';\nexport const FieldSmsCode = ({\n  id,\n  displayName,\n  valueType\n}) => {\n  const {\n    values\n  } = useFormState({\n    subscription\n  });\n  const smsCode = values[FIELD_SMS_CODES_NAME][id];\n  /**\n   * This uses a dynamic, nested name for storing the field value in the\n   * form state. You can't submit the data as is though, since the backend\n   * expects a different shape. So I was thinking of dealing with that\n   * in the submit handler. Since you have the ids and the field value\n   * you should be able to transform it into any shape you need.\n   */\n\n  return /*#__PURE__*/React.createElement(Field, {\n    required: true,\n    dataTest: dataTest('smscommand-fieldsmscode'),\n    name: `${FIELD_SMS_CODES_NAME}.${id}`,\n    label: displayName,\n    component: InputFieldFF,\n    format: code => (code === null || code === void 0 ? void 0 : code.code) || '',\n    parse: nextCode => !smsCode ? {\n      code: nextCode,\n      trackedEntityAttribute: {\n        id,\n        displayName,\n        valueType\n      }\n    } : { ...smsCode,\n      code: nextCode\n    }\n  });\n};\nFieldSmsCode.propTypes = {\n  displayName: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  valueType: PropTypes.string.isRequired\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { InputFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport { dataTest } from '../../shared/index.js';\nimport { FIELD_SMS_CODES_NAME } from '../FieldSmsCode/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FieldSmsCodeDataElement = ({\n  dataElement,\n  smsCodes\n}) => {\n  return /*#__PURE__*/React.createElement(Field, {\n    dataTest: dataTest('smscommand-fieldsmscodedataelement'),\n    key: dataElement.id,\n    name: `${FIELD_SMS_CODES_NAME}.${dataElement.id}`,\n    label: dataElement.displayName,\n    component: InputFieldFF,\n    format: value => (value === null || value === void 0 ? void 0 : value.code) || null,\n    parse: code => {\n      const currentValue = smsCodes[dataElement.id];\n      const newValue = { ...currentValue,\n        code: code || '',\n        dataElement\n      };\n      return newValue;\n    }\n  });\n};\nFieldSmsCodeDataElement.propTypes = {\n  dataElement: PropTypes.shape({\n    displayName: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired\n  }).isRequired,\n  smsCodes: PropTypes.objectOf(PropTypes.shape({\n    dataElement: PropTypes.shape({\n      id: PropTypes.string.isRequired\n    }).isRequired,\n    code: PropTypes.string,\n    compulsory: PropTypes.bool,\n    optionId: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n  }))\n};","import { TextAreaFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FIELD_SUCCESS_MESSAGE_NAME = 'successMessage';\nexport const FieldSuccessMessage = () => /*#__PURE__*/React.createElement(Field, {\n  dataTest: dataTest('smscommand-fieldsuccessmessage'),\n  name: FIELD_SUCCESS_MESSAGE_NAME,\n  label: i18n.t('Success message'),\n  component: TextAreaFieldFF\n});","import { TextAreaFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FIELD_WRONG_FORMAT_MESSAGE_NAME = 'wrongFormatMessage';\nexport const FieldWrongFormatMessage = () => /*#__PURE__*/React.createElement(Field, {\n  dataTest: dataTest('smscommand-fieldwrongformatmessage'),\n  name: FIELD_WRONG_FORMAT_MESSAGE_NAME,\n  label: i18n.t('Wrong format message'),\n  component: TextAreaFieldFF\n});","import { PropTypes } from '@dhis2/prop-types';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { FormRow, PageSubHeadline, dataTest } from '../../shared/index.js';\nimport { FieldCommandName } from '../FieldCommandName/index.js';\nimport { FieldDefaultMessage } from '../FieldDefaultMessage/index.js';\nimport { FieldMoreThanOneOrgUnitMessage } from '../FieldMoreThanOneOrgUnitMessage/index.js';\nimport { FieldNoUserMessage } from '../FieldNoUserMessage/index.js';\nimport { FieldParser } from '../FieldParser/index.js';\nimport { FieldProgram } from '../FieldProgram/index.js';\nimport { FieldProgramStage } from '../FieldProgramStage/index.js';\nimport { FieldSeparator } from '../FieldSeparator/index.js';\nimport { FIELD_SMS_CODES_NAME } from '../FieldSmsCode/index.js';\nimport { FieldSmsCodeDataElement } from '../FieldSmsCodeDataElement/index.js';\nimport { FieldSuccessMessage } from '../FieldSuccessMessage/index.js';\nimport { FieldWrongFormatMessage } from '../FieldWrongFormatMessage/index.js';\nimport { FormActions } from '../FormActions/index.js';\nimport { SubmitErrors } from '../SubmitErrors/index.js';\nconst {\n  useFormState\n} = ReactFinalForm;\nexport const Form = ({\n  handleSubmit,\n  onCancel,\n  programStageDataElements,\n  selectedProgramOption,\n  selectedProgramStageOption\n}) => {\n  const {\n    pristine,\n    values\n  } = useFormState();\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    \"data-test\": dataTest('smscommand-formeventregistrationparser-form')\n  }, /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldCommandName, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldParser, {\n    disabled: true\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldProgram, {\n    disabled: true,\n    programs: [selectedProgramOption]\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldProgramStage, {\n    disabled: true,\n    programStages: [selectedProgramStageOption]\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldSeparator, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldDefaultMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldWrongFormatMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldNoUserMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldMoreThanOneOrgUnitMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldSuccessMessage, null)), /*#__PURE__*/React.createElement(PageSubHeadline, null, i18n.t('SMS short codes')), programStageDataElements && /*#__PURE__*/React.createElement(FormRow, null, programStageDataElements.map(({\n    dataElement\n  }) => /*#__PURE__*/React.createElement(FieldSmsCodeDataElement, {\n    key: dataElement.id,\n    dataElement: dataElement,\n    smsCodes: values[FIELD_SMS_CODES_NAME]\n  }))), /*#__PURE__*/React.createElement(SubmitErrors, null), /*#__PURE__*/React.createElement(FormActions, {\n    onCancel: () => onCancel(pristine)\n  }));\n};\nForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  programStageDataElements: PropTypes.arrayOf(PropTypes.shape({\n    dataElement: PropTypes.shape({\n      displayName: PropTypes.string.isRequired,\n      id: PropTypes.string.isRequired\n    })\n  })).isRequired,\n  selectedProgramOption: PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired\n  }).isRequired,\n  selectedProgramStageOption: PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired\n  }).isRequired,\n  onCancel: PropTypes.func.isRequired\n};","import { FIELD_COMMAND_NAME } from '../FieldCommandName/index.js';\nimport { FIELD_DEFAULT_MESSAGE_NAME } from '../FieldDefaultMessage/index.js';\nimport { FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME } from '../FieldMoreThanOneOrgUnitMessage/index.js';\nimport { FIELD_NO_USER_MESSAGE_NAME } from '../FieldNoUserMessage/index.js';\nimport { FIELD_PARSER_NAME, parserTypes } from '../FieldParser/index.js';\nimport { FIELD_PROGRAM_NAME } from '../FieldProgram/index.js';\nimport { FIELD_PROGRAM_STAGE_NAME } from '../FieldProgramStage/index.js';\nimport { FIELD_SEPARATOR_NAME } from '../FieldSeparator/index.js';\nimport { FIELD_SMS_CODES_NAME } from '../FieldSmsCode/index.js';\nimport { FIELD_SUCCESS_MESSAGE_NAME } from '../FieldSuccessMessage/index.js';\nimport { FIELD_WRONG_FORMAT_MESSAGE_NAME } from '../FieldWrongFormatMessage/index.js';\nconst {\n  EVENT_REGISTRATION_PARSER\n} = parserTypes;\nexport const getInitialFormState = command => {\n  const name = command[FIELD_COMMAND_NAME];\n  const program = command[FIELD_PROGRAM_NAME];\n  const programStage = command[FIELD_PROGRAM_STAGE_NAME];\n  const separator = command[FIELD_SEPARATOR_NAME];\n  const defaultMessage = command[FIELD_DEFAULT_MESSAGE_NAME];\n  const wrongFormatMessage = command[FIELD_WRONG_FORMAT_MESSAGE_NAME];\n  const noUserMessage = command[FIELD_NO_USER_MESSAGE_NAME];\n  const moreThanOneOrgUnitMessage = command[FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME];\n  const successMessage = command[FIELD_SUCCESS_MESSAGE_NAME];\n  const smsCodes = command[FIELD_SMS_CODES_NAME].reduce((curSmsCodes, smsCode) => ({ ...curSmsCodes,\n    [smsCode.dataElement.id]: smsCode\n  }), {});\n  return {\n    [FIELD_COMMAND_NAME]: name,\n    [FIELD_PARSER_NAME]: EVENT_REGISTRATION_PARSER.value,\n    [FIELD_PROGRAM_NAME]: program,\n    [FIELD_PROGRAM_STAGE_NAME]: programStage,\n    [FIELD_SEPARATOR_NAME]: separator,\n    [FIELD_DEFAULT_MESSAGE_NAME]: defaultMessage,\n    [FIELD_WRONG_FORMAT_MESSAGE_NAME]: wrongFormatMessage,\n    [FIELD_NO_USER_MESSAGE_NAME]: noUserMessage,\n    [FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME]: moreThanOneOrgUnitMessage,\n    [FIELD_SUCCESS_MESSAGE_NAME]: successMessage,\n    [FIELD_SMS_CODES_NAME]: smsCodes\n  };\n};","import { useDataQuery } from '@dhis2/app-runtime';\nexport const READ_SMS_COMMAND_EVENT_REGISTRATION_PARSER_QUERY = {\n  smsCommand: {\n    resource: 'smsCommands',\n    id: ({\n      id\n    }) => id,\n    params: {\n      fields: ['*', 'program[id,displayName]', 'programStage[id,displayName,programStageDataElements[id,dataElement[id,displayName]]'],\n      paging: 'false'\n    }\n  }\n};\nexport const useCommandQuery = id => useDataQuery(READ_SMS_COMMAND_EVENT_REGISTRATION_PARSER_QUERY, {\n  variables: {\n    id\n  }\n});","import { useDataEngine } from '@dhis2/app-runtime';\nimport { useSubmit } from '../../shared/index.js';\nimport { FIELD_COMMAND_NAME } from '../FieldCommandName/index.js';\nimport { FIELD_DEFAULT_MESSAGE_NAME } from '../FieldDefaultMessage/index.js';\nimport { FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME } from '../FieldMoreThanOneOrgUnitMessage/index.js';\nimport { FIELD_NO_USER_MESSAGE_NAME } from '../FieldNoUserMessage/index.js';\nimport { FIELD_PARSER_NAME } from '../FieldParser/index.js';\nimport { FIELD_PROGRAM_NAME } from '../FieldProgram/index.js';\nimport { FIELD_PROGRAM_STAGE_NAME } from '../FieldProgramStage/index.js';\nimport { FIELD_SEPARATOR_NAME } from '../FieldSeparator/index.js';\nimport { FIELD_SMS_CODES_NAME } from '../FieldSmsCode/index.js';\nimport { FIELD_SUCCESS_MESSAGE_NAME } from '../FieldSuccessMessage/index.js';\nimport { FIELD_WRONG_FORMAT_MESSAGE_NAME } from '../FieldWrongFormatMessage/index.js';\nconst updateEventRegistrationParserMutation = {\n  resource: 'smsCommands',\n  type: 'update',\n  id: ({\n    id\n  }) => id,\n  data: command => {\n    const name = command[FIELD_COMMAND_NAME];\n    const parserType = command[FIELD_PARSER_NAME];\n    const program = command[FIELD_PROGRAM_NAME];\n    const programStage = command[FIELD_PROGRAM_STAGE_NAME];\n    const separator = command[FIELD_SEPARATOR_NAME];\n    const defaultMessage = command[FIELD_DEFAULT_MESSAGE_NAME];\n    const wrongFormatMessage = command[FIELD_WRONG_FORMAT_MESSAGE_NAME];\n    const noUserMessage = command[FIELD_NO_USER_MESSAGE_NAME];\n    const moreThanOneOrgUnitMessage = command[FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME];\n    const successMessage = command[FIELD_SUCCESS_MESSAGE_NAME];\n    const smsCodes = Object.values(command[FIELD_SMS_CODES_NAME]);\n    return {\n      [FIELD_COMMAND_NAME]: name,\n      [FIELD_PARSER_NAME]: parserType,\n      [FIELD_PROGRAM_NAME]: program,\n      [FIELD_PROGRAM_STAGE_NAME]: programStage,\n      [FIELD_SEPARATOR_NAME]: separator,\n      [FIELD_DEFAULT_MESSAGE_NAME]: defaultMessage,\n      [FIELD_WRONG_FORMAT_MESSAGE_NAME]: wrongFormatMessage,\n      [FIELD_NO_USER_MESSAGE_NAME]: noUserMessage,\n      [FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME]: moreThanOneOrgUnitMessage,\n      [FIELD_SUCCESS_MESSAGE_NAME]: successMessage,\n      [FIELD_SMS_CODES_NAME]: smsCodes\n    };\n  }\n};\nexport const useUpdateCommandMutation = ({\n  id,\n  onAfterChange\n}) => {\n  const engine = useDataEngine();\n\n  const onSubmit = values => {\n    const variables = { ...values,\n      id\n    };\n    return engine.mutate(updateEventRegistrationParserMutation, {\n      variables\n    }).then(onAfterChange);\n  };\n\n  return useSubmit(onSubmit);\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { CenteredContent, CircularLoader, NoticeBox, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { Form as FormComponent } from './Form.js';\nimport { getInitialFormState } from './getInitialFormState.js';\nimport { useCommandQuery } from './useCommandQuery.js';\nimport { useUpdateCommandMutation } from './useUpdateCommandMutation.js';\nconst {\n  Form\n} = ReactFinalForm;\nexport const FormEventRegistrationParser = ({\n  commandId,\n  onAfterChange,\n  onCancel\n}) => {\n  const {\n    error,\n    data = {}\n  } = useCommandQuery(commandId);\n  const {\n    smsCommand: command\n  } = data;\n  const updateCommand = useUpdateCommandMutation({\n    id: commandId,\n    onAfterChange\n  });\n\n  if (error) {\n    const msg = i18n.t(\"Something went wrong whilst loading the command's details\");\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: msg\n    }, error.message);\n  }\n\n  if (!command) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n\n  const selectedProgramOption = {\n    value: command.program.id,\n    label: command.program.displayName\n  };\n  const selectedProgramStageOption = {\n    value: command.programStage.id,\n    label: command.programStage.displayName\n  };\n  const programStageDataElements = command.programStage.programStageDataElements;\n  const initialValues = getInitialFormState(command);\n  return /*#__PURE__*/React.createElement(Form, {\n    keepDirtyOnReinitialize: true,\n    initialValues: initialValues,\n    onSubmit: updateCommand\n  }, ({\n    handleSubmit\n  }) => {\n    return /*#__PURE__*/React.createElement(FormComponent, {\n      handleSubmit: handleSubmit,\n      selectedProgramOption: selectedProgramOption,\n      selectedProgramStageOption: selectedProgramStageOption,\n      programStageDataElements: programStageDataElements,\n      onCancel: onCancel\n    });\n  });\n};\nFormEventRegistrationParser.propTypes = {\n  commandId: PropTypes.string.isRequired,\n  onAfterChange: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { Button, Field as UiField, InputFieldFF, ReactFinalForm, hasValue } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nimport styles from './FieldSpecialCharacter.module.css';\nconst {\n  Field,\n  useForm\n} = ReactFinalForm;\nexport const FIELD_SPECIAL_CHARS_NAME = 'specialCharacters';\nexport const FieldSpecialCharacter = ({\n  index,\n  onSpecialKeyRemoved\n}) => {\n  const {\n    change,\n    getState\n  } = useForm();\n\n  const removeSpecialKeyFieldsFromFormState = () => {\n    const specialChars = getState().values[FIELD_SPECIAL_CHARS_NAME];\n    const newSpecialChars = [...specialChars.slice(0, index), ...specialChars.slice(index + 1)];\n    change(FIELD_SPECIAL_CHARS_NAME, newSpecialChars);\n    onSpecialKeyRemoved();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(Field, {\n    required: true,\n    className: styles.field,\n    dataTest: dataTest('smscommand-fieldspecialcharacter-name'),\n    label: i18n.t('Special character name'),\n    name: `${FIELD_SPECIAL_CHARS_NAME}[${index}].name`,\n    component: InputFieldFF,\n    validate: hasValue\n  }), /*#__PURE__*/React.createElement(Field, {\n    required: true,\n    className: styles.field,\n    dataTest: dataTest('smscommand-fieldspecialcharacter-value'),\n    label: i18n.t('Special character value'),\n    name: `${FIELD_SPECIAL_CHARS_NAME}[${index}].value`,\n    component: InputFieldFF,\n    validate: hasValue\n  }), /*#__PURE__*/React.createElement(UiField, {\n    label: \"\\xA0\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: styles.button,\n    onClick: removeSpecialKeyFieldsFromFormState,\n    dataTest: dataTest('smscommand-fieldspecialcharacter-remove')\n  }, i18n.t('Remove'))));\n};\nFieldSpecialCharacter.propTypes = {\n  index: PropTypes.number.isRequired,\n  onSpecialKeyRemoved: PropTypes.func.isRequired\n};","import { Button, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { FormRow, dataTest } from '../../shared/index.js';\nimport { FIELD_SPECIAL_CHARS_NAME } from '../FieldSpecialCharacter/index.js';\nconst {\n  useForm\n} = ReactFinalForm;\nexport const AddSpecialCharacters = () => {\n  const {\n    change,\n    getState\n  } = useForm();\n\n  const addSpecialKeyFieldsToFormState = () => {\n    const specialChars = getState().values[FIELD_SPECIAL_CHARS_NAME];\n    const newSpecialChars = [...specialChars, {\n      name: '',\n      value: ''\n    }];\n    change(FIELD_SPECIAL_CHARS_NAME, newSpecialChars);\n  };\n\n  return /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Button, {\n    onClick: addSpecialKeyFieldsToFormState,\n    dataTest: dataTest('smscommand-addspecialcharacter')\n  }, i18n.t('Add special character')));\n};","import { PropTypes } from '@dhis2/prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nimport styles from './CurrentFormula.module.css';\nexport const CurrentFormula = ({\n  code,\n  formula,\n  formulaDataElementName,\n  loading,\n  operator\n}) => {\n  if (!code || !formula || !formulaDataElementName || !operator) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.formulaInWords,\n    \"data-test\": dataTest('smscommand-fielddataelementwithcategoryoptioncombo-currentformula')\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.formulaInWordsLabel\n  }, i18n.t('Formula'), \":\"), loading && i18n.t('Loading formula'), !loading && `${code} ${operator} ${formulaDataElementName}`);\n};\nCurrentFormula.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  code: PropTypes.string,\n  formula: PropTypes.string,\n  formulaDataElementName: PropTypes.string,\n  operator: PropTypes.string\n};","import { useDataEngine } from '@dhis2/app-runtime';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Button, ReactFinalForm } from '@dhis2/ui';\nimport React, { useEffect, useState } from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nimport { CurrentFormula } from './CurrentFormula.js';\nconst {\n  useField\n} = ReactFinalForm;\nconst DATA_ELEMENTS_QUERY = {\n  dataElement: {\n    resource: 'dataElements',\n    id: ({\n      id\n    }) => id,\n    params: () => ({\n      fields: 'displayName'\n    })\n  }\n};\nexport const AddFormulaButton = ({\n  baseName,\n  onClick,\n  disabled\n}) => {\n  const engine = useDataEngine();\n  const [loading, setLoading] = useState(false);\n  const [formulaDataElementName, setFormulaDataElementName] = useState('');\n  const smsCode = useField(baseName, {\n    subscription: {\n      value: true\n    }\n  }).input.value;\n  const {\n    formula,\n    code\n  } = smsCode;\n  const operator = formula && formula[0];\n  const dataElementId = formula && formula.slice(1);\n  useEffect(() => {\n    if (dataElementId) {\n      setLoading(true);\n      engine.query(DATA_ELEMENTS_QUERY, {\n        variables: {\n          id: dataElementId\n        }\n      }).then(response => {\n        const {\n          displayName\n        } = response.dataElement;\n        setFormulaDataElementName(displayName);\n      }).finally(() => setLoading(false));\n    }\n  }, [dataElementId]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CurrentFormula, {\n    code: code,\n    formula: formula,\n    formulaDataElementName: formulaDataElementName,\n    loading: loading,\n    operator: operator\n  }), /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    onClick: onClick,\n    disabled: disabled,\n    dataTest: dataTest('smscommand-fielddataelementwithcategoryoptioncombo-addformulabutton')\n  }, formula ? i18n.t('Edit formula') : i18n.t('Add formula')));\n};\nAddFormulaButton.propTypes = {\n  baseName: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool\n};","import { useDataEngine } from '@dhis2/app-runtime';\nimport { useEffect, useState } from 'react';\nexport const DATA_ELEMENTS_QUERY = {\n  dataSet: {\n    resource: 'dataSets',\n    id: ({\n      id\n    }) => id,\n    params: ({\n      filter\n    }) => ({\n      filter,\n      fields: 'dataSetElements[dataElement[id,code,displayName]]'\n    })\n  }\n};\nexport const queryDataElementsOfDataSet = (engine, variables) => engine.query(DATA_ELEMENTS_QUERY, {\n  variables\n}).then(data => {\n  const {\n    dataSet\n  } = data;\n  const {\n    dataSetElements\n  } = dataSet;\n  const formatted = dataSetElements.map(({\n    dataElement\n  }) => dataElement);\n  formatted.sort((left, right) => {\n    const leftDisplayName = left.displayName;\n    const rightDisplayName = right.displayName;\n\n    if (leftDisplayName === rightDisplayName) {\n      return 0;\n    }\n\n    if (leftDisplayName < rightDisplayName) {\n      return -1;\n    }\n\n    return 1;\n  });\n  return formatted;\n});\nexport const useReadDataElementsOfDataSetQuery = (dataSetId, filter) => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [data, setData] = useState(null);\n  const engine = useDataEngine();\n\n  const refetch = variables => {\n    setLoading(true);\n    setError(null);\n    return queryDataElementsOfDataSet(engine, variables).then(setData).catch(setError).finally(() => setLoading(false));\n  }; // initial request\n\n\n  useEffect(() => {\n    refetch({\n      id: dataSetId,\n      filter\n    });\n  }, []);\n  return {\n    loading,\n    error,\n    data,\n    refetch\n  };\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { Button, ButtonStrip, CircularLoader, Modal, ModalActions, ModalContent, ModalTitle, NoticeBox, ReactFinalForm, SingleSelectFieldFF, hasValue } from '@dhis2/ui';\nimport React, { useMemo } from 'react';\nimport i18n from '../../locales/index.js';\nimport { FormRow, dataTest } from '../../shared/index.js';\nimport { FIELD_DATA_SET_NAME } from '../FieldDataSet/index.js';\nimport { useReadDataElementsOfDataSetQuery } from './useReadDataElementsOfDataSetQuery.js';\nconst {\n  Field,\n  Form,\n  useForm,\n  useField\n} = ReactFinalForm;\nexport const FormulaModalForm = ({\n  baseName,\n  combo,\n  targetFieldName,\n  onClose\n}) => {\n  const form = useForm();\n  const smsCode = useField(baseName, {\n    subscription: {\n      value: true\n    }\n  }).input.value;\n  const dataSetId = useField(FIELD_DATA_SET_NAME, {\n    subscription: {\n      value: true\n    }\n  }).input.value.id;\n  const {\n    loading,\n    error,\n    data\n  } = useReadDataElementsOfDataSetQuery(dataSetId); // Using memo so changing the form does not change the \"initialValues\"\n  // which would cause the form to update unnecessarily\n\n  const initialFormula = smsCode.formula;\n  const initialOperator = useMemo(() => initialFormula ? initialFormula[0] : '+', []);\n  const initialDataElementCode = useMemo(() => initialFormula ? initialFormula.slice(1) : '', []);\n  const initialValues = {\n    operator: initialOperator,\n    dataElementCode: initialDataElementCode\n  };\n  const modalDataTest = dataTest('smscommand-fielddataelementwithcategoryoptioncombo-formulamodalform');\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(Modal, {\n      dataTest: modalDataTest\n    }, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n\n  const options = data.map(dataElement => {\n    const {\n      id,\n      displayName\n    } = dataElement;\n    return {\n      value: id,\n      label: displayName\n    };\n  });\n\n  const onSubmit = values => {\n    const newFormula = `${values.operator}${values.dataElementCode}`;\n    form.change(targetFieldName, newFormula);\n    onClose();\n  };\n\n  const onRemove = () => {\n    form.change(targetFieldName, null);\n    onClose();\n  };\n\n  return /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    initialValues: initialValues\n  }, ({\n    handleSubmit\n  }) => /*#__PURE__*/React.createElement(Modal, {\n    dataTest: modalDataTest\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: event => {\n      event.stopPropagation();\n      handleSubmit(event);\n    }\n  }, /*#__PURE__*/React.createElement(ModalTitle, null, i18n.t('Formula for {{combo}}', {\n    combo\n  })), /*#__PURE__*/React.createElement(ModalContent, null, /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n    required: true,\n    dataTest: dataTest('smscommand-fielddataelementwithcategoryoptioncomboformula-dataelement'),\n    name: \"dataElementCode\",\n    label: i18n.t('Data element'),\n    component: SingleSelectFieldFF,\n    options: options,\n    validate: hasValue\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(Field, {\n    required: true,\n    dataTest: dataTest('smscommand-fielddataelementwithcategoryoptioncomboformula-operator'),\n    name: \"operator\",\n    label: i18n.t('formula operator'),\n    component: SingleSelectFieldFF,\n    initialValue: \"+\",\n    options: [{\n      value: '+',\n      label: '+'\n    }, {\n      value: '-',\n      label: '-'\n    }]\n  })), error && /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(NoticeBox, {\n    error: true,\n    title: i18n.t('Something went wrong whilst saving')\n  }, error.message))), /*#__PURE__*/React.createElement(ModalActions, null, /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    onClick: onRemove,\n    dataTest: dataTest('smscommand-fielddataelementwithcategoryoptioncomboformula-remove')\n  }, i18n.t('Remove')), /*#__PURE__*/React.createElement(Button, {\n    onClick: onClose,\n    dataTest: dataTest('smscommand-fielddataelementwithcategoryoptioncomboformula-cancel')\n  }, i18n.t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    primary: true,\n    dataTest: dataTest('smscommand-fielddataelementwithcategoryoptioncomboformula-save')\n  }, i18n.t('Save')))))));\n};\nFormulaModalForm.propTypes = {\n  baseName: PropTypes.string.isRequired,\n  combo: PropTypes.string.isRequired,\n  targetFieldName: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired\n};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport { PropTypes } from '@dhis2/prop-types';\nimport { InputFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nimport { FIELD_SMS_CODES_NAME } from '../FieldSmsCode/index.js';\nimport { AddFormulaButton } from './AddFormulaButton.js';\nimport styles from './FieldDataElementWithCategoryOptionCombo.module.css';\nimport { FormulaModalForm } from './FormulaModalForm.js';\n\nconst DE_COC_toFormName = (dataElement, categoryOptionCombo) => {\n  const dataElementId = dataElement.id;\n  const cocCode = categoryOptionCombo === null || categoryOptionCombo === void 0 ? void 0 : categoryOptionCombo.id;\n  const isDefault = cocCode === 'default';\n\n  if (!cocCode || isDefault) {\n    return `${FIELD_SMS_CODES_NAME}.${dataElementId}`;\n  }\n\n  return `${FIELD_SMS_CODES_NAME}.${dataElementId}-${cocCode}`;\n};\n\nconst {\n  Field\n} = ReactFinalForm;\nexport const FieldDataElementWithCategoryOptionCombo = ({\n  dataElement,\n  categoryOptionCombo\n}) => {\n  const [showFormula, setShowFormula] = useState(false);\n  const label = categoryOptionCombo ? `${dataElement.displayName} ${categoryOptionCombo.displayName}` : `${dataElement.displayName} ${i18n.t('default')}`;\n  const baseName = DE_COC_toFormName(dataElement, categoryOptionCombo);\n  const name = `${baseName}.code`;\n  const formulaName = `${baseName}.formula`;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    \"data-test\": dataTest('smscommand-fielddataelementwithcategoryoptioncombo')\n  }, /*#__PURE__*/React.createElement(Field, {\n    className: styles.field,\n    label: label,\n    name: name,\n    subscription: {\n      value: true,\n      error: true,\n      invalid: true,\n      touched: true\n    }\n  }, ({\n    input,\n    meta,\n    ...rest\n  }) => {\n    const code = input.value;\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(InputFieldFF, _extends({}, rest, {\n      className: styles.codeField,\n      input: input,\n      meta: meta,\n      error: !!meta.error\n    })), /*#__PURE__*/React.createElement(AddFormulaButton, {\n      disabled: !code,\n      baseName: baseName,\n      formulaFieldName: formulaName,\n      onClick: () => setShowFormula(true)\n    }), showFormula && /*#__PURE__*/React.createElement(FormulaModalForm, {\n      baseName: baseName,\n      combo: label,\n      targetFieldName: formulaName,\n      onClose: () => setShowFormula(false)\n    }));\n  }));\n};\nFieldDataElementWithCategoryOptionCombo.defaultProps = {\n  categoryOptionCombo: null,\n  formula: ''\n};\nFieldDataElementWithCategoryOptionCombo.propTypes = {\n  dataElement: PropTypes.shape({\n    displayName: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired\n  }).isRequired,\n  categoryOptionCombo: PropTypes.shape({\n    displayName: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired\n  })\n};","import i18n from '../../locales/index.js';\nconst ALL_DATAVALUE = {\n  value: 'ALL_DATAVALUE',\n  label: i18n.t('Receive all data values')\n};\nconst AT_LEAST_ONE_DATAVALUE = {\n  value: 'AT_LEAST_ONE_DATAVALUE',\n  label: i18n.t('Receive at least one data value')\n};\nconst DO_NOT_MARK_COMPLETE = {\n  value: 'DO_NOT_MARK_COMPLETE',\n  label: i18n.t('Do not mark as complete')\n};\nexport const completenessMethods = {\n  ALL_DATAVALUE,\n  AT_LEAST_ONE_DATAVALUE,\n  DO_NOT_MARK_COMPLETE\n};","import { SingleSelectFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/utils/index.js';\nimport { completenessMethods } from './completenessMethods.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst options = Object.values(completenessMethods);\nexport const FIELD_COMPLETENESS_METHOD_NAME = 'completenessMethod';\nexport const FieldCompletenessMethod = () => /*#__PURE__*/React.createElement(Field, {\n  dataTest: dataTest('smscommand-fieldcompletenessmethod'),\n  name: FIELD_COMPLETENESS_METHOD_NAME,\n  label: i18n.t('Completeness method'),\n  component: SingleSelectFieldFF,\n  options: options\n});","import { NoticeBox, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { FormRow } from '../../shared/index.js';\nimport { FIELD_COMPLETENESS_METHOD_NAME, completenessMethods } from '../FieldCompletenessMethod/index.js';\nconst {\n  ALL_DATAVALUE,\n  AT_LEAST_ONE_DATAVALUE\n} = completenessMethods;\nconst {\n  useField\n} = ReactFinalForm;\nexport const CompletenessMessage = () => {\n  const {\n    input\n  } = useField(FIELD_COMPLETENESS_METHOD_NAME, {\n    subscription: {\n      value: true\n    }\n  });\n  const completenessMethod = input.value;\n  const title = i18n.t('Required values notice');\n\n  if (completenessMethod === ALL_DATAVALUE.value) {\n    return /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(NoticeBox, {\n      warning: true,\n      title: title\n    }, i18n.t(`Make sure all SMS short codes are provided when completeness method \"${ALL_DATAVALUE.label}\" is chosen, otherwise received messages will not be processed.`)));\n  }\n\n  if (completenessMethod === AT_LEAST_ONE_DATAVALUE.value) {\n    return /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(NoticeBox, {\n      warning: true,\n      title: title\n    }, i18n.t(`Make sure at least one SMS short code is provided when completeness method \"{{atLeastOneDataValueLabel}}\" is chosen, otherwise received messages will not be processed.`, {\n      atLeastOneDataValueLabel: AT_LEAST_ONE_DATAVALUE.label\n    })));\n  }\n\n  return null;\n};","import { PropTypes } from '@dhis2/prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { FormRow, PageSubHeadline, dataTest } from '../../shared/index.js';\nimport { FieldDataElementWithCategoryOptionCombo } from '../FieldDataElementWithCategoryOptionCombo/index.js';\nimport { CompletenessMessage } from './CompletenessMessage.js';\nimport styles from './DataElementTimesCategoryOptionCombos.module.css';\nexport const DataElementTimesCategoryOptionCombos = ({\n  DE_COC_combinations\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  \"data-test\": dataTest('smscommand-dataelementtimescategoryoptioncombos')\n}, /*#__PURE__*/React.createElement(PageSubHeadline, null, i18n.t('SMS short codes')), /*#__PURE__*/React.createElement(CompletenessMessage, null), /*#__PURE__*/React.createElement(\"div\", {\n  \"data-test\": dataTest('smscommand-dataelementtimescategoryoptioncombos-rows')\n}, DE_COC_combinations.map(({\n  dataElement,\n  categoryOptionCombo\n}) => {\n  return /*#__PURE__*/React.createElement(FormRow, {\n    className: styles.formRow,\n    key: dataElement.id + (categoryOptionCombo === null || categoryOptionCombo === void 0 ? void 0 : categoryOptionCombo.id)\n  }, /*#__PURE__*/React.createElement(FieldDataElementWithCategoryOptionCombo, {\n    dataElement: dataElement,\n    categoryOptionCombo: categoryOptionCombo\n  }));\n})));\nDataElementTimesCategoryOptionCombos.defaultProps = {\n  allRequired: false\n};\nDataElementTimesCategoryOptionCombos.propTypes = {\n  DE_COC_combinations: PropTypes.arrayOf(PropTypes.shape({\n    dataElement: PropTypes.shape({\n      displayName: PropTypes.string.isRequired,\n      id: PropTypes.string.isRequired\n    }).isRequired,\n    categoryOptionCombo: PropTypes.shape({\n      displayName: PropTypes.string.isRequired,\n      id: PropTypes.string.isRequired\n    })\n  })).isRequired\n};","import { CheckboxFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FIELD_USE_CURRENT_PERIOD_FOR_REPORTING_NAME = 'currentPeriodUsedForReporting';\nexport const FieldUseCurrentPeriodForReporting = () => /*#__PURE__*/React.createElement(Field, {\n  type: \"checkbox\",\n  dataTest: dataTest('smscommand-fieldusecurrentperiodforreporting'),\n  name: FIELD_USE_CURRENT_PERIOD_FOR_REPORTING_NAME,\n  label: i18n.t('Use current period for reporting'),\n  component: CheckboxFieldFF\n});","import { PropTypes } from '@dhis2/prop-types';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport i18n from '../../locales/index.js';\nimport { FormRow, PageSubHeadline, dataTest } from '../../shared/index.js';\nimport { AddSpecialCharacters } from '../AddSpecialCharacters/index.js';\nimport { DataElementTimesCategoryOptionCombos } from '../DataElementTimesCategoryOptionCombos/index.js';\nimport { FieldCommandName } from '../FieldCommandName/index.js';\nimport { FieldCompletenessMethod } from '../FieldCompletenessMethod/index.js';\nimport { FieldDataSet } from '../FieldDataSet/index.js';\nimport { FieldDefaultMessage } from '../FieldDefaultMessage/index.js';\nimport { FieldMoreThanOneOrgUnitMessage } from '../FieldMoreThanOneOrgUnitMessage/index.js';\nimport { FieldNoUserMessage } from '../FieldNoUserMessage/index.js';\nimport { FieldParser } from '../FieldParser/index.js';\nimport { FieldSeparator } from '../FieldSeparator/index.js';\nimport { FIELD_SPECIAL_CHARS_NAME, FieldSpecialCharacter } from '../FieldSpecialCharacter/index.js';\nimport { FieldSuccessMessage } from '../FieldSuccessMessage/index.js';\nimport { FieldUseCurrentPeriodForReporting } from '../FieldUseCurrentPeriodForReporting/index.js';\nimport { FieldWrongFormatMessage } from '../FieldWrongFormatMessage/index.js';\nimport { FormActions } from '../FormActions/index.js';\nimport { SubmitErrors } from '../SubmitErrors/index.js';\nconst {\n  FormSpy\n} = ReactFinalForm;\nexport const Form = ({\n  DE_COC_combination_data,\n  handleSubmit,\n  hasSpecialChars,\n  onCancel,\n  pristine,\n  selectedDataSetOption\n}) => {\n  const [specialKeyRemoved, setSpecialKeyRemoved] = useState(false);\n\n  const onSpecialKeyRemoved = () => setSpecialKeyRemoved(true);\n\n  const enableSubmit = specialKeyRemoved && hasSpecialChars;\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    \"data-test\": dataTest('smscommand-formj2meparser-form')\n  }, /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldCommandName, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldParser, {\n    disabled: true\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldDataSet, {\n    disabled: true,\n    dataSets: [selectedDataSetOption]\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldCompletenessMethod, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldUseCurrentPeriodForReporting, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldSeparator, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldDefaultMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldWrongFormatMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldNoUserMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldMoreThanOneOrgUnitMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldSuccessMessage, null)), DE_COC_combination_data && /*#__PURE__*/React.createElement(DataElementTimesCategoryOptionCombos, {\n    DE_COC_combinations: DE_COC_combination_data\n  }), /*#__PURE__*/React.createElement(PageSubHeadline, null, i18n.t('Special characters')), /*#__PURE__*/React.createElement(FormSpy, {\n    subscription: {\n      values: true\n    }\n  }, ({\n    values\n  }) => /*#__PURE__*/React.createElement(React.Fragment, null, values[FIELD_SPECIAL_CHARS_NAME].map((_, index) => /*#__PURE__*/React.createElement(FormRow, {\n    key: index\n  }, /*#__PURE__*/React.createElement(FieldSpecialCharacter, {\n    index: index,\n    onSpecialKeyRemoved: onSpecialKeyRemoved\n  }))))), /*#__PURE__*/React.createElement(AddSpecialCharacters, null), /*#__PURE__*/React.createElement(SubmitErrors, null), /*#__PURE__*/React.createElement(FormActions, {\n    enableSubmit: enableSubmit,\n    onCancel: () => onCancel(pristine)\n  }));\n};\nForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  hasSpecialChars: PropTypes.bool.isRequired,\n  pristine: PropTypes.bool.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  DE_COC_combination_data: PropTypes.arrayOf(PropTypes.shape({\n    dataElement: PropTypes.shape({\n      displayName: PropTypes.string.isRequired,\n      id: PropTypes.string.isRequired\n    }).isRequired,\n    categoryOptionCombo: PropTypes.shape({\n      displayName: PropTypes.string.isRequired,\n      id: PropTypes.string.isRequired\n    })\n  })),\n  selectedDataSetOption: PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired\n  })\n};","import { FIELD_COMMAND_NAME } from '../FieldCommandName/index.js';\nimport { FIELD_COMPLETENESS_METHOD_NAME, completenessMethods } from '../FieldCompletenessMethod/index.js';\nimport { FIELD_DATA_SET_NAME } from '../FieldDataSet/index.js';\nimport { FIELD_DEFAULT_MESSAGE_NAME } from '../FieldDefaultMessage/index.js';\nimport { FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME } from '../FieldMoreThanOneOrgUnitMessage/index.js';\nimport { FIELD_NO_USER_MESSAGE_NAME } from '../FieldNoUserMessage/index.js';\nimport { FIELD_PARSER_NAME, parserTypes } from '../FieldParser/index.js';\nimport { FIELD_SEPARATOR_NAME } from '../FieldSeparator/index.js';\nimport { FIELD_SMS_CODES_NAME } from '../FieldSmsCode/index.js';\nimport { FIELD_SPECIAL_CHARS_NAME } from '../FieldSpecialCharacter/index.js';\nimport { FIELD_SUCCESS_MESSAGE_NAME } from '../FieldSuccessMessage/index.js';\nimport { FIELD_USE_CURRENT_PERIOD_FOR_REPORTING_NAME } from '../FieldUseCurrentPeriodForReporting/index.js';\nimport { FIELD_WRONG_FORMAT_MESSAGE_NAME } from '../FieldWrongFormatMessage/index.js';\nconst {\n  AT_LEAST_ONE_DATAVALUE\n} = completenessMethods;\nconst {\n  J2ME_PARSER\n} = parserTypes;\nexport const getInitialFormState = command => {\n  const name = command[FIELD_COMMAND_NAME];\n  const parserType = J2ME_PARSER.value;\n  const dataSetId = {\n    id: command[FIELD_DATA_SET_NAME].id\n  };\n  const separator = command[FIELD_SEPARATOR_NAME];\n  const completenessMethod = AT_LEAST_ONE_DATAVALUE.value;\n  const useCurrentPeriodForReporting = command[FIELD_USE_CURRENT_PERIOD_FOR_REPORTING_NAME];\n  const defaultMessage = command[FIELD_DEFAULT_MESSAGE_NAME];\n  const wrongFormatMessage = command[FIELD_WRONG_FORMAT_MESSAGE_NAME];\n  const noUserMessage = command[FIELD_NO_USER_MESSAGE_NAME];\n  const moreThanOneOrgUnitMessage = command[FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME];\n  const successMessage = command[FIELD_SUCCESS_MESSAGE_NAME];\n  const smsCodes = command[FIELD_SMS_CODES_NAME].reduce((acc, payload) => {\n    const {\n      code,\n      compulsory,\n      formula,\n      optionId: optionIdWrapper,\n      dataElement\n    } = payload;\n    const {\n      id: optionId\n    } = optionIdWrapper;\n    const key = optionId < 10 ? dataElement.id : `${dataElement.id}-${optionId}`;\n    const smsCode = {\n      code,\n      compulsory,\n      optionId\n    };\n\n    if (formula) {\n      smsCode.formula = formula;\n    }\n\n    return { ...acc,\n      [key]: smsCode\n    };\n  }, {});\n  const specialCharacters = command[FIELD_SPECIAL_CHARS_NAME] || [];\n  return {\n    [FIELD_COMMAND_NAME]: name,\n    [FIELD_PARSER_NAME]: parserType,\n    [FIELD_DATA_SET_NAME]: dataSetId,\n    [FIELD_SEPARATOR_NAME]: separator,\n    [FIELD_COMPLETENESS_METHOD_NAME]: completenessMethod,\n    [FIELD_USE_CURRENT_PERIOD_FOR_REPORTING_NAME]: useCurrentPeriodForReporting,\n    [FIELD_DEFAULT_MESSAGE_NAME]: defaultMessage,\n    [FIELD_WRONG_FORMAT_MESSAGE_NAME]: wrongFormatMessage,\n    [FIELD_NO_USER_MESSAGE_NAME]: noUserMessage,\n    [FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME]: moreThanOneOrgUnitMessage,\n    [FIELD_SUCCESS_MESSAGE_NAME]: successMessage,\n    smsCodes,\n    specialCharacters\n  };\n};","export const getSmsCodeDuplicates = smsCodes => {\n  const duplicates = smsCodes.reduce((curDuplicates, smsCode, index) => {\n    const [name, code] = smsCode;\n    const errorAlreadyPresent = curDuplicates.includes(name);\n\n    if (errorAlreadyPresent) {\n      return curDuplicates;\n    }\n\n    const potentialDuplicates = smsCodes.filter( // eslint-disable-next-line no-unused-vars\n    ([_, curCode], curIndex) => {\n      return curCode.code === code.code && curIndex !== index;\n    });\n    const noDuplicates = !potentialDuplicates.length;\n\n    if (noDuplicates) {\n      return curDuplicates;\n    }\n\n    const newlyFoundDuplicates = potentialDuplicates.reduce((curWithCodeDuplicates, [curName]) => {\n      return [...curWithCodeDuplicates, curName];\n    }, [name]);\n    return [...curDuplicates, ...newlyFoundDuplicates];\n  }, []);\n  return duplicates;\n};","import i18n from '../../locales/index.js';\nimport { FIELD_SMS_CODES_NAME } from '../FieldSmsCode/index.js';\nimport { getSmsCodeDuplicates } from '../getSmsCodeDuplicates/index.js';\nexport const globalValidate = values => {\n  let hasErrors = false;\n  const errors = {};\n  const smsCodesFormState = values[FIELD_SMS_CODES_NAME];\n  const smsCodes = smsCodesFormState ? Object.entries(smsCodesFormState) : [];\n  const smsCodesWithValue = smsCodes.filter(([_, {\n    code\n  }]) => code); //eslint-disable-line no-unused-vars\n\n  if (smsCodesWithValue.length) {\n    const duplicates = getSmsCodeDuplicates(smsCodesWithValue);\n\n    if (duplicates.length) {\n      hasErrors = true;\n      const duplicateErrors = {};\n      duplicates.forEach(duplicate => {\n        duplicateErrors[duplicate] = {\n          code: i18n.t('Duplicate value!')\n        };\n      });\n      errors[FIELD_SMS_CODES_NAME] = errors[FIELD_SMS_CODES_NAME] || {};\n      Object.assign(errors[FIELD_SMS_CODES_NAME], duplicateErrors);\n    }\n  }\n\n  return hasErrors ? errors : undefined;\n};","import { useDataEngine } from '@dhis2/app-runtime';\nimport { useEffect, useState } from 'react'; // @TODO(non-critical):\n//   The response for key value parser\n//   does contain the information for \"Data element category combination\".\n//   But it does not contain the id of the category option combo,\n//   only the data element and a code.\n\nexport const READ_SMS_COMMAND_KEY_VALUE_PARSER_QUERY = {\n  smsCommand: {\n    resource: 'smsCommands',\n    id: ({\n      id\n    }) => id,\n    params: () => ({\n      fields: ['*', `dataset[id,displayName,dataSetElements[dataElement[id,displayName,categoryCombo[categoryOptionCombos[*,id,displayName]]]]]`]\n    })\n  }\n};\nexport const useCommandData = id => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [data, setData] = useState(null);\n  const engine = useDataEngine();\n\n  const refetch = variables => {\n    setLoading(true);\n    setError(null);\n    return engine.query(READ_SMS_COMMAND_KEY_VALUE_PARSER_QUERY, {\n      variables\n    }).then(response => {\n      response.smsCommand.dataset.dataSetElements.sort((left, right) => {\n        const leftDisplayName = left.dataElement.displayName;\n        const rightDisplayName = right.dataElement.displayName;\n\n        if (leftDisplayName === rightDisplayName) {\n          return 0;\n        }\n\n        if (leftDisplayName < rightDisplayName) {\n          return -1;\n        }\n\n        return 1;\n      });\n      setData(response);\n    }).catch(setError).finally(() => setLoading(false));\n  }; // initial request\n\n\n  useEffect(() => {\n    refetch({\n      id\n    });\n  }, []);\n  return {\n    loading,\n    error,\n    data,\n    refetch\n  };\n};","import { useDataEngine } from '@dhis2/app-runtime';\nimport { useSubmit } from '../../shared/index.js';\nimport { FIELD_COMMAND_NAME } from '../FieldCommandName/index.js';\nimport { FIELD_COMPLETENESS_METHOD_NAME } from '../FieldCompletenessMethod/index.js';\nimport { FIELD_DATA_SET_NAME } from '../FieldDataSet/index.js';\nimport { FIELD_DEFAULT_MESSAGE_NAME } from '../FieldDefaultMessage/index.js';\nimport { FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME } from '../FieldMoreThanOneOrgUnitMessage/index.js';\nimport { FIELD_NO_USER_MESSAGE_NAME } from '../FieldNoUserMessage/index.js';\nimport { FIELD_PARSER_NAME } from '../FieldParser/index.js';\nimport { FIELD_SEPARATOR_NAME } from '../FieldSeparator/index.js';\nimport { FIELD_SMS_CODES_NAME } from '../FieldSmsCode/index.js';\nimport { FIELD_SPECIAL_CHARS_NAME } from '../FieldSpecialCharacter/index.js';\nimport { FIELD_SUCCESS_MESSAGE_NAME } from '../FieldSuccessMessage/index.js';\nimport { FIELD_USE_CURRENT_PERIOD_FOR_REPORTING_NAME } from '../FieldUseCurrentPeriodForReporting/index.js';\nimport { FIELD_WRONG_FORMAT_MESSAGE_NAME } from '../FieldWrongFormatMessage/index.js';\nconst updateJ2meParserMutation = {\n  resource: 'smsCommands',\n  type: 'update',\n  id: ({\n    id\n  }) => id,\n  data: command => {\n    const name = command[FIELD_COMMAND_NAME];\n    const parserType = command[FIELD_PARSER_NAME];\n    const dataSetId = {\n      id: command[FIELD_DATA_SET_NAME].id\n    };\n    const separator = command[FIELD_SEPARATOR_NAME];\n    const completenessMethod = command[FIELD_COMPLETENESS_METHOD_NAME];\n    const useCurrentPeriodForReporting = command[FIELD_USE_CURRENT_PERIOD_FOR_REPORTING_NAME];\n    const defaultMessage = command[FIELD_DEFAULT_MESSAGE_NAME];\n    const wrongFormatMessage = command[FIELD_WRONG_FORMAT_MESSAGE_NAME];\n    const noUserMessage = command[FIELD_NO_USER_MESSAGE_NAME];\n    const moreThanOneOrgUnitMessage = command[FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME];\n    const successMessage = command[FIELD_SUCCESS_MESSAGE_NAME];\n    const specialCharacters = command[FIELD_SPECIAL_CHARS_NAME] || [];\n    const smsCodes = Object.values(command[FIELD_SMS_CODES_NAME]).map(({\n      code: codeWrapper,\n      compulsory,\n      optionId,\n      dataElement\n    }) => {\n      const {\n        code,\n        formula\n      } = codeWrapper;\n      const formattedSmsCode = {\n        code,\n        compulsory: !!compulsory,\n        dataElement\n      };\n\n      if (formula) {\n        formattedSmsCode.formula = formula;\n      }\n\n      if (optionId) {\n        formattedSmsCode.optionId = optionId;\n      }\n\n      return formattedSmsCode;\n    });\n    return {\n      [FIELD_COMMAND_NAME]: name,\n      [FIELD_PARSER_NAME]: parserType,\n      [FIELD_DATA_SET_NAME]: dataSetId,\n      [FIELD_SEPARATOR_NAME]: separator,\n      [FIELD_COMPLETENESS_METHOD_NAME]: completenessMethod,\n      [FIELD_USE_CURRENT_PERIOD_FOR_REPORTING_NAME]: useCurrentPeriodForReporting,\n      [FIELD_DEFAULT_MESSAGE_NAME]: defaultMessage,\n      [FIELD_WRONG_FORMAT_MESSAGE_NAME]: wrongFormatMessage,\n      [FIELD_NO_USER_MESSAGE_NAME]: noUserMessage,\n      [FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME]: moreThanOneOrgUnitMessage,\n      [FIELD_SUCCESS_MESSAGE_NAME]: successMessage,\n      [FIELD_SPECIAL_CHARS_NAME]: specialCharacters,\n      [FIELD_SMS_CODES_NAME]: smsCodes\n    };\n  }\n};\nexport const useUpdateCommandMutation = ({\n  id,\n  onAfterChange\n}) => {\n  const engine = useDataEngine();\n\n  const onSubmit = values => {\n    const variables = { ...values,\n      id,\n      smsCodes: !values.smsCodes || !Object.values(values.smsCodes).length ? [] : Object.entries(values.smsCodes).map(([key, value]) => {\n        const [dataElementId, categoryOptionComboId] = key.split('-');\n        return { ...(categoryOptionComboId ? {\n            optionId: {\n              id: categoryOptionComboId\n            }\n          } : {}),\n          code: value,\n          dataElement: {\n            id: dataElementId\n          }\n        };\n      })\n    };\n    return engine.mutate(updateJ2meParserMutation, {\n      variables\n    }).then(onAfterChange);\n  };\n\n  return useSubmit(onSubmit);\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { CenteredContent, CircularLoader, NoticeBox, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { FIELD_DATA_SET_NAME } from '../FieldDataSet/index.js';\nimport { FIELD_SPECIAL_CHARS_NAME } from '../FieldSpecialCharacter/index.js';\nimport { Form as FormComponent } from './Form.js';\nimport { getInitialFormState } from './getInitialFormState.js';\nimport { globalValidate } from './globalValidate.js';\nimport { useCommandData } from './useCommandData.js';\nimport { useUpdateCommandMutation } from './useUpdateCommandMutation.js';\nconst {\n  Form\n} = ReactFinalForm;\nexport const FormJ2meParser = ({\n  commandId,\n  onAfterChange,\n  onCancel\n}) => {\n  const {\n    error: loadingCommandError,\n    data: commandData\n  } = useCommandData(commandId);\n  const command = commandData === null || commandData === void 0 ? void 0 : commandData.smsCommand;\n  const updateCommand = useUpdateCommandMutation({\n    id: commandId,\n    onAfterChange\n  });\n\n  if (loadingCommandError) {\n    const msg = i18n.t(\"Something went wrong whilst loading the command's details\");\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: msg\n    }, loadingCommandError.message);\n  }\n\n  if (!command) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n\n  const selectedDataSetOption = {\n    value: command[FIELD_DATA_SET_NAME].id,\n    label: command[FIELD_DATA_SET_NAME].displayName\n  };\n  const initialValues = getInitialFormState(command);\n  const DE_COC_combination_data = command.dataset.dataSetElements.reduce((curCombinations, {\n    dataElement\n  }) => {\n    var _dataElement$category;\n\n    const categoryOptionCombo = (_dataElement$category = dataElement.categoryCombo) === null || _dataElement$category === void 0 ? void 0 : _dataElement$category.categoryOptionCombos;\n\n    if (!categoryOptionCombo) {\n      return [...curCombinations, {\n        dataElement\n      }];\n    }\n\n    const combos = categoryOptionCombo.map(COC => ({\n      dataElement,\n      categoryOptionCombo: COC\n    }));\n    return [...curCombinations, ...combos];\n  }, []);\n  const specialChars = initialValues[FIELD_SPECIAL_CHARS_NAME];\n  const hasSpecialChars = !!(specialChars !== null && specialChars !== void 0 && specialChars.length);\n  return /*#__PURE__*/React.createElement(Form, {\n    keepDirtyOnReinitialize: true,\n    onSubmit: updateCommand,\n    initialValues: initialValues,\n    validate: globalValidate,\n    subscription: {\n      pristine: true\n    }\n  }, ({\n    handleSubmit,\n    pristine,\n    dirty\n  }) => /*#__PURE__*/React.createElement(FormComponent, {\n    DE_COC_combination_data: DE_COC_combination_data,\n    dirty: dirty,\n    handleSubmit: handleSubmit,\n    pristine: pristine,\n    hasSpecialChars: hasSpecialChars,\n    selectedDataSetOption: selectedDataSetOption,\n    onCancel: onCancel\n  }));\n};\nFormJ2meParser.propTypes = {\n  commandId: PropTypes.string.isRequired,\n  onAfterChange: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport i18n from '../../locales/index.js';\nimport { FormRow, PageSubHeadline, dataTest } from '../../shared/index.js';\nimport { AddSpecialCharacters } from '../AddSpecialCharacters/index.js';\nimport { DataElementTimesCategoryOptionCombos } from '../DataElementTimesCategoryOptionCombos/index.js';\nimport { FieldCommandName } from '../FieldCommandName/index.js';\nimport { FieldCompletenessMethod } from '../FieldCompletenessMethod/index.js';\nimport { FieldDataSet } from '../FieldDataSet/index.js';\nimport { FieldDefaultMessage } from '../FieldDefaultMessage/index.js';\nimport { FieldMoreThanOneOrgUnitMessage } from '../FieldMoreThanOneOrgUnitMessage/index.js';\nimport { FieldNoUserMessage } from '../FieldNoUserMessage/index.js';\nimport { FieldParser } from '../FieldParser/index.js';\nimport { FieldSeparator } from '../FieldSeparator/index.js';\nimport { FIELD_SPECIAL_CHARS_NAME, FieldSpecialCharacter } from '../FieldSpecialCharacter/index.js';\nimport { FieldSuccessMessage } from '../FieldSuccessMessage/index.js';\nimport { FieldUseCurrentPeriodForReporting } from '../FieldUseCurrentPeriodForReporting/index.js';\nimport { FieldWrongFormatMessage } from '../FieldWrongFormatMessage/index.js';\nimport { FormActions } from '../FormActions/index.js';\nimport { SubmitErrors } from '../SubmitErrors/index.js';\nconst {\n  FormSpy\n} = ReactFinalForm;\nexport const Form = ({\n  DE_COC_combination_data,\n  handleSubmit,\n  hasSpecialChars,\n  onCancel,\n  pristine,\n  selectedDataSetOption\n}) => {\n  const [specialKeyRemoved, setSpecialKeyRemoved] = useState(false);\n\n  const onSpecialKeyRemoved = () => setSpecialKeyRemoved(true);\n\n  const enableSubmit = specialKeyRemoved && hasSpecialChars;\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    \"data-test\": dataTest('smscommand-formkeyvalueparser-form')\n  }, /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldCommandName, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldParser, {\n    disabled: true\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldDataSet, {\n    disabled: true,\n    dataSets: [selectedDataSetOption]\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldCompletenessMethod, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldUseCurrentPeriodForReporting, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldSeparator, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldDefaultMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldWrongFormatMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldNoUserMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldMoreThanOneOrgUnitMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldSuccessMessage, null)), DE_COC_combination_data && /*#__PURE__*/React.createElement(DataElementTimesCategoryOptionCombos, {\n    DE_COC_combinations: DE_COC_combination_data\n  }), /*#__PURE__*/React.createElement(PageSubHeadline, null, i18n.t('Special characters')), /*#__PURE__*/React.createElement(FormSpy, {\n    subscription: {\n      values: true\n    }\n  }, ({\n    values\n  }) => /*#__PURE__*/React.createElement(React.Fragment, null, values[FIELD_SPECIAL_CHARS_NAME].map((_, index) => /*#__PURE__*/React.createElement(FormRow, {\n    key: index\n  }, /*#__PURE__*/React.createElement(FieldSpecialCharacter, {\n    index: index,\n    onSpecialKeyRemoved: onSpecialKeyRemoved\n  }))))), /*#__PURE__*/React.createElement(AddSpecialCharacters, null), /*#__PURE__*/React.createElement(SubmitErrors, null), /*#__PURE__*/React.createElement(FormActions, {\n    enableSubmit: enableSubmit,\n    onCancel: () => onCancel(pristine)\n  }));\n};\nForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  hasSpecialChars: PropTypes.bool.isRequired,\n  pristine: PropTypes.bool.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  DE_COC_combination_data: PropTypes.arrayOf(PropTypes.shape({\n    dataElement: PropTypes.shape({\n      displayName: PropTypes.string.isRequired,\n      id: PropTypes.string.isRequired\n    }).isRequired,\n    categoryOptionCombo: PropTypes.shape({\n      displayName: PropTypes.string.isRequired,\n      id: PropTypes.string.isRequired\n    })\n  })),\n  selectedDataSetOption: PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired\n  })\n};","import { FIELD_COMMAND_NAME } from '../FieldCommandName/index.js';\nimport { FIELD_COMPLETENESS_METHOD_NAME, completenessMethods } from '../FieldCompletenessMethod/index.js';\nimport { FIELD_DATA_SET_NAME } from '../FieldDataSet/index.js';\nimport { FIELD_DEFAULT_MESSAGE_NAME } from '../FieldDefaultMessage/index.js';\nimport { FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME } from '../FieldMoreThanOneOrgUnitMessage/index.js';\nimport { FIELD_NO_USER_MESSAGE_NAME } from '../FieldNoUserMessage/index.js';\nimport { FIELD_PARSER_NAME, parserTypes } from '../FieldParser/index.js';\nimport { FIELD_SEPARATOR_NAME } from '../FieldSeparator/index.js';\nimport { FIELD_SMS_CODES_NAME } from '../FieldSmsCode/index.js';\nimport { FIELD_SPECIAL_CHARS_NAME } from '../FieldSpecialCharacter/index.js';\nimport { FIELD_SUCCESS_MESSAGE_NAME } from '../FieldSuccessMessage/index.js';\nimport { FIELD_USE_CURRENT_PERIOD_FOR_REPORTING_NAME } from '../FieldUseCurrentPeriodForReporting/index.js';\nimport { FIELD_WRONG_FORMAT_MESSAGE_NAME } from '../FieldWrongFormatMessage/index.js';\nconst {\n  AT_LEAST_ONE_DATAVALUE\n} = completenessMethods;\nconst {\n  KEY_VALUE_PARSER\n} = parserTypes;\nexport const getInitialFormState = command => {\n  const name = command[FIELD_COMMAND_NAME];\n  const parserType = KEY_VALUE_PARSER.value;\n  const dataSetId = {\n    id: command[FIELD_DATA_SET_NAME].id\n  };\n  const separator = command[FIELD_SEPARATOR_NAME];\n  const completenessMethod = AT_LEAST_ONE_DATAVALUE.value;\n  const useCurrentPeriodForReporting = command[FIELD_USE_CURRENT_PERIOD_FOR_REPORTING_NAME];\n  const defaultMessage = command[FIELD_DEFAULT_MESSAGE_NAME];\n  const wrongFormatMessage = command[FIELD_WRONG_FORMAT_MESSAGE_NAME];\n  const noUserMessage = command[FIELD_NO_USER_MESSAGE_NAME];\n  const moreThanOneOrgUnitMessage = command[FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME];\n  const successMessage = command[FIELD_SUCCESS_MESSAGE_NAME];\n  const smsCodes = command[FIELD_SMS_CODES_NAME].reduce((acc, payload) => {\n    const {\n      code,\n      compulsory,\n      formula,\n      optionId: optionIdWrapper,\n      dataElement\n    } = payload;\n    const {\n      id: optionId\n    } = optionIdWrapper;\n    const key = optionId < 10 ? dataElement.id : `${dataElement.id}-${optionId}`;\n    const smsCode = {\n      code,\n      compulsory,\n      optionId\n    };\n\n    if (formula) {\n      smsCode.formula = formula;\n    }\n\n    return { ...acc,\n      [key]: smsCode\n    };\n  }, {});\n  const specialCharacters = command[FIELD_SPECIAL_CHARS_NAME] || [];\n  return {\n    [FIELD_COMMAND_NAME]: name,\n    [FIELD_PARSER_NAME]: parserType,\n    [FIELD_DATA_SET_NAME]: dataSetId,\n    [FIELD_SEPARATOR_NAME]: separator,\n    [FIELD_COMPLETENESS_METHOD_NAME]: completenessMethod,\n    [FIELD_USE_CURRENT_PERIOD_FOR_REPORTING_NAME]: useCurrentPeriodForReporting,\n    [FIELD_DEFAULT_MESSAGE_NAME]: defaultMessage,\n    [FIELD_WRONG_FORMAT_MESSAGE_NAME]: wrongFormatMessage,\n    [FIELD_NO_USER_MESSAGE_NAME]: noUserMessage,\n    [FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME]: moreThanOneOrgUnitMessage,\n    [FIELD_SUCCESS_MESSAGE_NAME]: successMessage,\n    smsCodes,\n    specialCharacters\n  };\n};","import i18n from '../../locales/index.js';\nimport { FIELD_SMS_CODES_NAME } from '../FieldSmsCode/index.js';\nimport { getSmsCodeDuplicates } from '../getSmsCodeDuplicates/index.js';\nexport const globalValidate = values => {\n  let hasErrors = false;\n  const errors = {};\n  const smsCodesFormState = values[FIELD_SMS_CODES_NAME];\n  const smsCodes = smsCodesFormState ? Object.entries(smsCodesFormState) : [];\n  const smsCodesWithValue = smsCodes.filter(([_, {\n    code\n  }]) => code); //eslint-disable-line no-unused-vars\n\n  if (smsCodesWithValue.length) {\n    const duplicates = getSmsCodeDuplicates(smsCodesWithValue);\n\n    if (duplicates.length) {\n      hasErrors = true;\n      const duplicateErrors = {};\n      duplicates.forEach(duplicate => {\n        duplicateErrors[duplicate] = {\n          code: i18n.t('Duplicate value!')\n        };\n      });\n      errors[FIELD_SMS_CODES_NAME] = errors[FIELD_SMS_CODES_NAME] || {};\n      Object.assign(errors[FIELD_SMS_CODES_NAME], duplicateErrors);\n    }\n  }\n\n  return hasErrors ? errors : undefined;\n};","import { useDataEngine } from '@dhis2/app-runtime';\nimport { useEffect, useState } from 'react'; // @TODO(non-critical):\n//   The response for key value parser\n//   does contain the information for \"Data element category combination\".\n//   But it does not contain the id of the category option combo,\n//   only the data element and a code.\n\nexport const READ_SMS_COMMAND_KEY_VALUE_PARSER_QUERY = {\n  smsCommand: {\n    resource: 'smsCommands',\n    id: ({\n      id\n    }) => id,\n    params: () => ({\n      fields: ['*', `dataset[id,displayName,dataSetElements[dataElement[id,displayName,categoryCombo[categoryOptionCombos[*,id,displayName]]]]]`]\n    })\n  }\n};\nexport const useCommandData = id => {\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [data, setData] = useState(null);\n  const engine = useDataEngine();\n\n  const refetch = variables => {\n    setLoading(true);\n    setError(null);\n    return engine.query(READ_SMS_COMMAND_KEY_VALUE_PARSER_QUERY, {\n      variables\n    }).then(response => {\n      response.smsCommand.dataset.dataSetElements.sort((left, right) => {\n        const leftDisplayName = left.dataElement.displayName;\n        const rightDisplayName = right.dataElement.displayName;\n\n        if (leftDisplayName === rightDisplayName) {\n          return 0;\n        }\n\n        if (leftDisplayName < rightDisplayName) {\n          return -1;\n        }\n\n        return 1;\n      });\n      setData(response);\n    }).catch(setError).finally(() => setLoading(false));\n  }; // initial request\n\n\n  useEffect(() => {\n    refetch({\n      id\n    });\n  }, []);\n  return {\n    loading,\n    error,\n    data,\n    refetch\n  };\n};","import { useDataEngine } from '@dhis2/app-runtime';\nimport { useSubmit } from '../../shared/index.js';\nimport { FIELD_COMMAND_NAME } from '../FieldCommandName/index.js';\nimport { FIELD_COMPLETENESS_METHOD_NAME } from '../FieldCompletenessMethod/index.js';\nimport { FIELD_DATA_SET_NAME } from '../FieldDataSet/index.js';\nimport { FIELD_DEFAULT_MESSAGE_NAME } from '../FieldDefaultMessage/index.js';\nimport { FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME } from '../FieldMoreThanOneOrgUnitMessage/index.js';\nimport { FIELD_NO_USER_MESSAGE_NAME } from '../FieldNoUserMessage/index.js';\nimport { FIELD_PARSER_NAME } from '../FieldParser/index.js';\nimport { FIELD_SEPARATOR_NAME } from '../FieldSeparator/index.js';\nimport { FIELD_SMS_CODES_NAME } from '../FieldSmsCode/index.js';\nimport { FIELD_SPECIAL_CHARS_NAME } from '../FieldSpecialCharacter/index.js';\nimport { FIELD_SUCCESS_MESSAGE_NAME } from '../FieldSuccessMessage/index.js';\nimport { FIELD_USE_CURRENT_PERIOD_FOR_REPORTING_NAME } from '../FieldUseCurrentPeriodForReporting/index.js';\nimport { FIELD_WRONG_FORMAT_MESSAGE_NAME } from '../FieldWrongFormatMessage/index.js';\nconst updateKeyValueParserMutation = {\n  resource: 'smsCommands',\n  type: 'update',\n  id: ({\n    id\n  }) => id,\n  data: command => {\n    const name = command[FIELD_COMMAND_NAME];\n    const parserType = command[FIELD_PARSER_NAME];\n    const dataSetId = {\n      id: command[FIELD_DATA_SET_NAME].id\n    };\n    const separator = command[FIELD_SEPARATOR_NAME];\n    const completenessMethod = command[FIELD_COMPLETENESS_METHOD_NAME];\n    const useCurrentPeriodForReporting = command[FIELD_USE_CURRENT_PERIOD_FOR_REPORTING_NAME];\n    const defaultMessage = command[FIELD_DEFAULT_MESSAGE_NAME];\n    const wrongFormatMessage = command[FIELD_WRONG_FORMAT_MESSAGE_NAME];\n    const noUserMessage = command[FIELD_NO_USER_MESSAGE_NAME];\n    const moreThanOneOrgUnitMessage = command[FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME];\n    const successMessage = command[FIELD_SUCCESS_MESSAGE_NAME];\n    const specialCharacters = command[FIELD_SPECIAL_CHARS_NAME] || [];\n    const smsCodes = Object.values(command[FIELD_SMS_CODES_NAME]).map(({\n      code: codeWrapper,\n      compulsory,\n      optionId,\n      dataElement\n    }) => {\n      const {\n        code,\n        formula\n      } = codeWrapper;\n      const formattedSmsCode = {\n        code,\n        compulsory: !!compulsory,\n        dataElement\n      };\n\n      if (formula) {\n        formattedSmsCode.formula = formula;\n      }\n\n      if (optionId) {\n        formattedSmsCode.optionId = optionId;\n      }\n\n      return formattedSmsCode;\n    });\n    return {\n      [FIELD_COMMAND_NAME]: name,\n      [FIELD_PARSER_NAME]: parserType,\n      [FIELD_DATA_SET_NAME]: dataSetId,\n      [FIELD_SEPARATOR_NAME]: separator,\n      [FIELD_COMPLETENESS_METHOD_NAME]: completenessMethod,\n      [FIELD_USE_CURRENT_PERIOD_FOR_REPORTING_NAME]: useCurrentPeriodForReporting,\n      [FIELD_DEFAULT_MESSAGE_NAME]: defaultMessage,\n      [FIELD_WRONG_FORMAT_MESSAGE_NAME]: wrongFormatMessage,\n      [FIELD_NO_USER_MESSAGE_NAME]: noUserMessage,\n      [FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME]: moreThanOneOrgUnitMessage,\n      [FIELD_SUCCESS_MESSAGE_NAME]: successMessage,\n      [FIELD_SPECIAL_CHARS_NAME]: specialCharacters,\n      [FIELD_SMS_CODES_NAME]: smsCodes\n    };\n  }\n};\nexport const useUpdateCommandMutation = ({\n  id,\n  onAfterChange\n}) => {\n  const engine = useDataEngine();\n\n  const onSubmit = values => {\n    const variables = { ...values,\n      id,\n      smsCodes: !values.smsCodes || !Object.values(values.smsCodes).length ? [] : Object.entries(values.smsCodes).map(([key, value]) => {\n        const [dataElementId, categoryOptionComboId] = key.split('-');\n        return { ...(categoryOptionComboId ? {\n            optionId: {\n              id: categoryOptionComboId\n            }\n          } : {}),\n          code: value,\n          dataElement: {\n            id: dataElementId\n          }\n        };\n      })\n    };\n    return engine.mutate(updateKeyValueParserMutation, {\n      variables\n    }).then(onAfterChange);\n  };\n\n  return useSubmit(onSubmit);\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { CenteredContent, CircularLoader, NoticeBox, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest as createDataTestValue } from '../../shared/index.js';\nimport { FIELD_DATA_SET_NAME } from '../FieldDataSet/index.js';\nimport { FIELD_SPECIAL_CHARS_NAME } from '../FieldSpecialCharacter/index.js';\nimport { Form as FormComponent } from './Form.js';\nimport { getInitialFormState } from './getInitialFormState.js';\nimport { globalValidate } from './globalValidate.js';\nimport { useCommandData } from './useCommandData.js';\nimport { useUpdateCommandMutation } from './useUpdateCommandMutation.js';\nconst {\n  Form\n} = ReactFinalForm;\nexport const FormKeyValueParser = ({\n  commandId,\n  onAfterChange,\n  onCancel\n}) => {\n  const dataTest = createDataTestValue('smscommandkeyvalueparser-commandeditj2meparserform');\n  const {\n    error: loadingCommandError,\n    data: commandData\n  } = useCommandData(commandId);\n  const command = commandData === null || commandData === void 0 ? void 0 : commandData.smsCommand;\n  const updateCommand = useUpdateCommandMutation({\n    id: commandId,\n    onAfterChange\n  });\n\n  if (loadingCommandError) {\n    const msg = i18n.t(\"Something went wrong whilst loading the command's details\");\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: msg\n    }, loadingCommandError.message);\n  }\n\n  if (!command) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n\n  const selectedDataSetOption = {\n    value: command[FIELD_DATA_SET_NAME].id,\n    label: command[FIELD_DATA_SET_NAME].displayName\n  };\n  const initialValues = getInitialFormState(command);\n  const DE_COC_combination_data = command.dataset.dataSetElements.reduce((curCombinations, {\n    dataElement\n  }) => {\n    var _dataElement$category;\n\n    const categoryOptionCombo = (_dataElement$category = dataElement.categoryCombo) === null || _dataElement$category === void 0 ? void 0 : _dataElement$category.categoryOptionCombos;\n\n    if (!categoryOptionCombo) {\n      return [...curCombinations, {\n        dataElement\n      }];\n    }\n\n    const combos = categoryOptionCombo.map(COC => ({\n      dataElement,\n      categoryOptionCombo: COC\n    }));\n    return [...curCombinations, ...combos];\n  }, []);\n  const specialChars = initialValues[FIELD_SPECIAL_CHARS_NAME];\n  const hasSpecialChars = !!(specialChars !== null && specialChars !== void 0 && specialChars.length);\n  return /*#__PURE__*/React.createElement(Form, {\n    keepDirtyOnReinitialize: true,\n    onSubmit: updateCommand,\n    initialValues: initialValues,\n    validate: globalValidate,\n    subscription: {\n      pristine: true\n    }\n  }, ({\n    handleSubmit,\n    pristine,\n    dirty\n  }) => /*#__PURE__*/React.createElement(FormComponent, {\n    DE_COC_combination_data: DE_COC_combination_data,\n    dataTest: dataTest,\n    dirty: dirty,\n    handleSubmit: handleSubmit,\n    pristine: pristine,\n    hasSpecialChars: hasSpecialChars,\n    selectedDataSetOption: selectedDataSetOption,\n    onCancel: onCancel\n  }));\n};\nFormKeyValueParser.propTypes = {\n  commandId: PropTypes.string.isRequired,\n  onAfterChange: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { FormRow, PageSubHeadline, dataTest } from '../../shared/index.js';\nimport { FieldCommandName } from '../FieldCommandName/index.js';\nimport { FieldDefaultMessage } from '../FieldDefaultMessage/index.js';\nimport { FieldMoreThanOneOrgUnitMessage } from '../FieldMoreThanOneOrgUnitMessage/index.js';\nimport { FieldNoUserMessage } from '../FieldNoUserMessage/index.js';\nimport { FieldParser } from '../FieldParser/index.js';\nimport { FieldProgram } from '../FieldProgram/index.js';\nimport { FieldProgramStage } from '../FieldProgramStage/index.js';\nimport { FieldSeparator } from '../FieldSeparator/index.js';\nimport { FIELD_SMS_CODES_NAME } from '../FieldSmsCode/index.js';\nimport { FieldSmsCodeDataElement } from '../FieldSmsCodeDataElement/index.js';\nimport { FieldSuccessMessage } from '../FieldSuccessMessage/index.js';\nimport { FieldWrongFormatMessage } from '../FieldWrongFormatMessage/index.js';\nimport { FormActions } from '../FormActions/index.js';\nimport { SubmitErrors } from '../SubmitErrors/index.js';\nconst {\n  useFormState\n} = ReactFinalForm;\nexport const FormComponent = ({\n  handleSubmit,\n  selectedProgramOption,\n  programStageDataElements,\n  selectedProgramStageOption,\n  onCancel\n}) => {\n  const {\n    pristine,\n    values\n  } = useFormState();\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    \"data-test\": dataTest('commands-commandeditprogramstagedataentryparserform')\n  }, /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldCommandName, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldParser, {\n    disabled: true\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldProgram, {\n    disabled: true,\n    programs: [selectedProgramOption]\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldProgramStage, {\n    disabled: true,\n    programStages: [selectedProgramStageOption]\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldSeparator, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldDefaultMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldWrongFormatMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldNoUserMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldMoreThanOneOrgUnitMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldSuccessMessage, null)), /*#__PURE__*/React.createElement(PageSubHeadline, null, i18n.t('SMS short codes')), programStageDataElements && /*#__PURE__*/React.createElement(FormRow, null, programStageDataElements.map(({\n    dataElement\n  }) => /*#__PURE__*/React.createElement(FieldSmsCodeDataElement, {\n    key: dataElement.id,\n    dataElement: dataElement,\n    smsCodes: values[FIELD_SMS_CODES_NAME]\n  }))), /*#__PURE__*/React.createElement(SubmitErrors, null), /*#__PURE__*/React.createElement(FormActions, {\n    onCancel: () => onCancel(pristine)\n  }));\n};\nFormComponent.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  programStageDataElements: PropTypes.arrayOf(PropTypes.shape({\n    dataElement: PropTypes.shape({\n      displayName: PropTypes.string.isRequired,\n      id: PropTypes.string.isRequired\n    })\n  })).isRequired,\n  selectedProgramOption: PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired\n  }).isRequired,\n  selectedProgramStageOption: PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired\n  }).isRequired,\n  onCancel: PropTypes.func.isRequired\n};","import { FIELD_COMMAND_NAME } from '../FieldCommandName/index.js';\nimport { FIELD_DEFAULT_MESSAGE_NAME } from '../FieldDefaultMessage/index.js';\nimport { FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME } from '../FieldMoreThanOneOrgUnitMessage/index.js';\nimport { FIELD_NO_USER_MESSAGE_NAME } from '../FieldNoUserMessage/index.js';\nimport { FIELD_PARSER_NAME, parserTypes } from '../FieldParser/index.js';\nimport { FIELD_PROGRAM_NAME } from '../FieldProgram/index.js';\nimport { FIELD_PROGRAM_STAGE_NAME } from '../FieldProgramStage/index.js';\nimport { FIELD_SEPARATOR_NAME } from '../FieldSeparator/index.js';\nimport { FIELD_SMS_CODES_NAME } from '../FieldSmsCode/index.js';\nimport { FIELD_SUCCESS_MESSAGE_NAME } from '../FieldSuccessMessage/index.js';\nimport { FIELD_WRONG_FORMAT_MESSAGE_NAME } from '../FieldWrongFormatMessage/index.js';\nconst {\n  PROGRAM_STAGE_DATAENTRY_PARSER\n} = parserTypes;\nexport const getInitialFormState = command => {\n  const name = command[FIELD_COMMAND_NAME];\n  const program = command[FIELD_PROGRAM_NAME];\n  const programStage = command[FIELD_PROGRAM_STAGE_NAME];\n  const separator = command[FIELD_SEPARATOR_NAME];\n  const defaultMessage = command[FIELD_DEFAULT_MESSAGE_NAME];\n  const wrongFormatMessage = command[FIELD_WRONG_FORMAT_MESSAGE_NAME];\n  const noUserMessage = command[FIELD_NO_USER_MESSAGE_NAME];\n  const moreThanOneOrgUnitMessage = command[FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME];\n  const successMessage = command[FIELD_SUCCESS_MESSAGE_NAME];\n  const smsCodes = command[FIELD_SMS_CODES_NAME].reduce((curSmsCodes, smsCode) => ({ ...curSmsCodes,\n    [smsCode.dataElement.id]: smsCode\n  }), {});\n  return {\n    [FIELD_COMMAND_NAME]: name,\n    [FIELD_PARSER_NAME]: PROGRAM_STAGE_DATAENTRY_PARSER.value,\n    [FIELD_PROGRAM_NAME]: program,\n    [FIELD_PROGRAM_STAGE_NAME]: programStage,\n    [FIELD_SEPARATOR_NAME]: separator,\n    [FIELD_DEFAULT_MESSAGE_NAME]: defaultMessage,\n    [FIELD_WRONG_FORMAT_MESSAGE_NAME]: wrongFormatMessage,\n    [FIELD_NO_USER_MESSAGE_NAME]: noUserMessage,\n    [FIELD_MORE_THAN_ONE_ORG_UNIT_MESSAGE_NAME]: moreThanOneOrgUnitMessage,\n    [FIELD_SUCCESS_MESSAGE_NAME]: successMessage,\n    [FIELD_SMS_CODES_NAME]: smsCodes\n  };\n};","import { useDataQuery } from '@dhis2/app-runtime';\nconst READ_SMS_COMMAND_PROGRAM_STAGE_DATA_ENTRY_PARSER_QUERY = {\n  smsCommand: {\n    resource: 'smsCommands',\n    id: ({\n      id\n    }) => id,\n    params: {\n      fields: ['*', 'program[id,displayName]', 'programStage[id,displayName,programStageDataElements[dataElement[id,displayName]]]'],\n      paging: 'false'\n    }\n  }\n};\nexport const useCommandData = programStageId => useDataQuery(READ_SMS_COMMAND_PROGRAM_STAGE_DATA_ENTRY_PARSER_QUERY, {\n  variables: {\n    id: programStageId\n  }\n});","import { useDataEngine } from '@dhis2/app-runtime';\nimport { useSubmit } from '../../shared/index.js';\nimport { FIELD_SMS_CODES_NAME } from '../FieldSmsCode/index.js';\nexport const REPLACE_SMS_COMMAND_MUTATION = {\n  resource: 'smsCommands',\n  type: 'update',\n  id: ({\n    commandId\n  }) => commandId,\n  // @TODO(non-critical):\n  //   Make this produce static object structures\n  // eslint-disable-next-line no-unused-vars\n  data: ({\n    commandId,\n    ...params\n  }) => ({ ...params,\n    [FIELD_SMS_CODES_NAME]: Object.values(params[FIELD_SMS_CODES_NAME])\n  })\n};\nexport const UPDATE_SMS_COMMAND_MUTATION = { ...REPLACE_SMS_COMMAND_MUTATION,\n  partial: true\n};\nexport const useUpdateCommandMutation = ({\n  onAfterChange,\n  commandId\n}) => {\n  const engine = useDataEngine();\n\n  const onSubmit = values => {\n    const variables = { ...values,\n      commandId\n    };\n    return engine.mutate(REPLACE_SMS_COMMAND_MUTATION, {\n      variables\n    }).then(onAfterChange);\n  };\n\n  return useSubmit(onSubmit);\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { ContentLoading, ContentLoadingError } from '../../shared/index.js';\nimport { FormComponent } from './FormComponent.js';\nimport { getInitialFormState } from './getInitialFormState.js';\nimport { useCommandData } from './useCommandData.js';\nimport { useUpdateCommandMutation } from './useUpdateCommandMutation.js';\nconst {\n  Form\n} = ReactFinalForm;\nexport const FormProgramStageDataEntryParser = ({\n  commandId,\n  onAfterChange,\n  onCancel\n}) => {\n  const {\n    loading,\n    error,\n    data\n  } = useCommandData(commandId);\n  const updateCommand = useUpdateCommandMutation({\n    commandId,\n    onAfterChange\n  });\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(ContentLoading, null);\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(ContentLoadingError, {\n      errorMessage: error.message,\n      title: i18n.t('Something went wrong whilst loading the sms command')\n    });\n  }\n\n  const command = data === null || data === void 0 ? void 0 : data.smsCommand;\n  const programStageDataElements = command === null || command === void 0 ? void 0 : command.programStage.programStageDataElements;\n  const initialValues = getInitialFormState(command);\n  const selectedProgramOption = {\n    value: command.program.id,\n    label: command.program.displayName\n  };\n  const selectedProgramStageOption = {\n    value: command.programStage.id,\n    label: command.programStage.displayName\n  };\n  return /*#__PURE__*/React.createElement(Form, {\n    keepDirtyOnReinitialize: true,\n    onSubmit: updateCommand,\n    initialValues: initialValues\n  }, ({\n    handleSubmit\n  }) => /*#__PURE__*/React.createElement(FormComponent, {\n    handleSubmit: handleSubmit,\n    selectedProgramOption: selectedProgramOption,\n    programStageDataElements: programStageDataElements,\n    selectedProgramStageOption: selectedProgramStageOption,\n    onCancel: onCancel\n  }));\n};\nFormProgramStageDataEntryParser.propTypes = {\n  commandId: PropTypes.string.isRequired,\n  onAfterChange: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { FormRow, PageSubHeadline, dataTest } from '../../shared/index.js';\nimport { FieldCommandName } from '../FieldCommandName/index.js';\nimport { FieldDefaultMessage } from '../FieldDefaultMessage/index.js';\nimport { FieldMoreThanOneOrgUnitMessage } from '../FieldMoreThanOneOrgUnitMessage/index.js';\nimport { FieldNoUserMessage } from '../FieldNoUserMessage/index.js';\nimport { FieldParser } from '../FieldParser/index.js';\nimport { FieldProgram } from '../FieldProgram/index.js';\nimport { FieldSeparator } from '../FieldSeparator/index.js';\nimport { FieldSmsCode } from '../FieldSmsCode/index.js';\nimport { FieldSuccessMessage } from '../FieldSuccessMessage/index.js';\nimport { FieldWrongFormatMessage } from '../FieldWrongFormatMessage/index.js';\nimport { FormActions } from '../FormActions/index.js';\nimport { SubmitErrors } from '../SubmitErrors/index.js';\nconst {\n  useFormState\n} = ReactFinalForm;\nexport const Form = ({\n  handleSubmit,\n  dynamicFields,\n  selectedProgramOption,\n  onCancel\n}) => {\n  const {\n    pristine\n  } = useFormState();\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    \"data-test\": dataTest('smscommand-formtrackedentityregistrationparser-form')\n  }, /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldCommandName, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldParser, {\n    disabled: true\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldProgram, {\n    disabled: true,\n    programs: [selectedProgramOption]\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldSeparator, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldDefaultMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldWrongFormatMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldNoUserMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldMoreThanOneOrgUnitMessage, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldSuccessMessage, null)), /*#__PURE__*/React.createElement(PageSubHeadline, null, i18n.t('SMS short codes')), dynamicFields.map(dynamicField => {\n    // I assume this should switch field types based on `valueType`\n    // which can be 'TEXT', 'NUMBER', etc. Currently this renders\n    // a regular input for everything.\n    return /*#__PURE__*/React.createElement(FormRow, {\n      key: dynamicField.id\n    }, /*#__PURE__*/React.createElement(FieldSmsCode, {\n      id: dynamicField.id,\n      displayName: dynamicField.displayName,\n      valueType: dynamicField.valueType\n    }));\n  }), /*#__PURE__*/React.createElement(SubmitErrors, null), /*#__PURE__*/React.createElement(FormActions, {\n    onCancel: () => onCancel(pristine)\n  }));\n};\nForm.propTypes = {\n  dynamicFields: PropTypes.arrayOf(PropTypes.shape({\n    displayName: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n    valueType: PropTypes.string.isRequired\n  })).isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  selectedProgramOption: PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired\n  }).isRequired,\n  onCancel: PropTypes.func.isRequired\n};","import { useDataQuery } from '@dhis2/app-runtime';\nconst query = {\n  smsCommand: {\n    resource: 'smsCommands',\n    id: ({\n      id\n    }) => id,\n    params: () => {\n      const fields = ['name', 'parserType', 'separator', 'defaultMessage', 'wrongFormatMessage', 'noUserMessage', 'moreThanOneOrgUnitMessage', 'successMessage', // The queries below should be reduced to only the data we need\n      `program [\n                    id,\n                    displayName,\n                    programTrackedEntityAttributes [\n                        trackedEntityAttribute [\n                            :all,\n                            id,\n                            displayName\n                        ]\n                    ]\n                ]`, `smsCodes [\n                    :all,\n                    trackedEntityAttribute [\n                        id,\n                        displayName,\n                        valueType\n                    ]\n                ]`];\n      return {\n        fields: fields.map(field => field.replace(/(\\n|\\s)/g, ''))\n      };\n    }\n  }\n};\nexport const useCommandData = id => useDataQuery(query, {\n  variables: {\n    id\n  }\n});","import { useDataEngine } from '@dhis2/app-runtime';\nimport { useSubmit } from '../../shared/index.js';\nimport { FIELD_SMS_CODES_NAME } from '../FieldSmsCode/index.js';\nexport const REPLACE_SMS_COMMAND_MUTATION = {\n  resource: 'smsCommands',\n  type: 'update',\n  id: ({\n    commandId\n  }) => commandId,\n  // @TODO(non-critical):\n  //   Make this produce static object structures\n  // eslint-disable-next-line no-unused-vars\n  data: ({\n    commandId,\n    ...params\n  }) => ({ ...params,\n    [FIELD_SMS_CODES_NAME]: Object.values(params[FIELD_SMS_CODES_NAME])\n  })\n};\nexport const UPDATE_SMS_COMMAND_MUTATION = { ...REPLACE_SMS_COMMAND_MUTATION,\n  partial: true\n};\nexport const useUpdateCommandMutation = ({\n  onAfterChange,\n  commandId\n}) => {\n  const engine = useDataEngine();\n\n  const onSubmit = values => {\n    const variables = { ...values,\n      commandId\n    };\n    return engine.mutate(REPLACE_SMS_COMMAND_MUTATION, {\n      variables\n    }).then(onAfterChange);\n  };\n\n  return useSubmit(onSubmit);\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { ContentLoading, ContentLoadingError } from '../../shared/index.js';\nimport { Form as FormComponent } from './Form.js';\nimport { useCommandData } from './useCommandData.js';\nimport { useUpdateCommandMutation } from './useUpdateCommandMutation.js';\nconst {\n  Form\n} = ReactFinalForm;\nexport const FormTrackedEntityRegistrationParser = ({\n  commandId,\n  onAfterChange,\n  onCancel\n}) => {\n  const {\n    loading,\n    error,\n    data\n  } = useCommandData(commandId);\n  const updateCommand = useUpdateCommandMutation({\n    commandId,\n    onAfterChange\n  });\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(ContentLoading, null);\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(ContentLoadingError, {\n      errorMessage: error.message,\n      title: i18n.t('Something went wrong whilst loading the sms command')\n    });\n  }\n\n  const {\n    name,\n    parserType,\n    program,\n    separator,\n    defaultMessage,\n    wrongFormatMessage,\n    noUserMessage,\n    moreThanOneOrgUnitMessage,\n    successMessage,\n    smsCodes: smsCodesOriginal\n  } = data.smsCommand;\n  const smsCodes = smsCodesOriginal.reduce((curSmsCodes, smsCode) => ({ ...curSmsCodes,\n    [smsCode.trackedEntityAttribute.id]: smsCode\n  }), {});\n  const initialValues = {\n    name,\n    parserType,\n    program,\n    separator,\n    defaultMessage,\n    wrongFormatMessage,\n    noUserMessage,\n    moreThanOneOrgUnitMessage,\n    successMessage,\n    smsCodes\n  };\n  const selectedProgramOption = {\n    value: program.id,\n    label: program.displayName\n  };\n  /**\n   * Create usable data for the dynamic fields\n   */\n  // The tracked entity attributes here have the right order for the fields\n\n  const trackedEntityAttributes = program.programTrackedEntityAttributes.map(({\n    trackedEntityAttribute\n  }) => trackedEntityAttribute); // Creating an array with only the data we need to render our dynamic form fields\n\n  const dynamicFields = trackedEntityAttributes.map(trackedEntityAttribute => {\n    const {\n      id,\n      displayName,\n      valueType\n    } = trackedEntityAttribute;\n    const merged = {\n      id,\n      displayName,\n      valueType\n    };\n    const smsCode = smsCodes[id];\n\n    if (smsCode) {\n      // This contains the actual value of the field\n      merged.initialValue = smsCode.code;\n    }\n\n    return merged;\n  });\n  return /*#__PURE__*/React.createElement(Form, {\n    keepDirtyOnReinitialize: true,\n    onSubmit: updateCommand,\n    initialValues: initialValues\n  }, ({\n    handleSubmit\n  }) => /*#__PURE__*/React.createElement(FormComponent, {\n    dynamicFields: dynamicFields,\n    handleSubmit: handleSubmit,\n    selectedProgramOption: selectedProgramOption,\n    onCancel: onCancel\n  }));\n};\nFormTrackedEntityRegistrationParser.propTypes = {\n  commandId: PropTypes.string.isRequired,\n  onAfterChange: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired\n};","import { PropTypes } from '@dhis2/prop-types';\nimport React from 'react';\nimport { FormRow, FieldUserGroup, dataTest } from '../../shared/index.js';\nimport { FieldCommandName } from '../FieldCommandName/index.js';\nimport { FieldConfirmMessage } from '../FieldConfirmMessage/index.js';\nimport { FieldParser } from '../FieldParser/index.js';\nimport { FormActions } from '../FormActions/index.js';\nimport { SubmitErrors } from '../SubmitErrors/index.js';\nexport const Form = ({\n  handleSubmit,\n  userGroups,\n  pristine,\n  onCancel\n}) => /*#__PURE__*/React.createElement(\"form\", {\n  onSubmit: handleSubmit,\n  \"data-test\": dataTest('commands-commandunregisteredparserform')\n}, /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldCommandName, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldParser, {\n  disabled: true\n})), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldUserGroup, {\n  disabled: true,\n  userGroups: userGroups\n})), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldConfirmMessage, null)), /*#__PURE__*/React.createElement(SubmitErrors, null), /*#__PURE__*/React.createElement(FormActions, {\n  onCancel: () => onCancel(pristine)\n}));\nForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  pristine: PropTypes.bool.isRequired,\n  userGroups: PropTypes.arrayOf(PropTypes.shape({\n    label: PropTypes.string.isRequired,\n    value: PropTypes.string.isRequired\n  })).isRequired,\n  onCancel: PropTypes.func.isRequired\n};","import { useDataQuery } from '@dhis2/app-runtime';\nconst query = {\n  smsCommand: {\n    resource: 'smsCommands',\n    id: ({\n      commandId\n    }) => commandId,\n    params: {\n      fields: ['name', 'parserType', 'receivedMessage', 'userGroup[name,id]']\n    }\n  }\n};\nexport const useCommandData = commandId => {\n  const variables = {\n    commandId\n  };\n  return useDataQuery(query, {\n    variables\n  });\n};","import { useDataEngine } from '@dhis2/app-runtime';\nimport { useSubmit } from '../../shared/index.js';\nexport const UPDATE_COMMAND_MUTATION = {\n  resource: 'smsCommands',\n  type: 'update',\n  partial: true,\n  id: ({\n    commandId\n  }) => commandId,\n  // @TODO(non-critical):\n  //   Make this produce static object structures\n  // eslint-disable-next-line no-unused-vars\n  data: ({\n    commandId,\n    ...params\n  }) => params\n};\nexport const useUpdateCommandMutation = ({\n  onAfterChange,\n  commandId\n}) => {\n  const engine = useDataEngine();\n\n  const onSubmit = values => {\n    const variables = { ...values,\n      commandId\n    };\n    return engine.mutate(UPDATE_COMMAND_MUTATION, {\n      variables\n    }).then(onAfterChange);\n  };\n\n  return useSubmit(onSubmit);\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { ContentLoading, ContentLoadingError } from '../../shared/index.js';\nimport { Form as FormComponent } from './Form.js';\nimport { useCommandData } from './useCommandData.js';\nimport { useUpdateCommandMutation } from './useUpdateCommandMutation.js';\nconst {\n  Form\n} = ReactFinalForm;\nexport const FormUnregisteredParser = ({\n  commandId,\n  onAfterChange,\n  onCancel\n}) => {\n  const {\n    loading,\n    error,\n    data\n  } = useCommandData(commandId);\n  const updateCommand = useUpdateCommandMutation({\n    commandId,\n    onAfterChange\n  });\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(ContentLoading, null);\n  }\n\n  if (error) {\n    return /*#__PURE__*/React.createElement(ContentLoadingError, {\n      errorMessage: error.message,\n      title: i18n.t('Something went wrong whilst loading the sms command')\n    });\n  }\n\n  const {\n    name,\n    parserType,\n    receivedMessage,\n    userGroup\n  } = data.smsCommand;\n  const initialValues = {\n    name,\n    parserType,\n    receivedMessage,\n    userGroup: userGroup.id\n  };\n  const userGroups = [{\n    value: userGroup.id,\n    label: userGroup.name\n  }];\n  return /*#__PURE__*/React.createElement(Form, {\n    keepDirtyOnReinitialize: true,\n    onSubmit: updateCommand,\n    initialValues: initialValues\n  }, ({\n    handleSubmit,\n    pristine\n  }) => /*#__PURE__*/React.createElement(FormComponent, {\n    handleSubmit: handleSubmit,\n    userGroups: userGroups,\n    pristine: pristine,\n    onCancel: onCancel\n  }));\n};\nFormUnregisteredParser.propTypes = {\n  commandId: PropTypes.string.isRequired,\n  onAfterChange: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired\n};","import { useDataQuery } from '@dhis2/app-runtime';\nexport const READ_SMS_COMMAND_PARSER_TYPE_QUERY = {\n  smsCommand: {\n    resource: 'smsCommands',\n    id: ({\n      id\n    }) => id,\n    params: {\n      fields: 'parserType',\n      paging: 'false'\n    }\n  }\n};\nexport const useReadSmsCommandParserTypeQuery = id => useDataQuery(READ_SMS_COMMAND_PARSER_TYPE_QUERY, {\n  variables: {\n    id\n  }\n});","import { NoticeBox, CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport i18n from '../../locales/index.js';\nimport { CancelDialog, PageHeadline, TemplateSidebarNavContent, dataTest } from '../../shared/index.js';\nimport { FIELD_PARSER_NAME, parserTypes } from '../FieldParser/index.js';\nimport { FormAlertParser } from '../FormAlertParser/index.js';\nimport { FormEventRegistrationParser } from '../FormEventRegistrationParser/index.js';\nimport { FormJ2meParser } from '../FormJ2meParser/index.js';\nimport { FormKeyValueParser } from '../FormKeyValueParser/index.js';\nimport { FormProgramStageDataEntryParser } from '../FormProgramStageDataEntryParser/index.js';\nimport { FormTrackedEntityRegistrationParser } from '../FormTrackedEntityRegistrationParser/index.js';\nimport { FormUnregisteredParser } from '../FormUnregisteredParser/index.js';\nimport { useReadSmsCommandParserTypeQuery } from './useReadSmsCommandParserTypeQuery.js';\nimport styles from './ViewSmsCommandEdit.module.css';\nexport const SMS_COMMAND_FORM_EDIT_PATH_STATIC = '/sms-config/edit';\nexport const SMS_COMMAND_FORM_EDIT_PATH = `${SMS_COMMAND_FORM_EDIT_PATH_STATIC}/:id`;\nconst {\n  ALERT_PARSER,\n  EVENT_REGISTRATION_PARSER,\n  J2ME_PARSER,\n  KEY_VALUE_PARSER,\n  PROGRAM_STAGE_DATAENTRY_PARSER,\n  TRACKED_ENTITY_REGISTRATION_PARSER,\n  UNREGISTERED_PARSER\n} = parserTypes;\n\nconst isParserType = (parserType, parser) => parserType === parser.value;\n\nconst getSmsCommandEditFormComponent = parserType => {\n  const isParser = isParserType.bind(null, parserType);\n\n  if (!parserType) {\n    return null;\n  }\n\n  if (isParser(KEY_VALUE_PARSER)) {\n    return FormKeyValueParser;\n  }\n\n  if (isParser(J2ME_PARSER)) {\n    return FormJ2meParser;\n  }\n\n  if (isParser(ALERT_PARSER)) {\n    return FormAlertParser;\n  }\n\n  if (isParser(PROGRAM_STAGE_DATAENTRY_PARSER)) {\n    return FormProgramStageDataEntryParser;\n  }\n\n  if (isParser(UNREGISTERED_PARSER)) {\n    return FormUnregisteredParser;\n  }\n\n  if (isParser(EVENT_REGISTRATION_PARSER)) {\n    return FormEventRegistrationParser;\n  }\n\n  if (isParser(TRACKED_ENTITY_REGISTRATION_PARSER)) {\n    return FormTrackedEntityRegistrationParser;\n  }\n\n  return null;\n};\n\nexport const ViewSmsCommandEdit = () => {\n  const history = useHistory();\n  const {\n    id\n  } = useParams();\n  const {\n    loading,\n    error,\n    data\n  } = useReadSmsCommandParserTypeQuery(id);\n  const [showCancelDialog, setShowCancelDialog] = useState(false);\n\n  const onAfterChange = () => history.push('/sms-command');\n\n  const onCancel = pristine => pristine ? history.goBack() : setShowCancelDialog(true);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null));\n  }\n\n  if (error) {\n    const msg = i18n.t('Something went wrong whilst loading commands');\n    return /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: msg\n    }, error.message);\n  }\n\n  const parserType = data === null || data === void 0 ? void 0 : data.smsCommand[FIELD_PARSER_NAME];\n  const FormComponent = getSmsCommandEditFormComponent(parserType);\n  return /*#__PURE__*/React.createElement(TemplateSidebarNavContent, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    \"data-test\": dataTest('smscommand-viewsmscommandedit')\n  }, /*#__PURE__*/React.createElement(PageHeadline, null, i18n.t('Edit command')), FormComponent && /*#__PURE__*/React.createElement(FormComponent, {\n    commandId: id,\n    onCancel: onCancel,\n    onAfterChange: onAfterChange\n  }), showCancelDialog && /*#__PURE__*/React.createElement(CancelDialog, {\n    onConfirmCancel: () => history.push('/sms-command'),\n    onAbortCancel: () => setShowCancelDialog(false)\n  }), !parserType && /*#__PURE__*/React.createElement(NoticeBox, {\n    error: true,\n    title: i18n.t('Unrecognised parser type')\n  }, i18n.t('Could not find the requested parser type'))));\n};","import { useDataEngine } from '@dhis2/app-runtime';\nimport { useState } from 'react';\nexport const DELETE_SMS_COMMAND_MUTATION = {\n  resource: 'smsCommands',\n  type: 'delete',\n  id: ({\n    id\n  }) => id\n};\n\nconst idToMutationRequestFactory = engine => id => {\n  const variables = {\n    id\n  };\n  return engine.mutate(DELETE_SMS_COMMAND_MUTATION, {\n    variables\n  });\n};\n\nexport const useDeleteSmsCommandMutation = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const engine = useDataEngine();\n  const idToMutationRequest = idToMutationRequestFactory(engine);\n\n  const onStart = () => setLoading(true);\n\n  const onDone = response => {\n    setLoading(false);\n    return response;\n  };\n\n  const onError = error => {\n    setError(error);\n    setLoading(false);\n  };\n\n  const mutate = ({\n    ids\n  }) => {\n    onStart();\n    return Promise.all(ids.map(idToMutationRequest)).then(onDone).catch(onError);\n  };\n\n  return [mutate, {\n    loading,\n    error\n  }];\n};","import { useDataQuery } from '@dhis2/app-runtime';\nexport const SMS_COMMANDS_QUERY = {\n  smsCommands: {\n    resource: 'smsCommands',\n    pager: false,\n    params: ({\n      ids\n    } = {}) => ({\n      // @TODO: Why is `paging: false` not working?\n      paging: 'false',\n      fields: '*',\n      filter: ids ? `ids:in:[${ids.join(',')}]` : undefined\n    })\n  }\n};\nexport const useReadSmsCommandsQuery = () => useDataQuery(SMS_COMMANDS_QUERY);","import { Button, Checkbox, Table, TableHead, TableBody, TableRow, TableRowHead, TableCell, TableCellHead, NoticeBox, CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport i18n from '../../locales/index.js';\nimport { ListActions, DeleteConfirmationDialog, PageHeadline, Paragraph, TemplateSidebarNavContent, dataTest } from '../../shared/index.js';\nimport { parserTypes } from '../FieldParser/index.js';\nimport { useDeleteSmsCommandMutation } from './useDeleteSmsCommandMutation.js';\nimport { useReadSmsCommandsQuery } from './useReadSmsCommandsQuery.js';\nimport styles from './ViewSmsCommandList.module.css';\nexport const SMS_COMMAND_LIST_LABEL = i18n.t('Commands');\nexport const SMS_COMMAND_LIST_PATH = '/sms-config';\n\nconst getLabelByParserTypes = parserType => {\n  const type = Object.values(parserTypes).find(({\n    value\n  }) => value === parserType);\n  return (type === null || type === void 0 ? void 0 : type.label) || parserType;\n};\n\nexport const ViewSmsCommandList = () => {\n  var _data$smsCommands2, _data$smsCommands2$sm, _data$smsCommands3, _data$smsCommands3$sm, _data$smsCommands4, _data$smsCommands4$sm;\n\n  const history = useHistory();\n\n  const onAddCommandClick = () => history.push('sms-command/new');\n\n  const [checkedSmsCommands, setCheckedSmsCommands] = useState([]);\n  const [showDeleteConfirmationDialog, setShowDeleteConfirmationDialog] = useState(false);\n  const {\n    loading: loadingReadSmsCommands,\n    error: errorReadSmsCommands,\n    data,\n    refetch\n  } = useReadSmsCommandsQuery();\n  const [deleteSmsCommands, {\n    loading: loadingDelete,\n    error: errorDelete\n  }] = useDeleteSmsCommandMutation();\n\n  if (loadingReadSmsCommands) {\n    return /*#__PURE__*/React.createElement(TemplateSidebarNavContent, null, /*#__PURE__*/React.createElement(\"div\", {\n      \"data-test\": dataTest('smscommand-viewsmscommandlist')\n    }, /*#__PURE__*/React.createElement(PageHeadline, null, SMS_COMMAND_LIST_LABEL), /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null))));\n  }\n\n  const error = errorReadSmsCommands || errorDelete;\n\n  if (error) {\n    const msg = i18n.t('Something went wrong whilst performing the requested operation');\n    return /*#__PURE__*/React.createElement(TemplateSidebarNavContent, null, /*#__PURE__*/React.createElement(\"div\", {\n      \"data-test\": dataTest('views-smscommandlist')\n    }, /*#__PURE__*/React.createElement(PageHeadline, null, SMS_COMMAND_LIST_LABEL), /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: msg\n    }, error.message)));\n  }\n\n  const onToggleCallChange = () => {\n    var _data$smsCommands;\n\n    const smsCommands = data === null || data === void 0 ? void 0 : (_data$smsCommands = data.smsCommands) === null || _data$smsCommands === void 0 ? void 0 : _data$smsCommands.smsCommands;\n\n    if (!smsCommands) {\n      return;\n    }\n\n    if (checkedSmsCommands.length === smsCommands.length) {\n      setCheckedSmsCommands([]);\n    } else {\n      setCheckedSmsCommands(smsCommands.map(({\n        id,\n        displayName\n      }) => ({\n        id,\n        displayName\n      })));\n    }\n  };\n\n  const toggleSmsCommand = smsCommand => {\n    const {\n      id\n    } = smsCommand;\n\n    if (checkedSmsCommands.find(({\n      id: checkedId\n    }) => id === checkedId)) {\n      const index = checkedSmsCommands.findIndex(({\n        id: checkedId\n      }) => id === checkedId);\n      return setCheckedSmsCommands([...checkedSmsCommands.slice(0, index), ...checkedSmsCommands.slice(index + 1)]);\n    }\n\n    return setCheckedSmsCommands([...checkedSmsCommands, smsCommand]);\n  };\n\n  const onDeleteClick = async () => {\n    const ids = checkedSmsCommands.map(({\n      id\n    }) => id);\n    await deleteSmsCommands({\n      ids\n    });\n    setCheckedSmsCommands([]);\n    setShowDeleteConfirmationDialog(false);\n    refetch();\n  };\n\n  const allChecked = checkedSmsCommands.length === (data === null || data === void 0 ? void 0 : (_data$smsCommands2 = data.smsCommands) === null || _data$smsCommands2 === void 0 ? void 0 : (_data$smsCommands2$sm = _data$smsCommands2.smsCommands) === null || _data$smsCommands2$sm === void 0 ? void 0 : _data$smsCommands2$sm.length);\n  const hasCommands = (data === null || data === void 0 ? void 0 : (_data$smsCommands3 = data.smsCommands) === null || _data$smsCommands3 === void 0 ? void 0 : (_data$smsCommands3$sm = _data$smsCommands3.smsCommands) === null || _data$smsCommands3$sm === void 0 ? void 0 : _data$smsCommands3$sm.length) > 0;\n  return /*#__PURE__*/React.createElement(TemplateSidebarNavContent, null, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest('views-smscommandlist'),\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(PageHeadline, null, SMS_COMMAND_LIST_LABEL), /*#__PURE__*/React.createElement(Paragraph, null, i18n.t('SMS commands process SMS messages received by a DHIS2 instance, taking certain actions depending on the command and message content. Multiple SMS commands can be set up to process and handle data in multiple ways. Add and configure SMS commands below. Read about SMS commands in the DHIS2 documentation.')), /*#__PURE__*/React.createElement(ListActions, {\n    addLabel: i18n.t('Add command'),\n    deleteLabel: i18n.t('Delete selected'),\n    onAddClick: onAddCommandClick,\n    onDeleteClick: () => setShowDeleteConfirmationDialog(true),\n    disableAdd: loadingDelete,\n    disableDelete: !checkedSmsCommands.length || loadingDelete\n  }), showDeleteConfirmationDialog && /*#__PURE__*/React.createElement(DeleteConfirmationDialog, {\n    onCancelClick: () => setShowDeleteConfirmationDialog(false),\n    onDeleteClick: onDeleteClick\n  }, i18n.t('Are you sure you want to delete the selected commands?')), /*#__PURE__*/React.createElement(Table, {\n    dataTest: dataTest('views-smscommandlist-commandtable')\n  }, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, null, /*#__PURE__*/React.createElement(Checkbox, {\n    checked: allChecked,\n    onChange: onToggleCallChange\n  })), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Sms command')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Parser')), /*#__PURE__*/React.createElement(TableCellHead, null))), /*#__PURE__*/React.createElement(TableBody, null, hasCommands ? data === null || data === void 0 ? void 0 : (_data$smsCommands4 = data.smsCommands) === null || _data$smsCommands4 === void 0 ? void 0 : (_data$smsCommands4$sm = _data$smsCommands4.smsCommands) === null || _data$smsCommands4$sm === void 0 ? void 0 : _data$smsCommands4$sm.map(({\n    id,\n    displayName,\n    parserType\n  }) => /*#__PURE__*/React.createElement(TableRow, {\n    key: id\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    className: styles.checkbox\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    checked: !!checkedSmsCommands.find(({\n      id: checkedId\n    }) => id === checkedId),\n    onChange: () => toggleSmsCommand({\n      id,\n      displayName\n    })\n  })), /*#__PURE__*/React.createElement(TableCell, null, displayName), /*#__PURE__*/React.createElement(TableCell, null, getLabelByParserTypes(parserType)), /*#__PURE__*/React.createElement(TableCell, {\n    className: styles.editButtonCell\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => history.push(`sms-command/${id}`)\n  }, i18n.t('Edit'))))) : /*#__PURE__*/React.createElement(TableRow, null, /*#__PURE__*/React.createElement(TableCell, {\n    colSpan: \"4\",\n    className: styles.noResults\n  }, i18n.t('No commands to display')))))));\n};","import i18n from '@dhis2/d2-i18n';\nimport { Checkbox } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nexport const FieldEditConfidential = ({\n  editMode,\n  allowConfidentialFieldEdit,\n  setAllowConfidentialFieldEdit,\n  fieldType\n}) => {\n  if (!editMode) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(Checkbox, {\n    label: i18n.t('Edit {{fieldType}}', {\n      fieldType\n    }),\n    checked: allowConfidentialFieldEdit,\n    onChange: () => setAllowConfidentialFieldEdit(prev => !prev)\n  });\n};\nFieldEditConfidential.propTypes = {\n  allowConfidentialFieldEdit: PropTypes.bool.isRequired,\n  editMode: PropTypes.bool.isRequired,\n  setAllowConfidentialFieldEdit: PropTypes.func.isRequired,\n  fieldType: PropTypes.string\n};","import { InputFieldFF, ReactFinalForm, composeValidators, hasValue, string } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FieldGatewayName = () => /*#__PURE__*/React.createElement(Field, {\n  required: true,\n  dataTest: dataTest('smsgateway-fieldgatewayname'),\n  name: \"name\",\n  label: i18n.t('Name'),\n  component: InputFieldFF,\n  validate: composeValidators(string, hasValue)\n});","import { InputFieldFF, ReactFinalForm, composeValidators, hasValue, string } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FIELD_PASSWORD_NAME = 'password';\nexport const FIELD_PASSWORD_LABEL = i18n.t('Password');\nexport const FieldPassword = ({\n  editMode,\n  disabled\n}) => /*#__PURE__*/React.createElement(Field, {\n  required: !editMode,\n  disabled: disabled,\n  placeholder: editMode ? '' : null,\n  type: \"password\",\n  dataTest: dataTest('smsgateway-fieldpassword'),\n  name: FIELD_PASSWORD_NAME,\n  label: FIELD_PASSWORD_LABEL,\n  component: InputFieldFF,\n  validate: disabled ? null : composeValidators(string, hasValue)\n});\nFieldPassword.propTypes = {\n  disabled: PropTypes.bool,\n  editMode: PropTypes.bool\n};","import { InputFieldFF, ReactFinalForm, composeValidators, createEqualTo, hasValue, string } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nimport { FIELD_PASSWORD_LABEL, FIELD_PASSWORD_NAME } from '../FieldPassword/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst equalToPassword = createEqualTo(FIELD_PASSWORD_NAME, FIELD_PASSWORD_LABEL);\nexport const FIELD_PASSWORD_CONFIRMATION_NAME = 'password-confirmation';\nexport const FieldPasswordConfirmation = ({\n  editMode,\n  disabled\n}) => /*#__PURE__*/React.createElement(Field, {\n  required: !editMode,\n  disabled: disabled,\n  placeholder: editMode ? '' : null,\n  type: \"password\",\n  dataTest: dataTest('smsgateway-fieldpasswordconfirmation'),\n  name: FIELD_PASSWORD_CONFIRMATION_NAME,\n  label: i18n.t('Confirm password'),\n  component: InputFieldFF,\n  validate: disabled ? null : composeValidators(string, hasValue, equalToPassword)\n});\nFieldPasswordConfirmation.propTypes = {\n  disabled: PropTypes.bool,\n  editMode: PropTypes.bool\n};","import { InputFieldFF, ReactFinalForm, composeValidators, hasValue, string } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FieldUsername = () => /*#__PURE__*/React.createElement(Field, {\n  required: true,\n  dataTest: dataTest('smsgateway-fieldusername'),\n  name: \"username\",\n  label: i18n.t('User name'),\n  component: InputFieldFF,\n  validate: composeValidators(string, hasValue)\n});","import { PropTypes } from '@dhis2/prop-types';\nimport { Button, ButtonStrip, ReactFinalForm, CircularLoader } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport i18n from '../../locales/index.js';\nimport { FormRow, dataTest, useFeatureToggle } from '../../shared/index.js';\nimport { FieldEditConfidential } from '../FieldEditConfidential/index.js';\nimport { FieldGatewayName } from '../FieldGatewayName/index.js';\nimport { FieldPassword } from '../FieldPassword/index.js';\nimport { FieldPasswordConfirmation } from '../FieldPasswordConfirmation/index.js';\nimport { FieldUsername } from '../FieldUsername/index.js';\nconst {\n  Form\n} = ReactFinalForm;\nexport const FormBulkSMS = ({\n  onCancelClick,\n  onSubmit,\n  initialValues,\n  editMode\n}) => {\n  const submitText = initialValues ? i18n.t('Save gateway') : i18n.t('Add gateway');\n  const {\n    disableConfidentialEdit\n  } = useFeatureToggle();\n  const [allowConfidentialFieldEdit, setAllowConfidentialFieldEdit] = useState(disableConfidentialEdit ? !editMode : true);\n  return /*#__PURE__*/React.createElement(Form, {\n    keepDirtyOnReinitialize: true,\n    onSubmit: onSubmit,\n    initialValues: initialValues\n  }, ({\n    handleSubmit,\n    submitting,\n    pristine\n  }) => /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    \"data-test\": dataTest('smsgateway-formbulksms')\n  }, /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldGatewayName, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldUsername, null)), /*#__PURE__*/React.createElement(FormRow, null, disableConfidentialEdit && /*#__PURE__*/React.createElement(FieldEditConfidential, {\n    editMode: editMode,\n    fieldType: i18n.t('password'),\n    allowConfidentialFieldEdit: allowConfidentialFieldEdit,\n    setAllowConfidentialFieldEdit: setAllowConfidentialFieldEdit\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldPassword, {\n    editMode: editMode,\n    disabled: !allowConfidentialFieldEdit\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldPasswordConfirmation, {\n    editMode: editMode,\n    disabled: !allowConfidentialFieldEdit\n  })), /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    type: \"submit\",\n    icon: submitting ? /*#__PURE__*/React.createElement(CircularLoader, {\n      small: true\n    }) : null,\n    disabled: submitting,\n    dataTest: dataTest('forms-gatewaybulksmsform-submit')\n  }, submitText), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => onCancelClick(pristine)\n  }, i18n.t('Cancel')))));\n};\nFormBulkSMS.defaultProps = {\n  initialValues: {},\n  editMode: false\n};\nFormBulkSMS.propTypes = {\n  onCancelClick: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  editMode: PropTypes.bool,\n  initialValues: PropTypes.object\n};","import { InputFieldFF, ReactFinalForm, composeValidators, hasValue, string } from '@dhis2/ui';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FieldAuthToken = ({\n  editMode,\n  disabled\n}) => /*#__PURE__*/React.createElement(Field, {\n  required: !editMode,\n  disabled: disabled,\n  type: \"password\",\n  placeholder: editMode ? '' : null,\n  dataTest: dataTest('smsgateway-fieldauthtoken'),\n  name: \"authToken\",\n  label: i18n.t('Auth token'),\n  component: InputFieldFF,\n  validate: editMode ? null : composeValidators(string, hasValue)\n});\nFieldAuthToken.propTypes = {\n  disabled: PropTypes.bool,\n  editMode: PropTypes.bool\n};","import { InputFieldFF, ReactFinalForm, composeValidators, hasValue, url } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FieldUrlTemplate = () => /*#__PURE__*/React.createElement(Field, {\n  required: true,\n  dataTest: dataTest('smsgateway-fieldurltemplate'),\n  name: \"urlTemplate\",\n  label: i18n.t('Url template'),\n  component: InputFieldFF,\n  validate: composeValidators(url, hasValue)\n});","import { PropTypes } from '@dhis2/prop-types';\nimport { Button, ButtonStrip, ReactFinalForm, CircularLoader } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport i18n from '../../locales/index.js';\nimport { FormRow, dataTest, useFeatureToggle } from '../../shared/index.js';\nimport { FieldAuthToken } from '../FieldAuthToken/index.js';\nimport { FieldEditConfidential } from '../FieldEditConfidential/index.js';\nimport { FieldGatewayName } from '../FieldGatewayName/index.js';\nimport { FieldUrlTemplate } from '../FieldUrlTemplate/index.js';\nimport { FieldUsername } from '../FieldUsername/index.js';\nconst {\n  Form\n} = ReactFinalForm;\nexport const FormClickatell = ({\n  onCancelClick,\n  onSubmit,\n  initialValues,\n  editMode\n}) => {\n  const submitText = initialValues ? i18n.t('Save gateway') : i18n.t('Add gateway');\n  const {\n    disableConfidentialEdit\n  } = useFeatureToggle();\n  const [allowConfidentialFieldEdit, setAllowConfidentialFieldEdit] = useState(disableConfidentialEdit ? !editMode : true);\n  return /*#__PURE__*/React.createElement(Form, {\n    keepDirtyOnReinitialize: true,\n    onSubmit: onSubmit,\n    initialValues: initialValues\n  }, ({\n    handleSubmit,\n    submitting,\n    pristine\n  }) => /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    \"data-test\": dataTest('smsgateway-formclickatell')\n  }, /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldGatewayName, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldUsername, null)), /*#__PURE__*/React.createElement(FormRow, null, disableConfidentialEdit && /*#__PURE__*/React.createElement(FieldEditConfidential, {\n    editMode: editMode,\n    fieldType: i18n.t('auth token'),\n    allowConfidentialFieldEdit: allowConfidentialFieldEdit,\n    setAllowConfidentialFieldEdit: setAllowConfidentialFieldEdit\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldAuthToken, {\n    editMode: editMode,\n    disabled: !allowConfidentialFieldEdit\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldUrlTemplate, null)), /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    type: \"submit\",\n    icon: submitting ? /*#__PURE__*/React.createElement(CircularLoader, {\n      small: true\n    }) : null,\n    disabled: submitting,\n    dataTest: dataTest('forms-gatewayclickatellform-submit')\n  }, submitText), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => onCancelClick(pristine)\n  }, i18n.t('Cancel')))));\n};\nFormClickatell.defaultProps = {\n  initialValues: {}\n};\nFormClickatell.propTypes = {\n  onCancelClick: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  editMode: PropTypes.bool,\n  initialValues: PropTypes.object\n};","import { Button, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nimport styles from './ActionAddKeyValuePair.module.css';\nconst {\n  useForm\n} = ReactFinalForm;\nexport const ActionAddKeyValuePair = () => {\n  const {\n    change,\n    getState\n  } = useForm();\n\n  const addKeyValueToFormState = () => {\n    const {\n      parameters\n    } = getState().values;\n    change('parameters', [...parameters, {\n      header: false,\n      encode: false,\n      key: '',\n      value: '',\n      confidential: false,\n      unsaved: true\n    }]);\n  };\n\n  return /*#__PURE__*/React.createElement(Button, {\n    className: styles.button,\n    onClick: addKeyValueToFormState,\n    dataTest: dataTest('smsgateway-actionaddkeyvaluepair')\n  }, i18n.t('Add key value pair'));\n};","import { InputFieldFF, ReactFinalForm, composeValidators, hasValue, string } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FieldConfigurationTemplate = () => /*#__PURE__*/React.createElement(Field, {\n  required: true,\n  dataTest: dataTest('smsgateway-fieldconfigurationtemplate'),\n  name: \"configurationTemplate\",\n  label: i18n.t('Configuration template'),\n  component: InputFieldFF,\n  validate: composeValidators(string, hasValue),\n  helpText: i18n.t('Please refer to the documentation for possible values')\n});","import { SingleSelectFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst optionApplicationJson = {\n  label: i18n.t('Application/json'),\n  value: 'APPLICATION_JSON'\n};\nconst optionApplicationXml = {\n  label: i18n.t('Application/xml'),\n  value: 'APPLICATION_XML'\n};\nconst optionFormUrlEncoded = {\n  label: i18n.t('Form url encoded'),\n  value: 'FORM_URL_ENCODED'\n};\nconst optionTextPlain = {\n  label: i18n.t('Plain text'),\n  value: 'TEXT_PLAIN'\n};\nconst options = [optionApplicationJson, optionApplicationXml, optionFormUrlEncoded, optionTextPlain];\nexport const FieldContentType = () => /*#__PURE__*/React.createElement(Field, {\n  dataTest: dataTest('smsgateway-fieldcontenttype'),\n  name: \"contentType\",\n  label: i18n.t('Content type'),\n  component: SingleSelectFieldFF,\n  options: options,\n  initialValue: optionApplicationJson.value\n});","import { PropTypes } from '@dhis2/prop-types';\nimport { InputFieldFF, ReactFinalForm, composeValidators, string, hasValue } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field,\n  useFormState\n} = ReactFinalForm;\nconst isStringWithLengthAtLeastOne = composeValidators(string, hasValue);\nexport const createFieldGatewayKeyValuePairValueName = index => `parameters[${index}].value`;\nexport const ValueField = ({\n  index,\n  editMode,\n  disabled\n}) => {\n  const {\n    confidential\n  } = useFormState().values.parameters[index];\n  return /*#__PURE__*/React.createElement(Field, {\n    type: confidential ? 'password' : 'text',\n    placeholder: editMode && confidential ? '' : null,\n    dataTest: dataTest('smsgateway-fieldkeyvaluepair-value'),\n    name: createFieldGatewayKeyValuePairValueName(index),\n    label: i18n.t('Value'),\n    component: InputFieldFF,\n    validate: editMode ? null : isStringWithLengthAtLeastOne,\n    disabled: disabled\n  });\n};\nValueField.propTypes = {\n  index: PropTypes.number.isRequired,\n  disabled: PropTypes.bool,\n  editMode: PropTypes.bool\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { Button, CheckboxFieldFF, InputFieldFF, ReactFinalForm, composeValidators, hasValue, string } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest, useFeatureToggle } from '../../shared/index.js';\nimport styles from './FieldKeyValuePair.module.css';\nimport { ValueField } from './ValueField.js';\nconst {\n  Field,\n  useForm\n} = ReactFinalForm;\nconst isStringWithLengthAtLeastOne = composeValidators(string, hasValue);\nexport const FieldKeyValuePair = ({\n  index,\n  editMode\n}) => {\n  var _getState$values, _getState$values$para;\n\n  const {\n    change,\n    getState\n  } = useForm();\n  const currentParameter = (_getState$values = getState().values) === null || _getState$values === void 0 ? void 0 : (_getState$values$para = _getState$values.parameters) === null || _getState$values$para === void 0 ? void 0 : _getState$values$para[index];\n  const {\n    confidential: isConfidential,\n    unsaved: isUnsaved\n  } = currentParameter !== null && currentParameter !== void 0 ? currentParameter : {};\n  const {\n    disableConfidentialEdit\n  } = useFeatureToggle();\n  const isDisabled = disableConfidentialEdit && isConfidential && !isUnsaved;\n\n  const removeKeyValueFromFormState = index => {\n    const {\n      parameters\n    } = getState().values;\n\n    if (index === 0) {\n      change('parameters', parameters.slice(1));\n    } else {\n      change('parameters', [...parameters.slice(0, index), ...parameters.slice(index + 1)]);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    \"data-test\": dataTest('smsgateway-fieldkeyvaluepair')\n  }, isDisabled && /*#__PURE__*/React.createElement(\"p\", null, i18n.t('Saved confidential key value pairs can be deleted, but cannot be edited.')), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.textInputs\n  }, /*#__PURE__*/React.createElement(Field, {\n    dataTest: dataTest('smsgateway-fieldkeyvaluepair-key'),\n    className: styles.keyInput,\n    name: `parameters[${index}].key`,\n    label: i18n.t('Key'),\n    component: InputFieldFF,\n    validate: isStringWithLengthAtLeastOne,\n    disabled: isDisabled\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.valueInput\n  }, /*#__PURE__*/React.createElement(ValueField, {\n    index: index,\n    editMode: editMode,\n    disabled: isDisabled\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.checkboxGroup\n  }, /*#__PURE__*/React.createElement(Field, {\n    dataTest: dataTest('smsgateway-fieldkeyvaluepair-isheader'),\n    className: styles.checkbox,\n    type: \"checkbox\",\n    name: `parameters[${index}].header`,\n    label: i18n.t('Send as header'),\n    component: CheckboxFieldFF,\n    disabled: isDisabled\n  }), /*#__PURE__*/React.createElement(Field, {\n    dataTest: dataTest('smsgateway-fieldkeyvaluepair-isencoded'),\n    className: styles.checkbox,\n    type: \"checkbox\",\n    name: `parameters[${index}].encode`,\n    label: i18n.t('Encode'),\n    component: CheckboxFieldFF,\n    disabled: isDisabled\n  }), /*#__PURE__*/React.createElement(Field, {\n    dataTest: dataTest('smsgateway-fieldkeyvaluepair-isconfidential'),\n    className: styles.checkbox,\n    type: \"checkbox\",\n    name: `parameters[${index}].confidential`,\n    label: i18n.t('Confidential'),\n    component: CheckboxFieldFF,\n    disabled: isDisabled\n  })), /*#__PURE__*/React.createElement(Button, {\n    small: true,\n    secondary: true,\n    dataTest: dataTest('smsgateway-fieldkeyvaluepair-remove'),\n    onClick: () => removeKeyValueFromFormState(index)\n  }, i18n.t('Remove key value pair')));\n};\nFieldKeyValuePair.propTypes = {\n  index: PropTypes.number.isRequired,\n  editMode: PropTypes.bool\n};","import { CheckboxFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FieldSendUrlParameters = () => /*#__PURE__*/React.createElement(Field, {\n  type: \"checkbox\",\n  dataTest: dataTest('smsgateway-fieldsendurlparameters'),\n  name: \"sendUrlParameters\",\n  label: i18n.t('Send url parameters'),\n  component: CheckboxFieldFF\n});","import { CheckboxFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FieldUseGet = () => /*#__PURE__*/React.createElement(Field, {\n  type: \"checkbox\",\n  dataTest: dataTest('smsgateway-fielduseget'),\n  name: \"useGet\",\n  label: i18n.t('Use GET'),\n  component: CheckboxFieldFF,\n  helpText: i18n.t('Use GET instead of POST to send data to gateway')\n});","import { PropTypes } from '@dhis2/prop-types';\nimport { Button, ButtonStrip, ReactFinalForm, CircularLoader } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { FormRow, PageSubHeadline, dataTest } from '../../shared/index.js';\nimport { ActionAddKeyValuePair } from '../ActionAddKeyValuePair/index.js';\nimport { FieldConfigurationTemplate } from '../FieldConfigurationTemplate/index.js';\nimport { FieldContentType } from '../FieldContentType/index.js';\nimport { FieldGatewayName } from '../FieldGatewayName/index.js';\nimport { FieldKeyValuePair } from '../FieldKeyValuePair/index.js';\nimport { FieldSendUrlParameters } from '../FieldSendUrlParameters/index.js';\nimport { FieldUrlTemplate } from '../FieldUrlTemplate/index.js';\nimport { FieldUseGet } from '../FieldUseGet/index.js';\nconst {\n  Form\n} = ReactFinalForm;\nexport const FormGeneric = ({\n  onCancelClick,\n  onSubmit,\n  initialValues,\n  editMode\n}) => {\n  const submitText = initialValues ? i18n.t('Save gateway') : i18n.t('Add gateway');\n  return /*#__PURE__*/React.createElement(Form, {\n    keepDirtyOnReinitialize: true,\n    onSubmit: onSubmit,\n    initialValues: initialValues\n  }, ({\n    handleSubmit,\n    values,\n    submitting,\n    pristine\n  }) => /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    \"data-test\": dataTest('smsgateway-formgeneric')\n  }, /*#__PURE__*/React.createElement(PageSubHeadline, null, i18n.t('Gateway setup')), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldGatewayName, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldUrlTemplate, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldConfigurationTemplate, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldContentType, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldUseGet, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldSendUrlParameters, null)), /*#__PURE__*/React.createElement(PageSubHeadline, null, i18n.t('Key value pairs')), values.parameters.map((_, index) => /*#__PURE__*/React.createElement(FieldKeyValuePair, {\n    index: index,\n    key: index,\n    editMode: editMode\n  })), /*#__PURE__*/React.createElement(ActionAddKeyValuePair, null), /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    type: \"submit\",\n    dataTest: dataTest('forms-gatewaygenericform-submit'),\n    disabled: submitting,\n    icon: submitting ? /*#__PURE__*/React.createElement(CircularLoader, {\n      small: true\n    }) : null\n  }, submitText), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => onCancelClick(pristine)\n  }, i18n.t('Cancel')))));\n};\nFormGeneric.defaultProps = {\n  initialValues: {\n    parameters: []\n  }\n};\nFormGeneric.propTypes = {\n  onCancelClick: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  editMode: PropTypes.bool,\n  initialValues: PropTypes.object\n};","import { SingleSelectFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst options = [{\n  label: 'BIND_TX',\n  value: 'BIND_TX'\n}, {\n  label: 'BIND_RX',\n  value: 'BIND_RX'\n}, {\n  label: 'BIND_TRX',\n  value: 'BIND_TRX'\n}];\nexport const FieldBindType = () => /*#__PURE__*/React.createElement(Field, {\n  required: true,\n  dataTest: dataTest('smsgateway-fieldbindtype'),\n  name: \"bindType\",\n  label: i18n.t('Bind type'),\n  component: SingleSelectFieldFF,\n  options: options,\n  defaultValue: options[0]\n});","import { CheckboxFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FieldCompressed = () => /*#__PURE__*/React.createElement(Field, {\n  dataTest: dataTest('smsgateway-fieldcompressed'),\n  name: \"compressed\",\n  type: \"checkbox\",\n  label: i18n.t('Compressed'),\n  component: CheckboxFieldFF,\n  defaultValue: false\n});","import { InputFieldFF, ReactFinalForm, composeValidators, hasValue, string } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FieldHost = () => /*#__PURE__*/React.createElement(Field, {\n  required: true,\n  dataTest: dataTest('smsgateway-fieldhost'),\n  name: \"host\",\n  label: i18n.t('Host'),\n  component: InputFieldFF,\n  validate: composeValidators(string, hasValue)\n});","import { SingleSelectFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst options = [{\n  label: 'UNKNOWN',\n  value: 'UNKNOWN'\n}, {\n  label: 'ISDN',\n  value: 'ISDN'\n}, {\n  label: 'DATA',\n  value: 'DATA'\n}, {\n  label: 'TELEX',\n  value: 'TELEX'\n}, {\n  label: 'LAND_MOBILE',\n  value: 'LAND_MOBILE'\n}, {\n  label: 'NATIONAL',\n  value: 'NATIONAL'\n}, {\n  label: 'PRIVATE',\n  value: 'PRIVATE'\n}, {\n  label: 'ERMES',\n  value: 'ERMES'\n}, {\n  label: 'INTERNET',\n  value: 'INTERNET'\n}, {\n  label: 'WAP',\n  value: 'WAP'\n}];\nexport const FieldNumberPlanIndicator = () => /*#__PURE__*/React.createElement(Field, {\n  required: true,\n  dataTest: dataTest('smsgateway-fieldnumberplanindicator'),\n  name: \"numberPlanIndicator\",\n  label: i18n.t('Number plan indicator'),\n  component: SingleSelectFieldFF,\n  options: options,\n  defaultValue: options[0]\n});","import { InputFieldFF, ReactFinalForm, composeValidators, hasValue, integer } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FieldPort = () => /*#__PURE__*/React.createElement(Field, {\n  required: true,\n  dataTest: dataTest('smsgateway-fieldport'),\n  name: \"port\",\n  label: i18n.t('Port'),\n  component: InputFieldFF,\n  validate: composeValidators(integer, hasValue)\n});","import { InputFieldFF, ReactFinalForm, composeValidators, hasValue, string } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FieldSystemId = () => /*#__PURE__*/React.createElement(Field, {\n  required: true,\n  dataTest: dataTest('smsgateway-fieldsystemid'),\n  name: \"systemId\",\n  label: i18n.t('System id'),\n  component: InputFieldFF,\n  validate: composeValidators(string, hasValue)\n});","import { InputFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nexport const FieldSystemType = () => /*#__PURE__*/React.createElement(Field, {\n  dataTest: dataTest('smsgateway-fieldsystemtype'),\n  name: \"systemType\",\n  label: i18n.t('System type'),\n  component: InputFieldFF,\n  defaultValue: \"\"\n});","import { SingleSelectFieldFF, ReactFinalForm } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nconst {\n  Field\n} = ReactFinalForm;\nconst options = [{\n  label: 'UNKNOWN',\n  value: 'UNKNOWN'\n}, {\n  label: 'INTERNATIONAL',\n  value: 'INTERNATIONAL'\n}, {\n  label: 'NATIONAL',\n  value: 'NATIONAL'\n}, {\n  label: 'NETWORK_SPECIFIC',\n  value: 'NETWORK_SPECIFIC'\n}, {\n  label: 'SUBSCRIBER_NUMBER',\n  value: 'SUBSCRIBER_NUMBER'\n}, {\n  label: 'ALPHANUMERIC',\n  value: 'ALPHANUMERIC'\n}, {\n  label: 'ABBREVIATED',\n  value: 'ABBREVIATED'\n}];\nexport const FieldTypeOfNumber = () => /*#__PURE__*/React.createElement(Field, {\n  required: true,\n  dataTest: dataTest('smsgateway-fieldtypeofnumber'),\n  name: \"typeOfNumber\",\n  label: i18n.t('Type of number'),\n  component: SingleSelectFieldFF,\n  options: options,\n  defaultValue: options[0]\n});","import { PropTypes } from '@dhis2/prop-types';\nimport { Button, ButtonStrip, ReactFinalForm, CircularLoader } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport i18n from '../../locales/index.js';\nimport { FormRow, dataTest, useFeatureToggle } from '../../shared/index.js';\nimport { FieldBindType } from '../FieldBindType/index.js';\nimport { FieldCompressed } from '../FieldCompressed/index.js';\nimport { FieldEditConfidential } from '../FieldEditConfidential/index.js';\nimport { FieldGatewayName } from '../FieldGatewayName/index.js';\nimport { FieldHost } from '../FieldHost/index.js';\nimport { FieldNumberPlanIndicator } from '../FieldNumberPlanIndicator/index.js';\nimport { FieldPassword } from '../FieldPassword/index.js';\nimport { FieldPort } from '../FieldPort/index.js';\nimport { FieldSystemId } from '../FieldSystemId/index.js';\nimport { FieldSystemType } from '../FieldSystemType/index.js';\nimport { FieldTypeOfNumber } from '../FieldTypeOfNumber/index.js';\nconst {\n  Form\n} = ReactFinalForm;\nexport const FormSMPP = ({\n  onCancelClick,\n  onSubmit,\n  initialValues,\n  editMode\n}) => {\n  const submitText = initialValues ? i18n.t('Save gateway') : i18n.t('Add gateway');\n  const {\n    disableConfidentialEdit\n  } = useFeatureToggle();\n  const [allowConfidentialFieldEdit, setAllowConfidentialFieldEdit] = useState(disableConfidentialEdit ? !editMode : true);\n  return /*#__PURE__*/React.createElement(Form, {\n    keepDirtyOnReinitialize: true,\n    onSubmit: onSubmit,\n    initialValues: initialValues\n  }, ({\n    handleSubmit,\n    submitting,\n    pristine\n  }) => /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    \"data-test\": dataTest('smsgateway-formsmpp')\n  }, /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldGatewayName, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldSystemId, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldHost, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldSystemType, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldNumberPlanIndicator, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldTypeOfNumber, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldBindType, null)), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldPort, null)), /*#__PURE__*/React.createElement(FormRow, null, disableConfidentialEdit && /*#__PURE__*/React.createElement(FieldEditConfidential, {\n    editMode: editMode,\n    fieldType: i18n.t('password'),\n    allowConfidentialFieldEdit: allowConfidentialFieldEdit,\n    setAllowConfidentialFieldEdit: setAllowConfidentialFieldEdit\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldPassword, {\n    editMode: editMode,\n    disabled: !allowConfidentialFieldEdit\n  })), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(FieldCompressed, null)), /*#__PURE__*/React.createElement(ButtonStrip, null, /*#__PURE__*/React.createElement(Button, {\n    primary: true,\n    type: \"submit\",\n    icon: submitting ? /*#__PURE__*/React.createElement(CircularLoader, {\n      small: true\n    }) : null,\n    disabled: submitting,\n    dataTest: dataTest('forms-gatewaysmppform-submit')\n  }, submitText), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => onCancelClick(pristine)\n  }, i18n.t('Cancel')))));\n};\nFormSMPP.defaultProps = {\n  initialValues: {}\n};\nFormSMPP.propTypes = {\n  onCancelClick: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  editMode: PropTypes.bool,\n  initialValues: PropTypes.object\n};","const GENERIC_FORM = 'http';\nconst BULK_SMS_FORM = 'bulksms';\nconst CLICKATELL_FORM = 'clickatell';\nconst SMPP_FORM = 'smpp';\nexport const gatewayTypes = {\n  GENERIC_FORM,\n  BULK_SMS_FORM,\n  CLICKATELL_FORM,\n  SMPP_FORM\n};","import { SingleSelectField, SingleSelectOption } from '@dhis2/ui';\nimport { PropTypes } from 'prop-types';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nimport { gatewayTypes } from './gatewayTypes.js';\nconst {\n  GENERIC_FORM,\n  BULK_SMS_FORM,\n  CLICKATELL_FORM,\n  SMPP_FORM\n} = gatewayTypes;\nexport const InputSingleSelectGatewayType = ({\n  onChange,\n  selected\n}) => /*#__PURE__*/React.createElement(SingleSelectField, {\n  label: i18n.t('Type'),\n  onChange: onChange,\n  selected: selected,\n  dataTest: dataTest('smsgateway-viewsmsgatewayadd-gatewaytype')\n}, /*#__PURE__*/React.createElement(SingleSelectOption, {\n  value: GENERIC_FORM,\n  label: i18n.t('Generic')\n}), /*#__PURE__*/React.createElement(SingleSelectOption, {\n  value: BULK_SMS_FORM,\n  label: i18n.t('BulkSMS')\n}), /*#__PURE__*/React.createElement(SingleSelectOption, {\n  value: CLICKATELL_FORM,\n  label: i18n.t('Clickatell')\n}), /*#__PURE__*/React.createElement(SingleSelectOption, {\n  value: SMPP_FORM,\n  label: i18n.t('SMPP')\n}));\nInputSingleSelectGatewayType.propTypes = {\n  selected: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired\n};","import { useDataMutation } from '@dhis2/app-runtime';\nexport const CREATE_BULK_SMS_GATEWAY_MUTATION = {\n  resource: 'gateways',\n  type: 'create',\n  data: ({\n    name,\n    username,\n    password\n  }) => ({\n    type: 'bulksms',\n    name,\n    username,\n    password\n  })\n};\nexport const useCreateBulkSMSGatewayMutation = () => useDataMutation(CREATE_BULK_SMS_GATEWAY_MUTATION);","import { useDataMutation } from '@dhis2/app-runtime';\nexport const CREATE_CLICKATELL_GATEWAY_MUTATION = {\n  resource: 'gateways',\n  type: 'create',\n  data: ({\n    name,\n    username,\n    authToken,\n    urlTemplate\n  }) => ({\n    type: 'clickatell',\n    name,\n    username,\n    authToken,\n    urlTemplate\n  })\n};\nexport const useCreateClickatellGatewayMutation = () => useDataMutation(CREATE_CLICKATELL_GATEWAY_MUTATION);","/**\n * This the shape of the additional fields\n * that can be added to a generic config\n *\n * @typedef {Object} Parameter\n * @prop {string} key\n * @prop {string} value\n * @prop {bool} header\n * @prop {bool} encode\n * @prop {bool} confidential\n */\n\n/**\n * @param {Object} args\n * @param {string} args.configurationTemplate\n * @param {string} args.contentType\n * @param {string} args.name\n * @param {string} args.urlTemplate\n * @param {bool} args.sendUrlParameters\n * @param {bool} args.useGet\n * @param {Parameter[]} args.parameters\n *\n * @returns {Object}\n */\nexport const createGenericGateWayDataFromVariables = ({\n  configurationTemplate,\n  contentType,\n  name,\n  parameters,\n  sendUrlParameters,\n  urlTemplate,\n  useGet\n}) => ({\n  type: 'http',\n  configurationTemplate,\n  contentType,\n  name,\n  parameters: parameters.filter(p => {\n    var _p$value;\n\n    return p.confidential || ((_p$value = p.value) === null || _p$value === void 0 ? void 0 : _p$value.length);\n  }),\n  sendUrlParameters,\n  urlTemplate,\n  useGet\n});","import { useDataMutation } from '@dhis2/app-runtime';\nimport { createGenericGateWayDataFromVariables } from '../createGenericGateWayDataFromVariables/index.js';\nexport const CREATE_GENERIC_GATEWAY_MUTATION = {\n  resource: 'gateways',\n  type: 'create',\n  data: createGenericGateWayDataFromVariables\n};\nexport const useCreateGenericGatewayMutation = () => useDataMutation(CREATE_GENERIC_GATEWAY_MUTATION);","import { useDataMutation } from '@dhis2/app-runtime';\nexport const CREATE_SMPP_GATEWAY_MUTATION = {\n  resource: 'gateways',\n  type: 'create',\n  data: ({\n    name,\n    systemId,\n    host,\n    systemType,\n    numberPlanIndicator,\n    typeOfNumber,\n    bindType,\n    port,\n    password,\n    compressed\n  }) => ({\n    type: 'smpp',\n    name,\n    systemId,\n    host,\n    systemType,\n    numberPlanIndicator,\n    typeOfNumber,\n    bindType,\n    port,\n    password,\n    compressed\n  })\n};\nexport const useCreateSMPPGatewayMutation = () => useDataMutation(CREATE_SMPP_GATEWAY_MUTATION);","import { SingleSelectField, SingleSelectOption, NoticeBox } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport i18n from '../../locales/index.js';\nimport { FormRow, PageHeadline, TemplateSidebarNavContent, dataTest } from '../../shared/index.js';\nimport { FormBulkSMS } from '../FormBulkSMS/index.js';\nimport { FormClickatell } from '../FormClickatell/index.js';\nimport { FormGeneric } from '../FormGeneric/index.js';\nimport { FormSMPP } from '../FormSMPP/index.js';\nimport { gatewayTypes } from '../InputSingleSelectGatewayType/index.js';\nimport { useCreateBulkSMSGatewayMutation } from './useCreateBulkSMSGatewayMutation.js';\nimport { useCreateClickatellGatewayMutation } from './useCreateClickatellGatewayMutation.js';\nimport { useCreateGenericGatewayMutation } from './useCreateGenericGatewayMutation.js';\nimport { useCreateSMPPGatewayMutation } from './useCreateSMPPGatewayMutation.js';\nimport styles from './ViewSmsGatewayAdd.module.css';\nconst {\n  GENERIC_FORM,\n  BULK_SMS_FORM,\n  CLICKATELL_FORM,\n  SMPP_FORM\n} = gatewayTypes;\nexport const GATEWAY_CONFIG_FORM_NEW_PATH = '/sms-gateway/new';\nexport const ViewSmsGatewayAdd = () => {\n  const history = useHistory();\n  const [visibleForm, setVisibleForm] = useState(GENERIC_FORM);\n  const [saveGenericGateway, {\n    error: saveGenericGatewayError\n  }] = useCreateGenericGatewayMutation();\n  const [saveBulkSMSGateway, {\n    error: saveBulkSMSGatewayError\n  }] = useCreateBulkSMSGatewayMutation();\n  const [saveClickatellGateway, {\n    error: saveClickatellGatewayError\n  }] = useCreateClickatellGatewayMutation();\n  const [saveSMPPGateway, {\n    error: saveSMPPGatewayError\n  }] = useCreateSMPPGatewayMutation();\n  const error = saveGenericGatewayError || saveBulkSMSGatewayError || saveClickatellGatewayError || saveSMPPGatewayError;\n\n  if (error) {\n    const msg = i18n.t('Something went wrong whilst saving the gateway');\n    return /*#__PURE__*/React.createElement(TemplateSidebarNavContent, null, /*#__PURE__*/React.createElement(\"div\", {\n      \"data-test\": dataTest('smsgateway-viewsmsgatewayadd')\n    }, /*#__PURE__*/React.createElement(PageHeadline, null, i18n.t('Add gateway')), /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: msg\n    }, error.message)));\n  }\n\n  const onSubmit = async values => {\n    try {\n      if (visibleForm === GENERIC_FORM) {\n        await saveGenericGateway(values);\n      }\n\n      if (visibleForm === BULK_SMS_FORM) {\n        await saveBulkSMSGateway(values);\n      }\n\n      if (visibleForm === CLICKATELL_FORM) {\n        await saveClickatellGateway(values);\n      }\n\n      if (visibleForm === SMPP_FORM) {\n        await saveSMPPGateway(values);\n      }\n\n      history.push('/sms-gateway');\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  const onCancelClick = () => history.push('/sms-gateway');\n\n  return /*#__PURE__*/React.createElement(TemplateSidebarNavContent, null, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest('smsgateway-viewsmsgatewayadd'),\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(PageHeadline, null, i18n.t('Add gateway')), /*#__PURE__*/React.createElement(FormRow, null, /*#__PURE__*/React.createElement(SingleSelectField, {\n    label: i18n.t('Type'),\n    onChange: ({\n      selected\n    }) => setVisibleForm(selected),\n    selected: visibleForm,\n    dataTest: dataTest('smsgateway-viewsmsgatewayadd-gatewaytype')\n  }, /*#__PURE__*/React.createElement(SingleSelectOption, {\n    value: GENERIC_FORM,\n    label: i18n.t('Generic')\n  }), /*#__PURE__*/React.createElement(SingleSelectOption, {\n    value: BULK_SMS_FORM,\n    label: i18n.t('BulkSMS')\n  }), /*#__PURE__*/React.createElement(SingleSelectOption, {\n    value: CLICKATELL_FORM,\n    label: i18n.t('Clickatell')\n  }), /*#__PURE__*/React.createElement(SingleSelectOption, {\n    value: SMPP_FORM,\n    label: i18n.t('SMPP')\n  }))), /*#__PURE__*/React.createElement(FormRow, null, visibleForm === GENERIC_FORM && /*#__PURE__*/React.createElement(FormGeneric, {\n    onSubmit: onSubmit,\n    onCancelClick: onCancelClick\n  }), visibleForm === BULK_SMS_FORM && /*#__PURE__*/React.createElement(FormBulkSMS, {\n    onSubmit: onSubmit,\n    passwordRequired: true,\n    onCancelClick: onCancelClick\n  }), visibleForm === CLICKATELL_FORM && /*#__PURE__*/React.createElement(FormClickatell, {\n    onSubmit: onSubmit,\n    passwordRequired: true,\n    onCancelClick: onCancelClick\n  }), visibleForm === SMPP_FORM && /*#__PURE__*/React.createElement(FormSMPP, {\n    onSubmit: onSubmit,\n    passwordRequired: true,\n    onCancelClick: onCancelClick\n  }))));\n};","import { useDataQuery } from '@dhis2/app-runtime';\n/**\n * @TODO:\n *   * The \"fields\" param does not work\n *     -> https://jira.dhis2.org/browse/DHIS2-9241\n *   * id field is not present, only uid\n *     -> https://jira.dhis2.org/browse/DHIS2-9249\n *   * Api does not return password of BulkSMS gateway configs\n *     -> https://jira.dhis2.org/browse/DHIS2-9248\n */\n\nexport const GATEWAY_QUERY = {\n  gateway: {\n    resource: 'gateways',\n    id: ({\n      id\n    }) => id\n  }\n};\nexport const useReadGatewayQuery = id => useDataQuery(GATEWAY_QUERY, {\n  variables: {\n    id\n  }\n});","import { useDataEngine } from '@dhis2/app-runtime';\nimport { useState } from 'react';\n/**\n * @TODO\n *   * Create jira issue: Make `useDataMutation` accept function for \"id\"\n */\n\n/**\n * @param {Object} query\n * @returns {Object}\n */\n\nexport const useUpdateGatewayMutation = query => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const engine = useDataEngine();\n\n  const doFetch = variables => {\n    const updatedQuery = { ...query,\n      id: variables.id\n    };\n    setLoading(true);\n    setError(null);\n    return engine.mutate(updatedQuery, {\n      variables\n    }).then(data => {\n      setLoading(false);\n      return data;\n    }).catch(error => {\n      setLoading(false);\n      setError(error);\n      throw error;\n    });\n  };\n\n  return [doFetch, {\n    loading,\n    error\n  }];\n};","import { useUpdateGatewayMutation } from './useUpdateGatewayMutation.js';\nexport const UPDATE_BULK_SMS_GATEWAY_MUTATION = {\n  resource: 'gateways',\n  id: ({\n    id\n  }) => id,\n  type: 'update',\n  data: ({\n    name,\n    username,\n    password\n  }) => {\n    const data = {\n      type: 'bulksms',\n      name,\n      username\n    };\n\n    if (password) {\n      data.password = password;\n    }\n\n    return data;\n  }\n};\nexport const useUpdateBulkSMSGatewayMutation = () => useUpdateGatewayMutation(UPDATE_BULK_SMS_GATEWAY_MUTATION);","import { useUpdateGatewayMutation } from './useUpdateGatewayMutation.js';\nexport const UPDATE_CLICKATELL_GATEWAY_MUTATION = {\n  resource: 'gateways',\n  id: ({\n    id\n  }) => id,\n  type: 'update',\n  data: ({\n    name,\n    username,\n    authToken,\n    urlTemplate\n  }) => {\n    const data = {\n      type: 'clickatell',\n      name,\n      username,\n      urlTemplate\n    };\n\n    if (authToken) {\n      data.authToken = authToken;\n    }\n\n    return data;\n  }\n};\nexport const useUpdateClickatellGatewayMutation = () => useUpdateGatewayMutation(UPDATE_CLICKATELL_GATEWAY_MUTATION);","import { createGenericGateWayDataFromVariables } from '../createGenericGateWayDataFromVariables/index.js';\nimport { useUpdateGatewayMutation } from './useUpdateGatewayMutation.js';\nexport const UPDATE_GENERIC_GATEWAY_MUTATION = {\n  resource: 'gateways',\n  id: ({\n    id\n  }) => id,\n  type: 'replace',\n  data: createGenericGateWayDataFromVariables\n};\nexport const useUpdateGenericGatewayMutation = () => useUpdateGatewayMutation(UPDATE_GENERIC_GATEWAY_MUTATION);","import { useUpdateGatewayMutation } from './useUpdateGatewayMutation.js';\nexport const UPDATE_SMPP_GATEWAY_MUTATION = {\n  resource: 'gateways',\n  id: ({\n    id\n  }) => id,\n  type: 'update',\n  data: ({\n    name,\n    systemId,\n    host,\n    systemType,\n    numberPlanIndicator,\n    typeOfNumber,\n    bindType,\n    port,\n    password,\n    compressed\n  }) => {\n    const data = {\n      type: 'smpp',\n      name,\n      systemId,\n      host,\n      systemType,\n      numberPlanIndicator,\n      typeOfNumber,\n      bindType,\n      port,\n      compressed\n    };\n\n    if (password) {\n      data.password = password;\n    }\n\n    return data;\n  }\n};\nexport const useUpdateSMPPGatewayMutation = () => useUpdateGatewayMutation(UPDATE_SMPP_GATEWAY_MUTATION);","import { NoticeBox, CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport i18n from '../../locales/index.js';\nimport { CancelDialog, PageHeadline, TemplateSidebarNavContent, dataTest, useFeatureToggle } from '../../shared/index.js';\nimport { FIELD_PASSWORD_NAME } from '../FieldPassword/index.js';\nimport { FIELD_PASSWORD_CONFIRMATION_NAME } from '../FieldPasswordConfirmation/index.js';\nimport { FormBulkSMS } from '../FormBulkSMS/index.js';\nimport { FormClickatell } from '../FormClickatell/index.js';\nimport { FormGeneric } from '../FormGeneric/index.js';\nimport { FormSMPP } from '../FormSMPP/index.js';\nimport { gatewayTypes } from '../InputSingleSelectGatewayType/index.js';\nimport { useReadGatewayQuery } from './useReadGatewayQuery.js';\nimport { useUpdateBulkSMSGatewayMutation } from './useUpdateBulkSMSGatewayMutation.js';\nimport { useUpdateClickatellGatewayMutation } from './useUpdateClickatellGatewayMutation.js';\nimport { useUpdateGenericGatewayMutation } from './useUpdateGenericGatewayMutation.js';\nimport { useUpdateSMPPGatewayMutation } from './useUpdateSMPPGatewayMutation.js';\nimport styles from './ViewSmsGatewayEdit.module.css';\nconst {\n  GENERIC_FORM,\n  BULK_SMS_FORM,\n  CLICKATELL_FORM,\n  SMPP_FORM\n} = gatewayTypes;\nexport const GATEWAY_CONFIG_FORM_EDIT_PATH_STATIC = '/sms-gateway/edit';\nexport const GATEWAY_CONFIG_FORM_EDIT_PATH = `${GATEWAY_CONFIG_FORM_EDIT_PATH_STATIC}/:id`;\n\nconst getFormComponent = gatewayType => {\n  if (gatewayType === GENERIC_FORM) {\n    return FormGeneric;\n  }\n\n  if (gatewayType === BULK_SMS_FORM) {\n    return FormBulkSMS;\n  }\n\n  if (gatewayType === CLICKATELL_FORM) {\n    return FormClickatell;\n  }\n\n  if (gatewayType === SMPP_FORM) {\n    return FormSMPP;\n  }\n\n  throw new Error(`The gateway type does not exist, got \"${gatewayType}\"`);\n};\n\nconst getInitialValues = (gateway, disableConfidentialEdit) => {\n  const filteredParameters = gateway !== null && gateway !== void 0 && gateway.parameters ? gateway.parameters.map(param => param !== null && param !== void 0 && param.confidential ? { ...param,\n    value: disableConfidentialEdit ? null : param === null || param === void 0 ? void 0 : param.value\n  } : param) : null;\n  const initialValues = { ...gateway,\n    password: disableConfidentialEdit ? null : gateway === null || gateway === void 0 ? void 0 : gateway.password,\n    authToken: disableConfidentialEdit ? null : gateway === null || gateway === void 0 ? void 0 : gateway.authToken,\n    parameters: filteredParameters\n  };\n\n  if (!disableConfidentialEdit && gateway.type === BULK_SMS_FORM) {\n    initialValues[FIELD_PASSWORD_CONFIRMATION_NAME] = gateway[FIELD_PASSWORD_NAME];\n  }\n\n  return initialValues;\n};\n\nexport const ViewSmsGatewayEdit = () => {\n  var _data$gateway;\n\n  const history = useHistory();\n  const {\n    id\n  } = useParams();\n  const [showCancelDialog, setShowCancelDialog] = useState(false);\n  const {\n    loading,\n    error: loadError,\n    data: jsonData\n  } = useReadGatewayQuery(id);\n  const [saveGenericGateway, {\n    error: saveGenericGatewayError\n  }] = useUpdateGenericGatewayMutation();\n  const [saveBulkSMSGateway, {\n    error: saveBulkSMSGatewayError\n  }] = useUpdateBulkSMSGatewayMutation();\n  const [saveClickatellGateway, {\n    error: saveClickatellGatewayError\n  }] = useUpdateClickatellGatewayMutation();\n  const [saveSMPPGateway, {\n    error: saveSMPPGatewayError\n  }] = useUpdateSMPPGatewayMutation();\n  const {\n    disableConfidentialEdit\n  } = useFeatureToggle();\n  const saveError = saveGenericGatewayError || saveBulkSMSGatewayError || saveClickatellGatewayError || saveSMPPGatewayError;\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(TemplateSidebarNavContent, null, /*#__PURE__*/React.createElement(PageHeadline, null, i18n.t('Edit')), /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null)));\n  }\n\n  if (loadError) {\n    const msg = i18n.t('Something went wrong whilst loading gateways');\n    return /*#__PURE__*/React.createElement(TemplateSidebarNavContent, null, /*#__PURE__*/React.createElement(PageHeadline, null, i18n.t('Edit')), /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: msg\n    }, loadError.message));\n  }\n\n  const data =\n  /**\n   * @TODO:\n   *   * The response does not contain the right content type header\n   *     -> https://jira.dhis2.org/browse/DHIS2-9252\n   */\n  jsonData && typeof jsonData.gateway === 'string' ? {\n    gateway: JSON.parse(jsonData.gateway)\n  } : jsonData;\n  const gatewayType = data === null || data === void 0 ? void 0 : (_data$gateway = data.gateway) === null || _data$gateway === void 0 ? void 0 : _data$gateway.type;\n\n  const onSubmit = async formValues => {\n    const values = { ...formValues,\n      id: data.gateway.uid\n    };\n\n    try {\n      if (values.type === GENERIC_FORM) {\n        await saveGenericGateway(values);\n      }\n\n      if (values.type === BULK_SMS_FORM) {\n        await saveBulkSMSGateway(values);\n      }\n\n      if (values.type === CLICKATELL_FORM) {\n        await saveClickatellGateway(values);\n      }\n\n      if (values.type === SMPP_FORM) {\n        await saveSMPPGateway(values);\n      }\n\n      history.push('/sms-gateway');\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  const FormComponent = getFormComponent(gatewayType);\n  const initialValues = gatewayType && getInitialValues(data.gateway, disableConfidentialEdit);\n  return /*#__PURE__*/React.createElement(TemplateSidebarNavContent, null, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest('smsgateway-viewsmsgatewayedit'),\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(PageHeadline, null, i18n.t('Edit gateway')), gatewayType ? /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest('smsgateway-viewsmsgatewayedit-formcontainer'),\n    \"data-gateway-id\": data.gateway.uid\n  }, saveError && /*#__PURE__*/React.createElement(NoticeBox, {\n    error: true,\n    title: i18n.t('Something went wrong whilst saving gateways')\n  }, saveError.message), /*#__PURE__*/React.createElement(FormComponent, {\n    initialValues: initialValues,\n    onSubmit: onSubmit,\n    onCancelClick: pristine => pristine ? history.push('/sms-gateway') : setShowCancelDialog(true),\n    editMode: true\n  })) : /*#__PURE__*/React.createElement(NoticeBox, {\n    error: true,\n    title: i18n.t('Gateway not found')\n  }, i18n.t('The requested gateway could not be loaded')), showCancelDialog && /*#__PURE__*/React.createElement(CancelDialog, {\n    onConfirmCancel: () => history.push('/sms-gateway'),\n    onAbortCancel: () => setShowCancelDialog(false)\n  })));\n};","import i18n from '../../locales/index.js';\n/**\n * @param {string} type\n * @returns {string}\n */\n\nexport const getTypeLabelByType = type => {\n  if (type === 'bulksms') {\n    return i18n.t('BulkSMS');\n  }\n\n  if (type === 'clickatell') {\n    return i18n.t('Clickatell');\n  }\n\n  if (type === 'http' || !type) {\n    return i18n.t('Generic');\n  }\n\n  return type;\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { Button, ButtonStrip, Checkbox, Table, TableHead, TableBody, TableRowHead, TableCellHead, TableRow, TableCell } from '@dhis2/ui';\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nimport styles from './GatewaysTable.module.css';\nimport { getTypeLabelByType } from './getTypeLabelByType.js';\nexport const GatewaysTable = ({\n  allGatewaysChecked,\n  checkedGateways,\n  gateways,\n  onGatewayToggle,\n  onToggleAll,\n  onMakeDefaultClick\n}) => {\n  const history = useHistory();\n  return /*#__PURE__*/React.createElement(Table, {\n    dataTest: dataTest('smsgateway-stable')\n  }, /*#__PURE__*/React.createElement(TableHead, null, /*#__PURE__*/React.createElement(TableRowHead, null, /*#__PURE__*/React.createElement(TableCellHead, {\n    dataTest: dataTest('smsgateway-table-checkall')\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    onChange: onToggleAll,\n    checked: allGatewaysChecked\n  })), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Name')), /*#__PURE__*/React.createElement(TableCellHead, null, i18n.t('Type')), /*#__PURE__*/React.createElement(TableCellHead, null), /*#__PURE__*/React.createElement(TableCellHead, null))), /*#__PURE__*/React.createElement(TableBody, null, gateways.map(gateway => /*#__PURE__*/React.createElement(TableRow, {\n    key: gateway.uid,\n    dataTest: dataTest('smsgateway-table-row')\n  }, /*#__PURE__*/React.createElement(TableCell, {\n    className: styles.checkboxCell,\n    dataTest: dataTest('smsgateway-table-checkbox')\n  }, /*#__PURE__*/React.createElement(Checkbox, {\n    value: gateway.uid,\n    onChange: () => onGatewayToggle(gateway.uid),\n    checked: checkedGateways.includes(gateway.uid),\n    dataTest: dataTest('smsgateway-table-id')\n  })), /*#__PURE__*/React.createElement(TableCell, {\n    dataTest: dataTest('smsgateway-table-name')\n  }, gateway.name), /*#__PURE__*/React.createElement(TableCell, {\n    className: styles.typeCell,\n    dataTest: dataTest('smsgateway-table-type')\n  }, getTypeLabelByType(gateway.type)), /*#__PURE__*/React.createElement(TableCell, {\n    className: styles.defaultCell\n  }, !gateway.isDefault ? /*#__PURE__*/React.createElement(Button, {\n    dataTest: dataTest('smsgateway-table-makedefault'),\n    onClick: () => onMakeDefaultClick(gateway.uid),\n    className: styles.makeDefaultButton\n  }, i18n.t('Make default')) : /*#__PURE__*/React.createElement(\"span\", {\n    className: styles.isDefaultText,\n    \"data-test\": dataTest('smsgateway-table-isdefault')\n  }, i18n.t('Default gateway'))), /*#__PURE__*/React.createElement(TableCell, {\n    dataTest: dataTest('smsgateway-table-actions'),\n    className: styles.editCell\n  }, /*#__PURE__*/React.createElement(ButtonStrip, {\n    className: styles.rowActions\n  }, /*#__PURE__*/React.createElement(Button, {\n    dataTest: dataTest('smsgateway-table-edit'),\n    onClick: () => {\n      history.push(`sms-gateway/${gateway.uid}`);\n    }\n  }, i18n.t('Edit'))))))));\n};\nGatewaysTable.propTypes = {\n  checkedGateways: PropTypes.arrayOf(PropTypes.string).isRequired,\n  gateways: PropTypes.arrayOf(PropTypes.shape({\n    isDefault: PropTypes.bool.isRequired,\n    name: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    uid: PropTypes.string.isRequired\n  })).isRequired,\n  onGatewayToggle: PropTypes.func.isRequired,\n  onMakeDefaultClick: PropTypes.func.isRequired,\n  onToggleAll: PropTypes.func.isRequired,\n  allGatewaysChecked: PropTypes.bool\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { CircularLoader } from '@dhis2/ui';\nimport React from 'react';\nimport { dataTest } from '../../shared/index.js';\nimport { GatewaysTable } from './GatewaysTable.js';\nimport styles from './List.module.css';\nexport const List = ({\n  checkedGateways,\n  gateways,\n  setCheckedGateways,\n  onMakeDefaultClick,\n  processing\n}) => {\n  const allGatewaysChecked = checkedGateways.length === gateways.length;\n\n  const toggleGateway = id => {\n    if (checkedGateways.includes(id)) {\n      const index = checkedGateways.findIndex(curId => curId === id);\n      const newCheckedGateways = index === 0 ? checkedGateways.slice(1) : [...checkedGateways.slice(0, index), ...checkedGateways.slice(index + 1)];\n      setCheckedGateways(newCheckedGateways);\n    } else {\n      setCheckedGateways([...checkedGateways, id]);\n    }\n  };\n\n  const toggleAll = () => {\n    if (!allGatewaysChecked) {\n      const allGatewayIds = gateways.map(({\n        uid\n      }) => uid);\n      setCheckedGateways(allGatewayIds);\n    } else {\n      setCheckedGateways([]);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    \"data-test\": dataTest('smsgateway-viewsmsgatewaylist-list')\n  }, processing && /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.processingMessage\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.loadingContainer\n  }, /*#__PURE__*/React.createElement(CircularLoader, null))), /*#__PURE__*/React.createElement(GatewaysTable, {\n    allGatewaysChecked: allGatewaysChecked,\n    gateways: gateways,\n    checkedGateways: checkedGateways,\n    onGatewayToggle: toggleGateway,\n    onMakeDefaultClick: onMakeDefaultClick,\n    onToggleAll: toggleAll\n  }));\n};\nList.propTypes = {\n  checkedGateways: PropTypes.arrayOf(PropTypes.string).isRequired,\n  gateways: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    type: PropTypes.string.isRequired,\n    uid: PropTypes.string.isRequired,\n    isDefault: PropTypes.bool\n  })).isRequired,\n  setCheckedGateways: PropTypes.func.isRequired,\n  onMakeDefaultClick: PropTypes.func.isRequired,\n  processing: PropTypes.bool\n};","import { useDataEngine } from '@dhis2/app-runtime';\nimport { useState } from 'react';\nexport const DELETE_GATEWAY_MUTATION = {\n  resource: 'gateways',\n  type: 'delete',\n  id: ({\n    id\n  }) => id\n};\n\nconst idToMutationRequestFactory = engine => id => {\n  const variables = {\n    id\n  };\n  return engine.mutate(DELETE_GATEWAY_MUTATION, {\n    variables\n  });\n};\n\nexport const useDeleteGatewaysMutation = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const engine = useDataEngine();\n  const idToMutationRequest = idToMutationRequestFactory(engine);\n\n  const onStart = () => setLoading(true);\n\n  const onDone = response => {\n    setLoading(false);\n    return response;\n  };\n\n  const onError = error => {\n    setError(error);\n    setLoading(false);\n  };\n\n  const mutate = ({\n    ids\n  }) => {\n    onStart();\n    return Promise.all(ids.map(idToMutationRequest)).then(onDone).catch(onError);\n  };\n\n  return [mutate, {\n    loading,\n    error\n  }];\n};","import { useDataQuery } from '@dhis2/app-runtime';\n/**\n * @TODO:\n *   * The endpoint requires a `.json`, ignores \"Accept\" header\n *     -> https://jira.dhis2.org/browse/DHIS2-9250\n *   * The \"fields\" param does not work\n *     -> https://jira.dhis2.org/browse/DHIS2-9241\n *   * id field is not present, only uid\n *     -> https://jira.dhis2.org/browse/DHIS2-9249\n */\n\nexport const GATEWAYS_QUERY = {\n  gateways: {\n    resource: 'gateways.json',\n    params: ({\n      fields,\n      filter\n    }) => {\n      const params = {};\n\n      if (fields) {\n        params.fields = fields;\n      }\n\n      if (filter) {\n        params.filter = filter;\n      }\n\n      return params;\n    }\n  }\n};\n/**\n * @param {string[]} [ids]\n * @return {Object}\n */\n\nexport const useReadGatewaysQuery = ids => {\n  var _parsedData$gateways;\n\n  /*\n   * @TODO(filtering): Currently the `id:in:[...]` doesn't work\n   *   -> https://jira.dhis2.org/browse/DHIS2-9259\n   *\n   * This is because filtering doesn't work right now\n   * So there's no need for sending any variables\n   */\n  const filter = `id:in:[${ids === null || ids === void 0 ? void 0 : ids.join(',')}]`;\n  const variables = false && ids ? {\n    filter\n  } : {}; // eslint-disable-line no-constant-condition\n\n  const {\n    data: jsonData,\n    ...rest\n  } = useDataQuery(GATEWAYS_QUERY, {\n    variables\n  });\n  const parsedData =\n  /**\n   * @TODO:\n   *   Create Jira issue for:\n   *   The response does not contain the right content type header\n   */\n  jsonData && typeof jsonData.gateways === 'string' ? {\n    gateways: JSON.parse(jsonData.gateways)\n  } : jsonData;\n  const data = ids && parsedData !== null && parsedData !== void 0 && (_parsedData$gateways = parsedData.gateways) !== null && _parsedData$gateways !== void 0 && _parsedData$gateways.gateways ? {\n    gateways: {\n      gateways: parsedData.gateways.gateways.filter(({\n        uid\n      }) => ids.includes(uid))\n    }\n  } : parsedData;\n  return {\n    data,\n    ...rest\n  };\n};","import { useDataMutation } from '@dhis2/app-runtime';\nexport const SET_DEFAULT_GATEWAY_MUTATION = {\n  resource: 'gateways/default',\n  type: 'replace',\n  id: ({\n    id\n  }) => id\n};\nexport const useSetDefaultGatewayMutation = () => useDataMutation(SET_DEFAULT_GATEWAY_MUTATION);","import { NoticeBox, CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport i18n from '../../locales/index.js';\nimport { ListActions, PageHeadline, DeleteConfirmationDialog, Paragraph, TemplateSidebarNavContent, dataTest } from '../../shared/index.js';\nimport { List } from './List.js';\nimport { useDeleteGatewaysMutation } from './useDeleteGatewaysMutation.js';\nimport { useReadGatewaysQuery } from './useReadGatewaysQuery.js';\nimport { useSetDefaultGatewayMutation } from './useSetDefaultGatewayMutation.js';\nimport styles from './ViewSmsGatewayList.module.css';\nexport const GATEWAY_CONFIG_LIST_PATH = '/sms-gateway';\nexport const GATEWAY_CONFIG_LIST_LABEL = i18n.t('Gateway configuration');\nexport const ViewSmsGatewayList = () => {\n  var _data$gateways, _data$gateways$gatewa;\n\n  const history = useHistory();\n\n  const onAddGatewayClick = () => history.push('/sms-gateway/new');\n\n  const [checkedGateways, setCheckedGateways] = useState([]);\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\n  const {\n    loading: loadingReadGateways,\n    error: errorReadGateways,\n    data,\n    refetch: refetchReadGateways\n  } = useReadGatewaysQuery();\n  const [deleteCheckedGateways, {\n    loading: loadingDelete,\n    error: errorDelete\n  }] = useDeleteGatewaysMutation();\n  const [makeGatewayDefault, {\n    loading: loadingSetDefault,\n    error: errorSetDefault\n  }] = useSetDefaultGatewayMutation();\n\n  const onDeleteClick = () => {\n    const variables = {\n      ids: checkedGateways\n    };\n    deleteCheckedGateways(variables).then(refetchReadGateways);\n    setShowDeleteDialog(false);\n  };\n\n  const onMakeDefaultClick = id => {\n    const variables = {\n      id\n    };\n    makeGatewayDefault(variables).then(refetchReadGateways);\n  };\n\n  const loading = loadingReadGateways || loadingDelete || loadingSetDefault;\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(TemplateSidebarNavContent, null, /*#__PURE__*/React.createElement(PageHeadline, null, GATEWAY_CONFIG_LIST_LABEL), /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null)));\n  }\n\n  const error = errorReadGateways || errorDelete || errorSetDefault;\n\n  if (error) {\n    const msg = i18n.t('Something went wrong whilst performing the requested operation');\n    return /*#__PURE__*/React.createElement(TemplateSidebarNavContent, null, /*#__PURE__*/React.createElement(PageHeadline, null, GATEWAY_CONFIG_LIST_LABEL), /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: msg\n    }, error.message));\n  }\n\n  const hasGateways = !!(data !== null && data !== void 0 && (_data$gateways = data.gateways) !== null && _data$gateways !== void 0 && (_data$gateways$gatewa = _data$gateways.gateways) !== null && _data$gateways$gatewa !== void 0 && _data$gateways$gatewa.length);\n  return /*#__PURE__*/React.createElement(TemplateSidebarNavContent, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container,\n    \"data-test\": dataTest('smsgateway-viewsmsgatewaylist')\n  }, /*#__PURE__*/React.createElement(PageHeadline, null, GATEWAY_CONFIG_LIST_LABEL), /*#__PURE__*/React.createElement(Paragraph, null, i18n.t('An SMS gateway lets a DHIS2 instance send and receive SMS messages. Different gateway types can be added and configured below. At least one gateway is needed to send and receive SMS messages. Load balancing will use all gateways if there are multiple available. Read about gateway configuration in the DHIS2 documentation.')), /*#__PURE__*/React.createElement(ListActions, {\n    addLabel: i18n.t('Add gateway'),\n    deleteLabel: i18n.t('Delete selected'),\n    dataTest: \"smsgateway-viewsmsgatewaylist\",\n    onAddClick: onAddGatewayClick,\n    onDeleteClick: () => setShowDeleteDialog(true),\n    disableAdd: loadingDelete,\n    disableDelete: !checkedGateways.length || loadingDelete\n  }), hasGateways ? /*#__PURE__*/React.createElement(List, {\n    processing: loading,\n    checkedGateways: checkedGateways,\n    setCheckedGateways: setCheckedGateways,\n    gateways: data.gateways.gateways,\n    onMakeDefaultClick: onMakeDefaultClick\n  }) : /*#__PURE__*/React.createElement(NoticeBox, {\n    info: true,\n    title: i18n.t('No gateways found')\n  }, i18n.t(\"It looks like there aren't any configured gateways, or they couldn't be loaded.\")), showDeleteDialog && /*#__PURE__*/React.createElement(DeleteConfirmationDialog, {\n    onCancelClick: () => setShowDeleteDialog(false),\n    onDeleteClick: onDeleteClick\n  }, i18n.t('Are you sure you want to delete the selected gateways?'))));\n};","import i18n from '@dhis2/d2-i18n';\nexport const translations = {\n  ALL: i18n.t('All'),\n  FAILED: i18n.t('Failed'),\n  INCOMING: i18n.t('Incoming'),\n  PROCESSED: i18n.t('Processed'),\n  PROCESSING: i18n.t('Processing'),\n  SENT: i18n.t('Sent'),\n  UNHANDLED: i18n.t('Unhandled')\n};","import i18n from '@dhis2/d2-i18n';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { Button, SingleSelectField, SingleSelectOption, InputField } from '@dhis2/ui';\nimport React from 'react';\nimport { dataTest } from '../../shared/index.js';\nimport { translations } from '../translations/index.js';\nimport styles from './Filter.module.css'; // From https://github.com/dhis2/dhis2-core/blob/ea76fa86409613c9766d4508d65c88ac55c413c3/dhis-2/dhis-api/src/main/java/org/hisp/dhis/sms/incoming/SmsMessageStatus.java\n\nconst STATUS_FILTER_OPTIONS = ['ALL', 'FAILED', 'INCOMING', 'PROCESSED', 'PROCESSING', 'SENT', 'UNHANDLED'].map(status => ({\n  value: status,\n  label: translations[status]\n}));\nexport const Filter = ({\n  status,\n  setStatus,\n  phoneNumber,\n  setPhoneNumber,\n  onReset\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  \"data-test\": dataTest('smsinbound-filter'),\n  className: styles.container\n}, /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.inputStrip\n}, /*#__PURE__*/React.createElement(SingleSelectField, {\n  label: i18n.t('Filter by status'),\n  inputWidth: \"200px\",\n  onChange: ({\n    selected\n  }) => setStatus(selected),\n  selected: status,\n  dataTest: dataTest('smsinbound-statusfilter')\n}, STATUS_FILTER_OPTIONS.map(({\n  label,\n  value\n}) => /*#__PURE__*/React.createElement(SingleSelectOption, {\n  key: label,\n  label: label,\n  value: value\n}))), /*#__PURE__*/React.createElement(InputField, {\n  label: i18n.t('Filter by phone number'),\n  inputWidth: \"250px\",\n  value: phoneNumber,\n  onChange: ({\n    value\n  }) => setPhoneNumber(value),\n  dataTest: \"phone-number-filter\"\n}), /*#__PURE__*/React.createElement(Button, {\n  large: true,\n  onClick: onReset,\n  dataTest: \"reset-filter-btn\"\n}, i18n.t('Reset filter'))));\nFilter.propTypes = {\n  phoneNumber: PropTypes.string.isRequired,\n  setPhoneNumber: PropTypes.func.isRequired,\n  setStatus: PropTypes.func.isRequired,\n  status: PropTypes.string.isRequired,\n  onReset: PropTypes.func.isRequired\n};","import i18n from '@dhis2/d2-i18n';\nimport { PropTypes } from '@dhis2/prop-types';\nimport { TableCell } from '@dhis2/ui';\nimport React from 'react';\nimport { Date, Time, SmsTable } from '../../shared/index.js';\nimport { translations } from '../translations/index.js';\nimport styles from './ReceivedSmsTable.module.css';\nexport const ReceivedSmsTable = ({\n  messages,\n  pager,\n  selectedIds,\n  setSelectedIds\n}) => /*#__PURE__*/React.createElement(SmsTable, {\n  messages: messages,\n  pager: pager,\n  selectedIds: selectedIds,\n  setSelectedIds: setSelectedIds,\n  columns: [i18n.t('Message'), i18n.t('Phone number'), i18n.t('Status'), i18n.t('Sender'), i18n.t('Received')],\n  rowRenderFn: message => {\n    var _message$user, _message$user$userCre;\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TableCell, null, message.text), /*#__PURE__*/React.createElement(TableCell, null, /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.originator\n    }, message.originator)), /*#__PURE__*/React.createElement(TableCell, null, translations[message.smsstatus]), /*#__PURE__*/React.createElement(TableCell, null, ((_message$user = message.user) === null || _message$user === void 0 ? void 0 : (_message$user$userCre = _message$user.userCredentials) === null || _message$user$userCre === void 0 ? void 0 : _message$user$userCre.username) || i18n.t('Unknown')), /*#__PURE__*/React.createElement(TableCell, null, /*#__PURE__*/React.createElement(Date, {\n      date: message.receiveddate\n    }), ', ', /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(Time, {\n      time: message.receiveddate\n    })));\n  }\n});\nReceivedSmsTable.propTypes = {\n  messages: PropTypes.arrayOf(PropTypes.object).isRequired,\n  pager: PropTypes.PropTypes.object.isRequired,\n  selectedIds: PropTypes.arrayOf(PropTypes.string).isRequired,\n  setSelectedIds: PropTypes.func.isRequired\n};","import { useDataMutation } from '@dhis2/app-runtime';\nconst DELETE_INBOUND_SMS_MUTATION = {\n  resource: 'sms/inbound',\n  type: 'delete',\n  params: ({\n    ids\n  }) => ({\n    ids\n  })\n};\nexport const useDeleteMutation = ({\n  onComplete,\n  onError\n}) => useDataMutation(DELETE_INBOUND_SMS_MUTATION, {\n  onComplete,\n  onError\n});","import { useDataQuery } from '@dhis2/app-runtime';\nimport { Button, NoticeBox, CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useDebouncedCallback } from 'use-debounce';\nimport i18n from '../../locales/index.js';\nimport { AlertContext, DeleteConfirmationDialog, PageHeadline, useQueryParams, TemplateSidebarNavContent, dataTest } from '../../shared/index.js';\nimport { Filter } from '../Filter/index.js';\nimport { ReceivedSmsTable } from '../ReceivedSmsTable/index.js';\nimport { useDeleteMutation } from './useDeleteMutation.js';\nimport styles from './ViewReceivedSmsList.module.css';\nexport const RECEIVED_SMS_LIST_LABEL = i18n.t('Received');\nexport const RECEIVED_SMS_LIST_PATH = '/received';\n\nconst parseParams = ({\n  page,\n  pageSize,\n  phoneNumber,\n  status\n}) => {\n  const params = {\n    page,\n    pageSize,\n    fields: ['id', 'text', 'originator', 'smsstatus', 'user[userCredentials[username]]', // sender\n    'receiveddate'],\n    order: 'receiveddate:desc'\n  };\n  const filters = [];\n\n  if (phoneNumber) {\n    filters.push(`originator:ilike:${phoneNumber}`);\n  }\n\n  if (status && status !== 'ALL') {\n    filters.push(`smsstatus:eq:${status}`);\n  }\n\n  if (filters.length > 0) {\n    params.filter = filters;\n  }\n\n  return params;\n};\n\nconst query = {\n  inboundSms: {\n    resource: 'sms/inbound',\n    params: parseParams\n  }\n};\nexport const ViewReceivedSmsList = () => {\n  var _data$inboundSms;\n\n  const [showDeleteConfirmationDialog, setShowDeleteConfirmationDialog] = useState(false);\n  const [selectedIds, setSelectedIds] = useState([]);\n  const [queryParams, setQueryParams] = useQueryParams();\n  const {\n    page,\n    pageSize,\n    phoneNumber,\n    status\n  } = queryParams;\n\n  const setPhoneNumber = phoneNumber => {\n    setQueryParams({\n      phoneNumber,\n      page: 1\n    }, 'replaceIn');\n  };\n\n  const setStatus = status => {\n    setQueryParams({\n      status,\n      page: 1\n    });\n  };\n\n  const handleFilterReset = () => {\n    setQueryParams({\n      phoneNumber: undefined,\n      status: undefined,\n      page: 1\n    });\n  };\n\n  const {\n    called,\n    loading,\n    error,\n    data,\n    refetch\n  } = useDataQuery(query, {\n    lazy: true\n  });\n  const {\n    callback: debouncedRefetch\n  } = useDebouncedCallback(refetch, 500, {\n    leading: true\n  });\n  useEffect(() => {\n    debouncedRefetch({\n      page,\n      pageSize,\n      phoneNumber,\n      status\n    });\n  }, [page, pageSize, phoneNumber, status]);\n  const {\n    addAlert\n  } = useContext(AlertContext);\n  const [deleteSms] = useDeleteMutation({\n    onComplete: () => {\n      setShowDeleteConfirmationDialog(false);\n      refetch();\n      setSelectedIds([]);\n    },\n    onError: error => addAlert({\n      type: 'critical',\n      message: error.message\n    })\n  });\n\n  const onDeleteClick = () => deleteSms({\n    ids: selectedIds\n  });\n\n  const onCancelClick = () => setShowDeleteConfirmationDialog(false);\n\n  if (error) {\n    const msg = i18n.t('Something went wrong whilst loading received SMSes');\n    return /*#__PURE__*/React.createElement(TemplateSidebarNavContent, null, /*#__PURE__*/React.createElement(PageHeadline, null, RECEIVED_SMS_LIST_LABEL), /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: msg\n    }, error.message));\n  }\n\n  const messages = (data === null || data === void 0 ? void 0 : (_data$inboundSms = data.inboundSms) === null || _data$inboundSms === void 0 ? void 0 : _data$inboundSms.inboundsmss) || [];\n  return /*#__PURE__*/React.createElement(TemplateSidebarNavContent, null, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest('smsinbound-viewreceivedsmslist'),\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(PageHeadline, null, RECEIVED_SMS_LIST_LABEL), /*#__PURE__*/React.createElement(\"header\", {\n    className: styles.header\n  }, /*#__PURE__*/React.createElement(Filter, {\n    status: status,\n    setStatus: setStatus,\n    phoneNumber: phoneNumber,\n    setPhoneNumber: setPhoneNumber,\n    onReset: handleFilterReset\n  }), /*#__PURE__*/React.createElement(Button, {\n    destructive: true,\n    onClick: () => setShowDeleteConfirmationDialog(true),\n    disabled: selectedIds.length === 0\n  }, i18n.t('Delete selected')), showDeleteConfirmationDialog && /*#__PURE__*/React.createElement(DeleteConfirmationDialog, {\n    onCancelClick: onCancelClick,\n    onDeleteClick: onDeleteClick\n  }, i18n.t('Are you sure you want to delete the selected sms?'))), loading || !called ? /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null)) : /*#__PURE__*/React.createElement(ReceivedSmsTable, {\n    messages: messages,\n    pager: data.inboundSms.pager,\n    selectedIds: selectedIds,\n    setSelectedIds: setSelectedIds\n  })));\n};","import i18n from '@dhis2/d2-i18n';\nexport const translations = {\n  ALL: i18n.t('All'),\n  DELIVERED: i18n.t('Delivered'),\n  ERROR: i18n.t('Error'),\n  FAILED: i18n.t('Failed'),\n  OUTBOUND: i18n.t('Outbound'),\n  PENDING: i18n.t('Pending'),\n  SCHEDULED: i18n.t('Scheduled'),\n  SENT: i18n.t('Sent')\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { TableCell } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { SmsTable, Date, Time } from '../../shared/index.js';\nimport { translations } from '../translations/index.js';\nimport styles from './SentSmsTable.module.css';\nexport const SentSmsTable = ({\n  messages,\n  pager,\n  selectedIds,\n  setSelectedIds\n}) => /*#__PURE__*/React.createElement(SmsTable, {\n  messages: messages,\n  pager: pager,\n  selectedIds: selectedIds,\n  setSelectedIds: setSelectedIds,\n  columns: [i18n.t('Message'), i18n.t('Recipients'), i18n.t('Status'), i18n.t('Sent')],\n  rowRenderFn: message => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TableCell, null, message.message), /*#__PURE__*/React.createElement(TableCell, null, (message.recipients || []).map((recipient, index, all) => /*#__PURE__*/React.createElement(\"span\", {\n    key: recipient + index,\n    className: styles.recipient\n  }, recipient, index !== all.length - 1 && ', '))), /*#__PURE__*/React.createElement(TableCell, null, translations[message.status]), /*#__PURE__*/React.createElement(TableCell, null, /*#__PURE__*/React.createElement(Date, {\n    date: message.date\n  }), ', ', /*#__PURE__*/React.createElement(\"br\", null), /*#__PURE__*/React.createElement(Time, {\n    time: message.date\n  })))\n});\nSentSmsTable.propTypes = {\n  messages: PropTypes.arrayOf(PropTypes.object).isRequired,\n  pager: PropTypes.PropTypes.object.isRequired,\n  selectedIds: PropTypes.arrayOf(PropTypes.string).isRequired,\n  setSelectedIds: PropTypes.func.isRequired\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { SingleSelectField, SingleSelectOption } from '@dhis2/ui';\nimport React from 'react';\nimport i18n from '../../locales/index.js';\nimport { dataTest } from '../../shared/index.js';\nimport { translations } from '../translations/index.js';\nimport styles from './StatusFilter.module.css'; // From https://github.com/dhis2/dhis2-core/blob/ea76fa86409613c9766d4508d65c88ac55c413c3/dhis-2/dhis-api/src/main/java/org/hisp/dhis/sms/outbound/OutboundSmsStatus.java\n\nconst STATUS_FILTER_OPTIONS = ['ALL', 'DELIVERED', 'ERROR', 'FAILED', 'OUTBOUND', 'PENDING', 'SCHEDULED', 'SENT'].map(status => ({\n  value: status,\n  label: translations[status]\n}));\nexport const StatusFilter = ({\n  status,\n  setStatus\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  className: styles.container\n}, /*#__PURE__*/React.createElement(SingleSelectField, {\n  label: i18n.t('Filter by status'),\n  inputWidth: \"200px\",\n  onChange: ({\n    selected\n  }) => setStatus(selected),\n  selected: status,\n  dataTest: dataTest('smsoutbound-statusfilter')\n}, STATUS_FILTER_OPTIONS.map(({\n  label,\n  value\n}) => /*#__PURE__*/React.createElement(SingleSelectOption, {\n  key: label,\n  label: label,\n  value: value\n}))));\nStatusFilter.propTypes = {\n  setStatus: PropTypes.func.isRequired,\n  status: PropTypes.string.isRequired\n};","import { useDataMutation } from '@dhis2/app-runtime';\nconst DELETE_OUTBOUND_SMS_MUTATION = {\n  resource: 'sms/outbound',\n  type: 'delete',\n  params: ({\n    ids\n  }) => ({\n    ids\n  })\n};\nexport const useDeleteMutation = ({\n  onComplete,\n  onError\n}) => useDataMutation(DELETE_OUTBOUND_SMS_MUTATION, {\n  onComplete,\n  onError\n});","import { useDataQuery } from '@dhis2/app-runtime';\nimport { Button, NoticeBox, CenteredContent, CircularLoader } from '@dhis2/ui';\nimport React, { useState, useEffect, useContext } from 'react';\nimport i18n from '../../locales/index.js';\nimport { DeleteConfirmationDialog, PageHeadline, AlertContext, TemplateSidebarNavContent, useQueryParams } from '../../shared/index.js';\nimport { SentSmsTable } from '../SentSmsTable/index.js';\nimport { StatusFilter } from '../StatusFilter/index.js';\nimport { useDeleteMutation } from './useDeleteMutation.js';\nimport styles from './ViewSentSmsList.module.css';\nexport const SENT_SMS_LIST_LABEL = i18n.t('Sent');\nexport const SENT_SMS_LIST_PATH = '/sent';\n\nconst parseParams = ({\n  status,\n  page,\n  pageSize\n}) => {\n  const params = {\n    pageSize,\n    page,\n    fields: ['id', 'message', 'status', 'date', 'recipients'],\n    order: 'date:desc'\n  };\n\n  if (status && status !== 'ALL') {\n    params.filter = `status:eq:${status}`;\n  }\n\n  return params;\n};\n\nconst query = {\n  sms: {\n    resource: 'sms/outbound',\n    params: parseParams\n  }\n};\nexport const ViewSentSmsList = () => {\n  var _data$sms;\n\n  const [showDeleteConfirmationDialog, setShowDeleteConfirmationDialog] = useState(false);\n  const [selectedIds, setSelectedIds] = useState([]);\n  const [queryParams, setQueryParams] = useQueryParams();\n  const {\n    page,\n    pageSize,\n    status\n  } = queryParams;\n\n  const setStatus = status => {\n    setQueryParams({\n      status,\n      page: 1\n    });\n  };\n\n  const {\n    called,\n    loading,\n    error,\n    data,\n    refetch\n  } = useDataQuery(query, {\n    lazy: true\n  });\n  useEffect(() => {\n    refetch({\n      page,\n      pageSize,\n      status\n    });\n  }, [page, pageSize, status]);\n  const {\n    addAlert\n  } = useContext(AlertContext);\n  const [deleteSms] = useDeleteMutation({\n    onComplete: () => {\n      setShowDeleteConfirmationDialog(false);\n      refetch();\n      setSelectedIds([]);\n    },\n    onError: error => addAlert({\n      type: 'critical',\n      message: error.message\n    })\n  });\n\n  const onDeleteClick = () => deleteSms({\n    ids: selectedIds\n  });\n\n  const onCancelClick = () => setShowDeleteConfirmationDialog(false);\n\n  if (error) {\n    const msg = i18n.t('Something went wrong whilst loading sent SMSes');\n    return /*#__PURE__*/React.createElement(TemplateSidebarNavContent, null, /*#__PURE__*/React.createElement(PageHeadline, null, SENT_SMS_LIST_LABEL), /*#__PURE__*/React.createElement(NoticeBox, {\n      error: true,\n      title: msg\n    }, error.message));\n  }\n\n  const messages = (data === null || data === void 0 ? void 0 : (_data$sms = data.sms) === null || _data$sms === void 0 ? void 0 : _data$sms.outboundsmss) || [];\n  return /*#__PURE__*/React.createElement(TemplateSidebarNavContent, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.container\n  }, /*#__PURE__*/React.createElement(PageHeadline, null, SENT_SMS_LIST_LABEL), /*#__PURE__*/React.createElement(\"header\", {\n    className: styles.header\n  }, /*#__PURE__*/React.createElement(StatusFilter, {\n    status: status,\n    setStatus: setStatus\n  }), /*#__PURE__*/React.createElement(Button, {\n    destructive: true,\n    onClick: () => setShowDeleteConfirmationDialog(true),\n    disabled: selectedIds.length === 0\n  }, i18n.t('Delete selected')), showDeleteConfirmationDialog && /*#__PURE__*/React.createElement(DeleteConfirmationDialog, {\n    onCancelClick: onCancelClick,\n    onDeleteClick: onDeleteClick\n  }, i18n.t('Are you sure you want to delete the selected sms?'))), loading || !called ? /*#__PURE__*/React.createElement(CenteredContent, null, /*#__PURE__*/React.createElement(CircularLoader, null)) : /*#__PURE__*/React.createElement(SentSmsTable, {\n    messages: messages,\n    pager: data.sms.pager,\n    selectedIds: selectedIds,\n    setSelectedIds: setSelectedIds\n  })));\n};","import { PropTypes } from '@dhis2/prop-types';\nimport { Card } from '@dhis2/ui';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport s from './HomeCard.module.css';\nexport const HomeCard = ({\n  titleText,\n  bodyText,\n  linkText,\n  to\n}) => {\n  return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: s.container\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: s.title\n  }, titleText), /*#__PURE__*/React.createElement(\"p\", {\n    className: s.body\n  }, bodyText), /*#__PURE__*/React.createElement(\"div\", {\n    className: s.linkContainer\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: s.link,\n    to: to\n  }, linkText))));\n};\nHomeCard.propTypes = {\n  bodyText: PropTypes.string.isRequired,\n  linkText: PropTypes.string.isRequired,\n  titleText: PropTypes.string.isRequired,\n  to: PropTypes.string.isRequired\n};","import React from 'react';\nimport i18n from '../../locales/index.js';\nimport { PageHeadline, TemplateSidebarNavContent, dataTest } from '../../shared/index.js';\nimport { HomeCard } from '../HomeCard/index.js';\nimport s from './ViewOverview.module.css';\nexport const ViewOverview = () => {\n  return /*#__PURE__*/React.createElement(TemplateSidebarNavContent, null, /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": dataTest('views-home'),\n    className: s.container\n  }, /*#__PURE__*/React.createElement(PageHeadline, null, i18n.t('Overview: SMS Configuration', {\n    nsSeparator: '>'\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    className: s.explanation\n  }, i18n.t('Configure settings for SMS sending, receiving, data reporting, alerts, registration and more.')), /*#__PURE__*/React.createElement(\"div\", {\n    className: s.grid\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: s.gridItem\n  }, /*#__PURE__*/React.createElement(HomeCard, {\n    titleText: i18n.t('Gateway Configuration'),\n    bodyText: i18n.t('Add and manage gateways for sending and receiving SMS messages in DHIS2.'),\n    linkText: i18n.t('Set up gateways'),\n    to: \"/sms-gateway\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: s.gridItem\n  }, /*#__PURE__*/React.createElement(HomeCard, {\n    titleText: i18n.t('SMS Commands'),\n    bodyText: i18n.t('Add and manage commands triggered by incoming SMS messages to register, alert and more.'),\n    linkText: i18n.t('Set up SMS commands'),\n    to: \"/sms-command\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: s.gridItem\n  }, /*#__PURE__*/React.createElement(HomeCard, {\n    titleText: i18n.t('Sent SMS messages'),\n    bodyText: i18n.t('Open logs of all SMS messages sent from DHIS2.'),\n    linkText: i18n.t('View all sent SMS'),\n    to: \"/sent\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: s.gridItem\n  }, /*#__PURE__*/React.createElement(HomeCard, {\n    titleText: i18n.t('Received SMS messages'),\n    bodyText: i18n.t('Open logs of all SMS messages received by DHIS2.'),\n    linkText: i18n.t('View all received SMS'),\n    to: \"/received\"\n  })))));\n};","import { App } from './App.js';\nexport default App;","import './locales/index.js';\nimport React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport { AppWrapper } from './AppWrapper.js';\nimport { ViewSmsCommandAdd, ViewSmsCommandList, ViewSmsCommandEdit } from './sms-command/index.js';\nimport { ViewSmsGatewayAdd, ViewSmsGatewayList, ViewSmsGatewayEdit } from './sms-gateway/index.js';\nimport { ViewReceivedSmsList } from './sms-inbound/index.js';\nimport { ViewSentSmsList } from './sms-outbound/index.js';\nimport { ViewOverview } from './sms-overview/index.js';\nexport const App = () => /*#__PURE__*/React.createElement(AppWrapper, null, /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  path: \"/\",\n  component: ViewOverview\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  path: \"/sms-gateway\",\n  component: ViewSmsGatewayList\n}), /*#__PURE__*/React.createElement(Route, {\n  path: \"/sms-gateway/new\",\n  component: ViewSmsGatewayAdd\n}), /*#__PURE__*/React.createElement(Route, {\n  path: \"/sms-gateway/:id\",\n  component: ViewSmsGatewayEdit\n}), /*#__PURE__*/React.createElement(Route, {\n  exact: true,\n  path: \"/sms-command\",\n  component: ViewSmsCommandList\n}), /*#__PURE__*/React.createElement(Route, {\n  path: \"/sms-command/new\",\n  component: ViewSmsCommandAdd\n}), /*#__PURE__*/React.createElement(Route, {\n  path: \"/sms-command/:id\",\n  component: ViewSmsCommandEdit\n}), /*#__PURE__*/React.createElement(Route, {\n  path: \"/sent\",\n  component: ViewSentSmsList\n}),\n/* View received sms */\n'', /*#__PURE__*/React.createElement(Route, {\n  path: \"/received\",\n  component: ViewReceivedSmsList\n}),\n/* Handle 404 */\n'', /*#__PURE__*/React.createElement(Redirect, {\n  from: \"*\",\n  to: \"/\"\n})));"],"sourceRoot":""}